(this.webpackJsonpsurvey=this.webpackJsonpsurvey||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){},158:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);n(60),n(90);var r=n(17),c=n.n(r),i=n(18),s=n(0),a=n.n(s),o=n(16),l=n(3),u=n(15),d=(n(95),n(59)),j=n(11);n(96);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function h(e,t){var n=e.title,r=e.titleId,c=f(e,["title","titleId"]);return s.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:105,height:80,viewBox:"0 0 105.4 80.3",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"M5.2 4.6 52.7 77 100.2 4.6 52.7 28.4Z",style:{fill:"#662485",strokeWidth:4,stroke:"#662485"}}))}var p,O=s.forwardRef(h),m=(n.p,n(1)),x=function(e){var t=e.revealNext,n=e.handleClicked;return t?Object(m.jsxs)("button",{className:"next-button",onClick:n,children:[Object(m.jsx)("div",{children:"Next"}),Object(m.jsx)(O,{className:"arrow"})]}):""};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function y(e,t){var n=e.title,r=e.titleId,c=g(e,["title","titleId"]);return s.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:41.143,height:41.143,viewBox:"0 0 10.886 10.886",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,p||(p=s.createElement("circle",{cx:38.947,cy:8.167,r:4.914,opacity:.96,fill:"#fff",fillRule:"evenodd",stroke:"#fff",strokeWidth:1.058,transform:"translate(-33.504 -2.724)"})))}var w,S=s.forwardRef(y);n.p;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function N(e,t){var n=e.title,r=e.titleId,c=C(e,["title","titleId"]);return s.createElement("svg",k({width:41.143,height:41.143,viewBox:"0 0 10.886 10.886",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,w||(w=s.createElement("circle",{cx:5.443,cy:5.443,r:5.1529,fill:"none",opacity:.96,stroke:"#fff",strokeWidth:.50001})))}var _=s.forwardRef(N),q=(n.p,function(e){var t=e.responses,n=e.handleResponded,r=Object(s.useState)(-1),c=Object(l.a)(r,2),i=c[0],a=c[1];return Object(s.useEffect)((function(){n(i>-1?i:null)}),[n,i]),Object(m.jsx)("div",{className:"question-mc option-box",children:t.map((function(e,t){return Object(m.jsxs)("div",{className:t===i?"option selected":"option",onClick:function(){return a(t)},children:[Object(m.jsx)("div",{className:"response",children:e}),(n=i,r=t,n===r?Object(m.jsx)(S,{className:"indicator"}):Object(m.jsx)(_,{className:"indicator"}))]},t);var n,r}))})}),E=function(e){var t=e.question,n=e.handleYes,r=e.handleClickedNext,c=Object(s.useState)(!1),i=Object(l.a)(c,2),a=i[0],o=i[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:t}),Object(m.jsx)(q,{responses:["Yes","No"],handleResponded:function(e){1===e?o(!0):0===e&&(o(!1),n())}}),Object(m.jsx)("div",{className:"next",children:Object(m.jsx)(x,{revealNext:a,handleClicked:r})})]})};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function T(e,t){var n=e.title,r=e.titleId,c=D(e,["title","titleId"]);return s.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:53,height:53,viewBox:"0 0 52.9 52.9",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,s.createElement("rect",{width:52.9,height:52.9,style:{fill:"#fff",strokeWidth:4}}))}var Q=s.forwardRef(T);n.p;function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function R(e,t){var n=e.title,r=e.titleId,c=P(e,["title","titleId"]);return s.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:53,height:53,viewBox:"0 0 52.9 52.9",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,s.createElement("rect",{width:52.9,height:52.9,style:{fill:"none",strokeWidth:4,stroke:"#fff"}}))}var F=s.forwardRef(R),M=(n.p,function(e,t){return!0===e[t]?Object(m.jsx)(Q,{className:"indicator"}):Object(m.jsx)(F,{className:"indicator"})}),L=function(e){var t=e.responses,n=e.handleResponded;t=[].concat(Object(u.a)(t),["None of the above"]);for(var r=[],c=0;c<t.length;c++)r[c]=!1;var i=Object(s.useState)(r),a=Object(l.a)(i,2),o=a[0],d=a[1];return Object(s.useEffect)((function(){o.find((function(e){return!0===e}))?n(o):n(null)}),[o,n]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Select all that apply."}),Object(m.jsx)("div",{className:"question-ms option-box",children:t.map((function(e,t){return Object(m.jsxs)("div",{className:o[t]?"option selected":"option",onClick:function(){d(function(e,t){if(t===e.length-1)for(var n=0;n<t;n++)e[n]=!1;return e[e.length-1]&&t!==e.length-1&&(e[e.length-1]=!1),e[t]=!e[t],e}(Object(u.a)(o),t))},children:[Object(m.jsx)("div",{className:"response",children:e}),M(o,t)]},t)}))})]})},B=(n(98),n(31)),W=n.n(B),H=W.a.object({textfield:W.a.string().min(2).max(300).required().label("Answer")});var U=function(e){var t=e.handleResponded,n=e.config,r=n?n.maxLength:void 0,c=Object(s.useState)(null),i=Object(l.a)(c,2),a=i[0],o=i[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(s.useEffect)((function(){t(a)}),[t,a]),Object(m.jsxs)("div",{className:"question-fr",children:[Object(m.jsx)("textarea",{maxLength:r||25,rows:"6",placeholder:"Write your answer here",onChange:function(e){return function(e,t,n){var r=e.target.value,c=H.validate({textfield:r}).error;c?(t(null),n(c.message)):(t(r),n(""))}(e,o,b)}}),Object(m.jsx)("div",{className:"error",children:j})]})},G=(n(118),n(119),function(e){var t=e.text,n=e.onClick;return Object(m.jsx)("button",{className:"user-button",onClick:n,children:t})});function K(e,t){return Object(m.jsx)(q,{responses:["Yes","No"],handleResponded:function(n){!function(e,t,n){0===e?(t(!0),n(!1)):1===e&&(n(!0),t(!1))}(n,e,t)}})}var Y=function(e){e.responses;var t=e.handleResponded,n=Object(s.useState)(!1),r=Object(l.a)(n,2),c=r[0],i=r[1],a=Object(s.useState)(!1),o=Object(l.a)(a,2),u=o[0],d=o[1],j=Object(s.useState)("#000000"),b=Object(l.a)(j,2),f=b[0],h=b[1],p=[i,d];return Object(s.useEffect)((function(){var e="No Color";c&&(e=f),t(c||u?e:null)})),u||!c&!u?K.apply(void 0,p):Object(m.jsxs)("div",{className:"question-color",children:[Object(m.jsx)("p",{children:"Select the color: "}),Object(m.jsx)("input",{type:"color",onChange:function(e){return h(e.target.value)}}),Object(m.jsx)(G,{text:"Go Back",onClick:function(){i(!1)}})]})},V=n(88),z=(n(121),function(e){var t=e.handleResponded;return Object(m.jsxs)("div",{children:[["1: Strongly Disagree","2: Disagree","3: Neutral","4: Agree","5: Strongly Agree"].map((function(e){return Object(m.jsx)("h2",{children:e})})),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"15rem",margin:"0 auto"},children:[Object(m.jsx)("label",{htmlFor:"slider",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[1,2,3,4,5].map((function(e){return Object(m.jsx)("p",{style:{fontWeight:"bold"},children:e},e)}))}),Object(m.jsx)(V.a,{id:"slider",min:1,max:5,defaultValue:3,railStyle:{backgroundColor:"#2f4858"},trackStyle:{backgroundColor:"#2f4858"},handleStyle:{backgroundColor:"#eadbec",borderColor:"#662485",height:"3rem",width:"3rem",marginTop:"-22px"},onChange:function(e){t(e)}})]})]})});function J(e,t,n){t(e),n(!0)}function Z(e,t,n,r){var c={responses:t,handleResponded:n,config:r};return"multiple-choice"===e?Object(m.jsx)(q,Object(j.a)({},c)):"check-box"===e?Object(m.jsx)(L,Object(j.a)({},c)):"short-answer"===e?Object(m.jsx)(U,Object(j.a)({},c)):"color"===e?Object(m.jsx)(Y,Object(j.a)({},c)):"slider"===e?Object(m.jsx)(z,Object(j.a)({},c)):void 0}var $,X=function(e){var t=e.question,n=e.handleResponse,r=t.type,c=t.responses,i=t.config,a=t.ask,o=Object(s.useState)(null),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(s.useState)(t.config&&t.config.condQuestion),f=Object(l.a)(b,2),h=f[0],p=f[1],O=Object(s.useState)(!1),v=Object(l.a)(O,2),g=v[0],y=v[1];return Object(m.jsxs)("div",{children:[h&&Object(m.jsx)("div",{className:"question",children:Object(m.jsx)(E,{question:t.config.condQuestion,handleYes:function(){return p(!1)},handleClickedNext:function(){J("Cond No",n,y)}})}),!h&&Object(m.jsxs)("div",{className:"question",children:[Object(m.jsx)("h1",{children:a}),Z(r,c,(function(e){j(e)}),i),Object(m.jsx)("div",{className:"next",children:Object(m.jsx)(x,{revealNext:null!==d&!g,handleClicked:function(){J(d,n,y)}})})]})]})},ee=function(e){var t=e.questions,n=e.currentQuestion,r=e.handleResponse;return Object(d.b)(t[n],(function(e){return e.ask}),{from:{transform:0===n?"translate3d(0, 0%, 0)":"translate3d(0, 100%, 0)"},enter:{transform:"translate3d(0, 0, 0)"},leave:{transform:n===t.length-1?"translate3d(0, 0, 0)":"translate3d(0, -100%, 0)"}}).map((function(e){var t=e.item,n=e.props,c=e.key;return Object(m.jsx)(d.a.div,{className:"question-animator",style:n,children:Object(m.jsx)(X,{question:t,handleResponse:r})},c)}))},te=(n(122),n(123),function(e,t){for(var n=[],r=0;r<e;r++)r<t?n.push(Object(m.jsx)(S,{className:"circle"},r)):n.push(Object(m.jsx)(_,{className:"circle"},r));return n}),ne=function(e){var t=e.numQuestions,n=e.currentQuestion;return Object(m.jsx)("div",{className:"fixed-UI",children:Object(m.jsx)("div",{className:"circles",children:te(t,n)})})},re=n(9),ce=n.n(re),ie=n(10),se=(n(124),n(45));function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function le(e,t){var n=e.title,r=e.titleId,c=oe(e,["title","titleId"]);return s.createElement("svg",ae({width:"27.059mm",height:"26.944mm",viewBox:"0 0 27.059 26.944",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,$||($=s.createElement("g",{transform:"translate(-89.884 -78.943)"},s.createElement("path",{transform:"matrix(1.1129 0 0 .99792 -10.183 .19219)",d:"m113.73 92.415c0 1.2974-21.347 13.622-22.471 12.974-1.1235-0.64868-1.1235-25.298 0-25.947 1.1235-0.64868 22.471 11.676 22.471 12.974z",fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc"}))))}var ue,de,je=s.forwardRef(le);n.p;function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function he(e,t){var n=e.title,r=e.titleId,c=fe(e,["title","titleId"]);return s.createElement("svg",be({width:"27.059mm",height:"26.944mm",viewBox:"0 0 27.059 26.944",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,ue||(ue=s.createElement("rect",{x:16.527,y:.74865,width:7.4985,height:25.447,rx:.17777,ry:.22071,fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc",strokeWidth:1.4973})),de||(de=s.createElement("rect",{x:3.0334,y:.74865,width:7.4985,height:25.447,rx:.17777,ry:.22071,fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc",strokeWidth:1.4973})))}var pe=s.forwardRef(he),Oe=(n.p,function(e){switch(e.playState){case"paused":return Object(m.jsx)(je,{className:"player play-button"});case"playing":return Object(m.jsx)(pe,{className:"player pause-buton"});default:return"Error"}}),me=function(e){var t=e.canContinue,n=e.handleContinueClicked;return t&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"1rem"},children:[Object(m.jsx)("button",{className:"music-continue",onClick:n,children:"Continue to questions"}),Object(m.jsx)("p",{children:"Note: Continuing will end the music."})]})},xe=function(e,t,n){switch(e){case"paused":return n.play(),void t("playing");case"playing":return n.pause(),void t("paused");default:return}},ve=(n(125),function(e){var t=Object(s.useState)(0),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(s.useRef)(null),a=e.size,o=e.progress,u=e.strokeWidth,d=a/2,j=a/2-u/2,b=2*Math.PI*j;return Object(s.useEffect)((function(){c((100-o)/100*b),i.current.style="transition: stroke-dashoffset 300ms linear"}),[c,o,b,r]),Object(m.jsx)("div",{className:"progress-bar",children:Object(m.jsxs)("svg",{className:"svg",width:a,height:a,children:[Object(m.jsx)("circle",{className:"svg-circle-bg",cx:d,cy:d,r:j,strokeWidth:u}),Object(m.jsx)("circle",{className:"svg-circle",ref:i,cx:d,cy:d,r:j,strokeWidth:u,strokeDasharray:b,strokeDashoffset:r})]})})}),ge=n(22),ye=n.n(ge),we=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_PORT:"31313"}),Se=we.REACT_APP_LOCALHOST,ke=we.REACT_APP_API_PORT,Ce=Se?"http://localhost:".concat(ke):"https://sonicremedies.net:".concat(ke),Ne=function(e){console.error(e.message)},_e={postToken:function(){ye.a.defaults.headers.common.authorization=localStorage.getItem("token")},refreshLogin:function(){window.confirm("Your session is about to expire. Would you like to extend it another 30 minutes?")&&ye.a.get(Ce+"/login/refresh").then((function(e){console.log(e.data),localStorage.setItem("token",e.data),ye.a.defaults.headers.common.authorization=localStorage.getItem("token")})).catch(Ne)},getAll:function(e){return ye.a.get(Ce+"/"+e).then((function(e){return e.data})).catch(Ne)},getOne:function(e,t){return ye.a.get(Ce+"/"+e+"/"+t).then((function(e){return e.data})).catch(Ne)},getOneFile:function(e,t){return ye()({method:"GET",url:Ce+"/"+e+"/"+t,responseType:"blob"}).then((function(e){return e.data})).catch(Ne)},post:function(e,t){return ye.a.post(Ce+"/"+e,t).then((function(e){return e.data})).catch(Ne)},postForm:function(e,t){return ye()({method:"post",url:Ce+"/"+e,data:t,headers:{"Content-Type":"multipart/form-data"}})},deleteOne:function(e,t){return ye.a.delete(Ce+"/"+e+"/"+t).then((function(e){return e.data})).catch(Ne)},patch:function(e,t){return ye.a.patch(Ce+"/"+e,t).then((function(e){return e.data})).catch(Ne)},patchOne:function(e,t,n){return ye.a.patch(Ce+"/"+e+"/"+t,n).then((function(e){return e.data})).catch(Ne)},putOne:function(e,t,n){return ye.a.put(Ce+"/"+e+"/"+t,n).then((function(e){return e.data})).catch(Ne)}},qe=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n){var r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getOneFile("music/files",t);case 2:r=e.sent,(c=new se.Howl({src:[URL.createObjectURL(r)],html5:!0,format:"mp3"})).on("loaderror",(function(){throw Error("Howler error loading downloaded file")})),n(c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(e){var t=e.filename,n=e.handleMusicDone,r=Object(s.useState)("paused"),c=Object(l.a)(r,2),i=c[0],a=c[1],o=Object(s.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(s.useState)(null),f=Object(l.a)(b,2),h=f[0],p=f[1],O=Object(s.useState)(0),x=Object(l.a)(O,2),v=x[0],g=x[1],y=Object(s.useCallback)((function(){h.seek()>h.duration()/2&&(clearInterval(y),j(!0))}),[h]),w=Object(s.useCallback)((function(){g(h.seek()/h.duration()*100)}),[h]);return Object(s.useEffect)((function(){!h&&t&&qe(t+".mp3",p)}),[h,t]),Object(s.useEffect)((function(){if(h){var e=setInterval(y,1e3),t=setInterval(w,300);return h.on("end",(function(){h.seek(0),a("paused")})),function(){clearInterval(e),clearInterval(t),h.unload()}}}),[y,w,h]),h?Object(m.jsxs)(s.Fragment,{children:[Object(m.jsxs)("div",{className:"music-player",onClick:function(){return xe(i,a,h)},children:[Object(m.jsx)(ve,{size:180,progress:v,strokeWidth:6}),Object(m.jsx)(Oe,{playState:i})]}),Object(m.jsx)(me,{canContinue:d,handleContinueClicked:function(){h.pause(),n()}})]}):Object(m.jsx)("h1",{children:"Loading audio..."})},Ae=(n(144),function(e){var t=e.setId,n=e.totalSets,r=e.clickContinue;return Object(m.jsxs)("div",{className:"orientation-page global-container",children:[Object(m.jsxs)("h1",{children:["Question set ",t+1," / ",n]}),Object(m.jsx)(G,{text:"Continue",onClick:r})]})}),De=(n(145),function(){return Object(m.jsx)("div",{className:"global-container complete-page",children:Object(m.jsx)("h1",{children:"You have completed the survey. Thank you!"})})}),Te=function(e){var t=e.musicFilename,n=e.setId,r=e.set,c=e.setCurrentSet,i=e.totalSets,a=e.postResponse,o=r.questions,d=Object(s.useState)(0),j=Object(l.a)(d,2),b=j[0],f=j[1],h=Object(s.useState)("orientation"),p=Object(l.a)(h,2),O=p[0],x=p[1],v=Object(s.useState)([]),g=Object(l.a)(v,2),y=g[0],w=g[1];switch(O){case"orientation":return Object(m.jsx)(Ae,{setId:n,totalSets:i,clickContinue:function(){r.music?x("music"):x("questions")}});case"music":return Object(m.jsx)("div",{className:"music-page global-container",children:Object(m.jsx)(Ee,{filename:t,handleMusicDone:function(){x("questions")}})});case"questions":return Object(m.jsxs)("div",{className:"set global-container",children:[Object(m.jsx)("div",{className:"set-questions",children:Object(m.jsx)(ee,{questions:o,currentQuestion:b,handleResponse:function(e){var t=[].concat(Object(u.a)(y),[e]);w(t),b===o.length-1?n!==i-1?(f(0),c(n+1),x("orientation")):(x("complete"),a(t)):(console.log("Got here"),f(b+1))}})}),Object(m.jsx)(ne,{numQuestions:o.length,currentQuestion:b})]});case"complete":return Object(m.jsx)(De,{});default:return null}},Qe=n(80),Ie={sets:[{questions:["60d88f7590d16c3cc8c9b088","60d88f8190d16c3cc8c9b089","60d88f8e90d16c3cc8c9b08a","60d88f9f90d16c3cc8c9b08b","60d88fa790d16c3cc8c9b08c","60d88fae90d16c3cc8c9b08d"],_id:"60d88f4990d16c3cc8c9b087",title:"Test Set",music:!1,__v:1},{questions:["60d88ffa90d16c3cc8c9b08f","60d8901d90d16c3cc8c9b090"],_id:"60d88fc590d16c3cc8c9b08e",title:"Test Set 2",music:!1,__v:2}],"questions-idict":{"60d88f7590d16c3cc8c9b088":{options:["A","B","C","D"],_id:"60d88f7590d16c3cc8c9b088",title:"Test Multiple Choice",input_type:"multiple-choice",config:{condQuestion:""},__v:0},"60d88f8190d16c3cc8c9b089":{options:["A","B","C","D"],_id:"60d88f8190d16c3cc8c9b089",title:"Test Checkbox",input_type:"check-box",__v:0},"60d88f8e90d16c3cc8c9b08a":{options:[],_id:"60d88f8e90d16c3cc8c9b08a",title:"Test Short Answer (25)",input_type:"short-answer",__v:0},"60d88f9f90d16c3cc8c9b08b":{options:[],_id:"60d88f9f90d16c3cc8c9b08b",title:"Test Short Answer (200)",input_type:"short-answer",config:{maxLength:200},__v:0},"60d88fa790d16c3cc8c9b08c":{options:[],_id:"60d88fa790d16c3cc8c9b08c",title:"Test Color",input_type:"color",__v:0},"60d88fae90d16c3cc8c9b08d":{options:[],_id:"60d88fae90d16c3cc8c9b08d",title:"Test Likert",input_type:"slider",__v:0},"60d88ffa90d16c3cc8c9b08f":{options:["A","B","C","D"],_id:"60d88ffa90d16c3cc8c9b08f",title:"Test Conditional MC",input_type:"multiple-choice",config:{condQuestion:"Test Conditional"},__v:0},"60d8901d90d16c3cc8c9b090":{options:[],_id:"60d8901d90d16c3cc8c9b090",title:"Test Conditional SA (300)",input_type:"short-answer",config:{condQuestion:"Test Conditional",maxLength:300},__v:0}},"set-order":[{sets:["60d88f4990d16c3cc8c9b087","60d88fc590d16c3cc8c9b08e"],_id:"6077c3d622e3640e74f7b234",__v:379}]},Pe=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n){var r,c,i,s,a,o,l,u,d;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getAll("sets");case 2:return r=e.sent,e.next=5,_e.getAll("set-order");case 5:if(c=e.sent,r&&c||(r=Ie.sets,c=Ie["set-order"],alert("Failed to load DB")),0!==c.length){e.next=17;break}for(i=[],s=0;s<r.length;s++)i.push(r[s]._id);return a={sets:i},e.next=13,_e.post("set-order",a);case 13:o=e.sent,t&&n&&(n(o),t(r)),e.next=37;break;case 17:n&&n(c[0].sets),l=[],u=0;case 20:if(!(u<c[0].sets.length)){e.next=32;break}d=0;case 22:if(!(d<r.length)){e.next=29;break}if(c[0].sets[u]!==r[d]._id){e.next=26;break}return l.push(r[d]),e.abrupt("break",29);case 26:d++,e.next=22;break;case 29:u++,e.next=20;break;case 32:if(!t){e.next=36;break}t(l),e.next=37;break;case 36:return e.abrupt("return",l);case 37:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.questions.forEach((function(e){var n=t[e];r.push({ask:n.title,responses:n.options,type:n.input_type,id:n._id,config:n.config})})),n.push({questions:r,music:e.music})})),{sets:n}},Fe=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:return t=e.sent,e.next=5,_e.getAll("questions/idict");case 5:if(n=e.sent){e.next=9;break}return alert("Failed to get server data"),e.abrupt("return",Re(t,Ie["questions-idict"]));case 9:return e.abrupt("return",Re(t,n));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=n(87),Le=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var n,r,c,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getAll("music");case 2:return n=e.sent,r=t.filter((function(e){return e.music})).length,c=Me.a.sample(n,r),i=-1,s=[],t.map((function(e){return e.music?s.push(c[i+=1]._id):s.push(null)})),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(null),i=Object(l.a)(c,2),a=i[0],u=i[1],d=Object(s.useState)([]),j=Object(l.a)(d,2),b=j[0],f=j[1];Object(s.useEffect)((function(){Fe().then((function(e){return u(e),e.sets})).then((function(e){return Le(e)})).then((function(e){f(e)}))}),[]),Object(Qe.a)((function(e){return"Data will be lost."}));if(null!==a&&void 0!==a){var h=a.sets;return Object(m.jsxs)(s.Fragment,{children:[Object(m.jsx)(o.a,{when:!0,message:""}),Object(m.jsx)(Te,{musicFilename:b[n],setId:n,set:h[n],nextSet:h[n+1],setCurrentSet:r,totalSets:h.length,postResponse:function(e){for(var t=[],n=[],r=[],c=[],i=0;i<a.sets.length;i++){var s=a.sets[i];r.push(s.questions.length);for(var o=0;o<s.questions.length;o++)t.push(s.questions[o].id),n.push(s.questions[o].type)}for(var l=0;l<e.length;l++)if("multiple-choice"===n[l]||"color"===n[l]||"slider"===n[l])c.push(e[l].toString());else if("short-answer"===n[l])c.push(e[l]);else if("check-box"===n[l]){for(var u="",d=0;d<e[l].length;d++)e[l][d]?u+="1":u+="0";c.push(u)}var j={musicids:b,questionGroups:r,questions:t,answers:c};_e.post("responses",j)}})]})}return null},We=n(24),He=n(30),Ue=n(29),Ge=n(28),Ke=n(38),Ye=(n(153),n(154),["The purpose of this site is to support research which investigates the\nrelationship our minds and bodies have with music.","In particular, the Sonic Remedies team seeks to identify specific\nelements of musical construction and expression for the purpose of\nprescribing remedies for healing.","Your participation here is entirely voluntary and without\ncompensation. Your responses are anonymous and utilized strictly to\nsupport research. You won\u2019t be asked to pay for anything or offered\nproducts and services for sale.","For this survey, you will be asked a series of questions and presented\nwith approximately five short musical excerpts, for which you will\nneed to share both mental and physical responses. The survey will take\napproximately 15 minutes. We appreciate your involvement in this study\nand hope you enjoy the journey."]),Ve=function(e){Object(Ue.a)(n,e);var t=Object(Ge.a)(n);function n(){var e;Object(We.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(He.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(Ke.a,{className:" bg home global-container",children:[Object(m.jsx)("h1",{children:"Welcome to Sonic Remedies!"}),Object(m.jsx)("div",{className:"lighten",children:Ye.map((function(e){return Object(m.jsx)("p",{children:e})}))}),Object(m.jsx)(i.b,{to:"/survey",children:Object(m.jsx)(G,{text:"Begin"})})]})}}]),n}(s.Component),ze=function(){return Object(m.jsx)("h1",{className:"global-h1",children:"Page Not Found."})},Je=n(89),Ze=n(23),$e=n(34),Xe=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n,r){var c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.post("login",t);case 2:(c=e.sent)?(localStorage.setItem("token",c),_e.postToken(),window.setInterval(_e.refreshLogin,168e4),n(!0)):(n(!1),r("The password was incorrect. Try Again."));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),et=function(e){var t=e.setLoggedIn,n=Object(s.useState)({username:"admin",password:""}),r=Object(l.a)(n,2),c=r[0],i=r[1],a=Object(s.useState)(""),o=Object(l.a)(a,2),u=o[0],d=o[1];return Object(m.jsxs)("div",{className:"admin-container",children:[Object(m.jsx)("h1",{children:"Please login as admin to continue"}),Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{children:"Username"}),Object(m.jsx)("input",{defaultValue:"admin",onChange:function(e){return i({username:e.target.value,password:c.password})}}),Object(m.jsx)("label",{children:"Password"}),Object(m.jsx)("input",{type:"password",onChange:function(e){return i({username:c.username,password:e.target.value})}}),Object(m.jsx)(Ze.a,{onClick:function(e){e.preventDefault(),Xe(c,t,d)},children:"Login"})]}),Object(m.jsx)($e.a,{variant:"danger",style:{display:u.length?"":"none"},children:u})]})},tt=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n,r){var c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getAll("login/me",t);case 2:c=e.sent,r(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),nt=function(e){var t=e.component,n=Object(Je.a)(e,["component"]),r=Object(s.useState)(""),c=Object(l.a)(r,2),i=c[0],a=c[1],u=Object(s.useState)(!1),d=Object(l.a)(u,2),b=d[0],f=d[1];return Object(s.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_PORT:"31313"}).REACT_APP_LOCALHOST&&(f(!0),a("admin")),tt(localStorage.getItem("token"),f,a),"admin"===i&&f(!0)}),[i]),Object(m.jsxs)("div",{children:[!b&&Object(m.jsx)("div",{children:Object(m.jsx)(et,{setLoggedIn:f})}),Object(m.jsx)(o.c,Object(j.a)(Object(j.a)({},n),{},{render:function(e){if(!0===b)return Object(m.jsx)(t,Object(j.a)({},e))}}))]})},rt=(n(155),W.a.object({filename:W.a.string().pattern(/.+.(mp3)$/),textfield:W.a.string().max(30),number:W.a.number().max(1e3).min(1)})),ct=function(e,t,n,r,c,i){var s=Object(u.a)(e),a=t.target.value,o=("number"===i?rt.validate({number:a}):rt.validate({textfield:a})).error;if(!o){s[c]="",n(s);var l=!0;s.forEach((function(e){(e||void 0===e)&&(l=!1)})),r(l)}o&&(s[c]=t.target.name+" "+o.message.split('"')[2],n(s),r(!1))},it=[{name:"title",readable:"Title",example:"Stupid Love"},{name:"artist",readable:"Artist",example:"Lady Gaga"},{name:"album",readable:"Album",example:"Chromatica"},{name:"genre",readable:"Genre",example:"Pop"},{name:"tempo",readable:"Tempo (bpm)",example:"118",type:"number"}],st=function(e){var t=e.validator,n=e.setFieldsFilled,r=e.sendFields,c=[];it.forEach((function(){return c.push(void 0)}));var i=Object(s.useState)(c),a=Object(l.a)(i,2),o=a[0],u=a[1],d=Object(s.useState)({}),b=Object(l.a)(d,2),f=b[0],h=b[1];return Object(m.jsx)("div",{children:it.map((function(e,c){return Object(m.jsxs)("div",{className:"field-container",children:[Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:e.name,children:e.readable}),Object(m.jsx)("input",{required:!0,type:"text",name:e.name,placeholder:"Ex. "+e.example,onChange:function(i){t(o,i,u,n,c,e.type);var s=Object(j.a)({},f);s[e.name]=i.target.value.toLowerCase(),h(s),r(s)}})]}),Object(m.jsx)("p",{className:"fc-err",children:o[c]})]},e.name)}))})},at="Consistent Vibe",ot=function(e){var t=e.setField;return Object(m.jsx)("div",{className:"field-container",children:Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:at,children:at}),Object(m.jsxs)("div",{style:{minWidth:"55%",display:"flex",justifyContent:"flex-end"},children:[Object(m.jsxs)("div",{className:"yes-no-option",children:[Object(m.jsx)("label",{htmlFor:"yes",children:"Yes"}),Object(m.jsx)("input",{type:"radio",id:"yes",name:at,value:!0,onChange:function(e){return t(e.target.value)}})]}),Object(m.jsxs)("div",{className:"yes-no-option",children:[Object(m.jsx)("label",{htmlFor:"no",children:"No"}),Object(m.jsx)("input",{type:"radio",id:"no",name:at,value:!1,defaultChecked:!0,onChange:function(e){return t(!e.target.value)}})]})]})]})},at)},lt=function(e){var t=e.setField,n="Improvisation",r=Object(s.useRef)(0);return Object(m.jsx)("div",{className:"field-container",children:Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:n,children:n}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"55%"},children:[Object(m.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:"".concat(r.current,"%")}),Object(m.jsx)("input",{id:n,name:n,type:"range",min:"0",max:"100",step:"10",defaultValue:"0",onChange:function(e){t(e.target.value),r.current=e.target.value}})]})]})},n)},ut=["A","B","C","D","E","F","G","N/A"],dt=["Major","Minor","Dorian","Phrygian","Lydian","Mixolydian","Locrian","N/A"],jt=function(e,t,n,r){return"N/A"===e?"N/A":e+(t?"f":n?"s":"")+("N/A"!==r?r:"")},bt=function(e){var t=e.setPrevailingKey,n=Object(s.useState)(!1),r=Object(l.a)(n,2),c=r[0],i=r[1],a=Object(s.useState)(!1),o=Object(l.a)(a,2),u=o[0],d=o[1],j=Object(s.useState)(!1),b=Object(l.a)(j,2),f=b[0],h=b[1],p=Object(s.useState)("N/A"),O=Object(l.a)(p,2),x=O[0],v=O[1],g=Object(s.useState)("Major"),y=Object(l.a)(g,2),w=y[0],S=y[1];return Object(m.jsx)("div",{className:"field-container",children:Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:"Prevailing Key",children:"Prevailing Key"}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"",minWidth:"55%"},children:[Object(m.jsx)("select",{defaultValue:"N/A",name:"Prevailing Key",onChange:function(e){"N/A"===e.target.value?(i(!1),d(!1),h(!1),S("Major")):i(!0),v(e.target.value),t(jt(e.target.value,u,f,w))},children:ut.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))}),c?Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"end",marginTop:"0.5rem"},children:[Object(m.jsxs)("div",{style:{marginRight:"0.5rem"},children:[Object(m.jsx)("label",{htmlFor:"\u266f",children:"\u266f"}),Object(m.jsx)("input",{style:{width:"1rem"},type:"checkbox",name:"\u266f",disabled:u,onChange:function(){t(jt(x,u,!f,w)),h(!f)}})]}),Object(m.jsxs)("div",{style:{marginRight:"0.5rem"},children:[Object(m.jsx)("label",{htmlFor:"\u266d",children:"\u266d"}),Object(m.jsx)("input",{style:{width:"1rem"},type:"checkbox",name:"\u266d",disabled:f,onClick:function(){t(jt(x,!u,f,w)),d(!u)}})]}),Object(m.jsx)("select",{name:"Key Quality",onChange:function(e){S(e.target.value),t(jt(x,u,f,e.target.value))},defaultValue:"Major",children:dt.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})]}):null]})]})})},ft=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n){var r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e.post("music",t);case 3:(r=e.sent)?r.error?alert(r.error):((c=new FormData).append("filename",r._id),c.append("file",n),_e.postForm("music/files",c),alert("Success!")):alert("Failure. You may need to login again."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ht=function(e,t,n,r,c,i,s){if(e.target.files[0]&&"audio/mpeg"===e.target.files[0].type){s(e.target.files[0].name),i("Loading File...");var a=e.target.files[0],o=window.URL.createObjectURL(a),l=new se.Howl({src:[o],format:"mp3"});l.on("loaderror",(function(){t(null),n("File could not be loaded. May be corrupted mp3 file."),r(!1)})),l.on("load",(function(){i(""),t(Math.trunc(l.duration())),n(""),c(a),r(!0)}))}else n("Invalid File or No File Selected"),r(!1)},pt=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(""),i=Object(l.a)(c,2),a=i[0],o=i[1],u=Object(s.useState)(!1),d=Object(l.a)(u,2),b=d[0],f=d[1],h=Object(s.useState)(""),p=Object(l.a)(h,2),O=p[0],x=p[1],v=Object(s.useState)(null),g=Object(l.a)(v,2),y=g[0],w=g[1],S=Object(s.useState)(null),k=Object(l.a)(S,2),C=k[0],N=k[1],_=Object(s.useState)({prevailingKey:"N/A",improvisation:0,consistent_vibe:!1}),q=Object(l.a)(_,2),E=q[0],A=q[1],D=Object(s.useState)(null),T=Object(l.a)(D,2),Q=T[0],I=T[1],P=function(e){for(var t=Object(j.a)({},E),n=0,r=Object.entries(e);n<r.length;n++){var c=Object(l.a)(r[n],2),i=c[0],s=c[1];t[i]=s}A(t)};return Object(m.jsxs)("form",{children:[Object(m.jsx)("input",{required:!0,type:"file",onInput:function(e){ht(e,(function(e){return I(e)}),x,r,w,o,N)},accept:"audio/mp3"}),Object(m.jsx)("p",{className:"err",children:O}),Object(m.jsx)(st,{validator:ct,setFieldsFilled:f,sendFields:function(e){return P(e)}}),Object(m.jsx)(bt,{setPrevailingKey:function(e){return P({prevailingKey:e})}}),Object(m.jsx)(lt,{setField:function(e){return P({improvisation:e})}}),Object(m.jsx)(ot,{setField:function(e){return P({consistent_vibe:e})}}),Object(m.jsx)(Ze.a,{onClick:function(e){e.preventDefault(),console.log(Object(j.a)(Object(j.a)({},E),{},{duration:Q,fileName:C})),window.confirm("Are you sure you want to submit this?")&&ft(Object(j.a)(Object(j.a)({},E),{},{duration:Q,fileName:C}),y)},disabled:!n||!b||!Q,children:"Submit"}),Object(m.jsx)("p",{style:{color:"red"},children:a})]})},Ot=function(){return Object(m.jsxs)("div",{className:"admin-container upload-music",children:[Object(m.jsx)(i.b,{to:"/admin",children:Object(m.jsx)(Ze.a,{children:"Return to Admin Home"})}),Object(m.jsx)("h1",{children:"Upload a music file (.mp3)"}),Object(m.jsx)(pt,{})]})},mt=n(83),xt=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(ie.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,_e.getAll("music");case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){c()}),[]),Object(m.jsxs)("div",{className:"admin-container",children:[Object(m.jsx)(i.b,{to:"/admin",children:Object(m.jsx)(Ze.a,{children:"Return to Admin Home"})}),0===n.length?Object(m.jsx)("h1",{children:"No Music in DB"}):"",Object(m.jsxs)(mt.a,{striped:!0,bordered:!0,hover:!0,children:[Object(m.jsxs)("thead",{children:[Object(m.jsx)("th",{children:"Filename"}),Object(m.jsx)("th",{children:"Title"}),Object(m.jsx)("th",{children:"Artist"}),Object(m.jsx)("th",{children:"Action"})]}),Object(m.jsx)("tbody",{children:n.sort((function(e,t){return e.fileName.toLowerCase()<t.fileName.toLowerCase()?-1:1})).map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{style:{margin:"1rem"},children:e.fileName}),Object(m.jsx)("td",{style:{margin:"1rem"},children:e.title}),Object(m.jsx)("td",{style:{margin:"1rem"},children:e.artist}),Object(m.jsx)("td",{children:Object(m.jsx)(Ze.a,{style:{margin:"1rem"},onClick:function(){var t;window.confirm("Delete this music from the DB?")&&(t=e._id,_e.deleteOne("music",t),r(n.filter((function(e){return e._id!==t}))))},children:"Delete"})})]})}))})]})]})},vt=n(172),gt=n(43),yt=n(85),wt=function(e){var t=e.src,n=e.width;return Object(m.jsx)("div",{style:{width:n||"3rem",margin:0},children:Object(m.jsx)("img",{src:t,className:"icon",width:"100%",style:{margin:0},alt:"icon"})})},St=n.p+"static/media/trash.e5393ef6.svg",kt=n.p+"static/media/file-earmark-music.8c81c00e.svg",Ct=n.p+"static/media/clipboard-check.efcd7d55.svg",Nt=function(e){var t=e.old,n=e.onEditTitle,r=e.setEditingTitle,c=e.id,i=e.index,a=Object(s.useState)("Good to go!"),o=Object(l.a)(a,2),u=o[0],d=o[1],j=Object(s.useState)(t),b=Object(l.a)(j,2),f=b[0],h=b[1];return Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{htmlFor:"title",children:"New Name: "}),Object(m.jsx)("input",{onChange:function(e){return function(e,t,n,r){""===t?n("Name cannot be empty."):(n("Good to go!"),r(t))}(0,e.target.value,d,h)},className:"form-control",id:"title",defaultValue:t}),Object(m.jsx)($e.a,{variant:"Good to go!"===u?"success":"danger",children:u}),Object(m.jsx)(Ze.a,{disabled:"Good to go!"!==u,onClick:function(){n(c,f,i),r(!1)},children:"Confirm"})]})},_t=function(e){var t=e.question,n=e.addToSelected,r=Object(s.useState)(!1),c=Object(l.a)(r,2),i=c[0],a=c[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:Object(m.jsx)("input",{type:"checkbox",value:t.title,checked:i,onChange:function(){return t._id,a(!i),void n(t._id)}})}),t.title]})},qt=function(e){var t=e.setCurrentQuestions,n=e.currentQuestions,r=e.id,c=e.allQuestions,i=Object(s.useState)([]),a=Object(l.a)(i,2),o=a[0],d=a[1],j=c.filter((function(e){return!n.includes(e._id)})),b=function(e){var t=o;if(o.includes(e)){var n=t.indexOf(e);t.splice(n,1)}else t.push(e);d(t)};return Object(m.jsxs)("form",{className:"add-question-form",onSubmit:function(e){e.preventDefault(),t([].concat(Object(u.a)(n),Object(u.a)(o))),_e.patchOne("sets",r,{questions:[].concat(Object(u.a)(n),Object(u.a)(o))})},children:[j.map((function(e){return!n.includes(e)&&Object(m.jsx)(_t,{question:e,addToSelected:b},e._id)})),Object(m.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Confirm"})]})},Et=function(e){var t=e.setCurrentQuestions,n=e.currentQuestions,r=e.id,c=e.allQuestions,i=Object(s.useState)([]),a=Object(l.a)(i,2),o=a[0],u=a[1],d=c.filter((function(e){return n.includes(e._id)})),j=function(e){var t=o;if(o.includes(e)){var n=t.indexOf(e);t.splice(n,1)}else t.push(e);u(t)};return Object(m.jsxs)("form",{className:"add-question-form",onSubmit:function(e){e.preventDefault();var n=d.filter((function(e){return!o.includes(e._id)}));t(n.map((function(e){return e._id}))),_e.patchOne("sets",r,{questions:n})},children:[d.map((function(e){return Object(m.jsx)(_t,{question:e,addToSelected:j},e._id)})),Object(m.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Confirm"})]})},At=n(49),Dt=n(58);n(156);function Tt(e){var t=e.provided,n=e.style,r=e.isDragging,c=Object(j.a)(Object(j.a)({},n),t.draggableProps.style);return Object(j.a)(Object(j.a)({},c),{},{height:r?c.height:c.height-8,marginBottom:8})}function Qt(e){var t=e.provided,n=e.item,r=e.style,c=e.isDragging;return Object(m.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,style:Tt({provided:t,style:r,isDragging:c}),className:"item ".concat(c?"is-dragging":""),children:n.title}))}var It=a.a.memo((function(e){var t=e.data,n=e.index,r=e.style,c=t[n];return Object(m.jsx)(At.b,{draggableId:c._id,index:n,children:function(e){return Object(m.jsx)(Qt,{provided:e,item:c,style:r})}},c._id)}),Dt.b),Pt=function(e){var t=e.curquestions,n=e.onChangeOrder,r=Object(s.useState)(t),c=Object(l.a)(r,2),i=c[0],a=c[1];var o=function(e){if(e.destination&&e.source.index!==e.destination.index){var t=function(e,t){var n=i.map((function(e){return e})),r=n.splice(e,1),c=Object(l.a)(r,1)[0];return n.splice(t,0,c),n}(e.source.index,e.destination.index);a(t)}};return Object(m.jsxs)("div",{children:[Object(m.jsx)(At.a,{onDragEnd:function(e){return o(e)},children:Object(m.jsx)("div",{className:"dnd",children:Object(m.jsx)(At.c,{droppableId:"droppable",mode:"virtual",renderClone:function(e,t,n){return Object(m.jsx)(Qt,{provided:e,isDragging:t.isDragging,item:i[n.source.index]})},children:function(e){return Object(m.jsx)(Dt.a,{height:80*i.length,itemCount:i.length,itemSize:80,width:300,outerRef:e.innerRef,itemData:i,children:It})}})})}),Object(m.jsx)(Ze.a,{onClick:function(){return n(i)},children:"Done"})]})},Rt=function(e){var t=e.currentMod,n=e.buttonMod,r=e.children,c=e.setMod,i=e.disabled,s=t===n;return Object(m.jsx)(Ze.a,{disabled:i,variant:s?"secondary":"primary",onClick:function(){return c(s?"":n)},children:r})},Ft=function(e,t,n){var r=e;r.questions=n,t(r)},Mt=n(36),Lt=function(e){var t=e.question,n=e.num;return Object(m.jsx)(Mt.a,{style:{width:"18rem"},children:Object(m.jsxs)(Mt.a.Body,{children:[Object(m.jsx)(Mt.a.Title,{children:"".concat(n,". ").concat(t.title)}),Object(m.jsx)(Mt.a.Text,{children:t.config&&t.config.condQuestion?"Conditional: "+t.config.condQuestion:""}),Object(m.jsx)(Mt.a.Text,{style:{fontStyle:"italic"},children:t.input_type}),Object(m.jsx)(Mt.a.Text,{children:t.options.map((function(e){return Object(m.jsx)("li",{children:e},e)}))})]})})},Bt=function(e){var t=e.questions;return Object(m.jsx)(Ke.a,{children:t.map((function(e,t){return Object(m.jsx)(gt.a,{children:Object(m.jsx)(Lt,{question:e,num:t+1})},e._id)}))})},Wt=[{title:"Add Questions to Set",mod:"add-q"},{title:"Remove Questions from Set",mod:"rem-q"},{title:"Reorder Set Questions",mod:"ord-q"},{title:"View Set Questions",mod:"view-q"}],Ht=function(e){var t=e.inSet,n=e.index,r=e.onDeleteSet,c=e.onDuplicateSet,i=e.onMusicSwitch,a=e.onEditTitle,o=e.allQuestions,u=Object(s.useState)(t),d=Object(l.a)(u,2),j=d[0],b=d[1],f=Object(s.useState)(!1),h=Object(l.a)(f,2),p=h[0],O=h[1],x=Object(s.useState)(""),v=Object(l.a)(x,2),g=v[0],y=v[1],w=j.title,S=j.music,k=j._id,C=j.questions?j.questions.length:0;return Object(m.jsxs)(Ke.a,{children:[Object(m.jsxs)(gt.a,{children:[Object(m.jsxs)(yt.a,{children:[p?Object(m.jsx)(Nt,{old:w,onEditTitle:a,setEditingTitle:O,id:k,index:n}):Object(m.jsx)(gt.a,{children:w}),Object(m.jsx)(gt.a,{children:Object(m.jsx)(Ze.a,{onClick:function(){return O(!p)},style:{display:p?"none":""},children:"Edit Name"})})]}),Object(m.jsx)(yt.a,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"hasMusic",children:Object(m.jsx)(wt,{src:kt,width:"2rem"})}),Object(m.jsx)("input",{type:"checkbox",value:"",id:"hasMusic",defaultChecked:S,onChange:function(){return i(k,!S,n)}})]})}),Object(m.jsxs)(yt.a,{children:[Object(m.jsxs)(gt.a,{children:["No. Questions in Set: ",C]}),Wt.map((function(e){return Object(m.jsx)(gt.a,{children:Object(m.jsx)(Rt,{setMod:y,buttonMod:e.mod,currentMod:g,disabled:"add-q"!==e.mod&&0===C||"add-q"===e.mod&&C>=o.length,children:e.title})},e.mod)}))]}),Object(m.jsxs)(yt.a,{children:[Object(m.jsx)(gt.a,{className:"justify-content-center",children:"Duplicate Set"}),Object(m.jsx)(gt.a,{className:"justify-content-center",children:Object(m.jsx)(Ze.a,{onClick:function(){c(j)},children:Object(m.jsx)(wt,{src:Ct,width:"2rem"})})}),Object(m.jsx)(gt.a,{className:"justify-content-center",children:"Delete Set"}),Object(m.jsx)(gt.a,{className:"justify-content-center",children:Object(m.jsx)(Ze.a,{onClick:function(){r(k)},children:Object(m.jsx)(wt,{src:St,width:"2rem"})})})]})]}),Object(m.jsxs)(gt.a,{children:["add-q"===g&&Object(m.jsx)(qt,{setCurrentQuestions:function(e){Ft(j,b,e),y("")},currentQuestions:j.questions,allQuestions:o,id:j._id}),"rem-q"===g&&Object(m.jsx)(Et,{setCurrentQuestions:function(e){Ft(j,b,e),y("")},currentQuestions:j.questions,allQuestions:o,id:j._id}),"ord-q"===g&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Order Questions"}),Object(m.jsx)(Pt,{curquestions:j.questions.map((function(e){return o.filter((function(t){return t._id===e}))[0]})),onChangeOrder:function(e){var t=j,n=e.map((function(e){return e._id}));t.questions=n,b(t),y(""),_e.putOne("sets",j._id,t)}})]}),"view-q"===g&&Object(m.jsx)(Bt,{questions:j.questions.map((function(e){return o.filter((function(t){return t._id===e}))[0]}))})]})]})},Ut=function(e){var t=e.onAddSet,n=Object(s.useState)("Name cannot be empty."),r=Object(l.a)(n,2),c=r[0],i=r[1],a=Object(s.useState)({title:null,music:!0}),o=Object(l.a)(a,2),u=o[0],d=o[1];return Object(m.jsxs)(Ke.a,{children:[Object(m.jsxs)(gt.a,{children:[Object(m.jsx)("label",{htmlFor:"set-name",children:"Set Name:"}),Object(m.jsx)("input",{onChange:function(e){return function(e,t,n,r){""===t?n("Name cannot be empty."):(n("Good to go!"),r({title:t,music:e.music}))}(u,e.target.value,i,d)}}),Object(m.jsx)($e.a,{variant:"Good to go!"===c?"success":"danger",children:c})]}),Object(m.jsxs)(gt.a,{children:[Object(m.jsx)("label",{htmlFor:"set-music",children:"Has Music:"}),Object(m.jsx)("input",{onChange:function(e){d({title:u.title,music:!u.music})},type:"checkbox",className:"align-self-center",defaultChecked:!0})]}),Object(m.jsx)(gt.a,{children:Object(m.jsx)(Ze.a,{disabled:"Good to go!"!==c,onClick:function(){return t(u.title,u.music)},children:"Create"})})]})},Gt=[25,50,100,200,300],Kt=function(e){var t=e.config,n=e.setConfig;return Object(m.jsxs)(Ke.a,{children:[Object(m.jsx)(gt.a,{children:Object(m.jsx)("h2",{children:"Select Short Answer Max Character Length"})}),Object(m.jsx)(gt.a,{children:Gt.map((function(e){return Object(m.jsxs)(yt.a,{children:[Object(m.jsx)("input",{type:"radio",name:"maxLength",value:e,defaultChecked:25===e,onChange:function(){t.maxLength=e,n(t)}}),Object(m.jsx)("label",{children:e})]},e)}))})]})},Yt=function(e){var t=e.onNewQuestion,n=e.allQuestions,r=Object(s.useState)(""),c=Object(l.a)(r,2),i=c[0],a=c[1],o=Object(s.useState)("multiple-choice"),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(s.useState)(""),f=Object(l.a)(b,2),h=f[0],p=f[1],O=Object(s.useState)({}),x=Object(l.a)(O,2),v=x[0],g=x[1];return Object(m.jsxs)("form",{className:"new-question-form",onSubmit:function(e){e.preventDefault(),n.filter((function(e){return e.title===i})).length>0?alert("There is already a question like that. Please change the question"):i?d?"multiple-choice"===d&&!h||"check-box"===d&&!h?alert("Please add options for multiple choice and checkbox questions"):t(i,d,h,v):alert("Please select a question type"):alert("Please enter a question")},children:[Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"Conditional question (optional):"})}),Object(m.jsx)("input",{type:"text",placeholder:"Conditional Question Here...",onChange:function(e){var t=v;t.condQuestion=e.target.value,g(t)}}),Object(m.jsx)("br",{}),Object(m.jsx)($e.a,{variant:"info",children:"The conditional question is used if you would like a Yes/No response before the question. Ex: Do you have synesthesia? (if Yes) Do you associate a color with this piece?"}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"Enter Question: "})}),Object(m.jsx)("input",{type:"text",placeholder:"Ask Here...",value:i,onChange:function(e){return a(e.target.value)}}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"Question Type: "})}),Object(m.jsx)("div",{onChange:function(e){return j(e.target.value)},children:[{name:"Multiple Choice",value:"multiple-choice",description:"User selects one option from several. Does not provide None of the Above option. It must be entered as an option if desired."},{name:"Checkbox",value:"check-box",description:"User selects as many options as apply to them. None of the Above response option is built-in and not necessary to specify."},{name:"Short Answer",value:"short-answer",description:"User writes a response with the specified word maximum."},{name:"Color",value:"color",description:"User answers Yes/No to the question then chooses a color if answered yes. Example question: Do you have a favorite color?"},{name:"Likert",value:"slider",description:"User disagrees or agrees with the provided statement on a scale of 1 to 5. Example statement: I am excited to hear this music."}].map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"radio",value:e.value,name:"option",defaultChecked:"multiple-choice"===e.value}),Object(m.jsx)("label",{htmlFor:e.value,children:e.name}),e.value===d&&Object(m.jsx)($e.a,{variant:"info",children:e.description})]},e.value)}))}),("multiple-choice"===d||"check-box"===d)&&Object(m.jsx)("label",{children:"Options (please separate each option with a semicolon)"}),("multiple-choice"===d||"check-box"===d)&&Object(m.jsx)("input",{type:"text",placeholder:"options",value:h,onChange:function(e){return p(e.target.value)}}),"short-answer"===d&&Object(m.jsx)(Kt,{config:v,setConfig:g}),Object(m.jsx)("input",{className:"submit btn btn-primary",type:"submit",value:"Create New Question"})]})},Vt=function(e){var t=e.allQuestions,n=e.setAllQuestions,r=e.sets,c=e.setSets,i=e.onDeleteQuestion,a=r,o=Object(s.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=function(){var e=Object(ie.a)(ce.a.mark((function e(r){var s,o,l,u;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!window.confirm("Delete these questions?")){e.next=13;break}for(n(t.filter((function(e){return!d.includes(e._id)}))),i(),s=0;s<d.length;s++)for(o=0;o<a.length;o++)for(l=0;l<a[o].questions.length;l++)a[o].questions[l]===d[s]&&(a[o].questions.splice(l,1),_e.putOne("sets",a[o]._id,a[o]));c(a),u=0;case 7:if(!(u<d.length)){e.next=13;break}return e.next=10,_e.deleteOne("questions",d[u]);case 10:u++,e.next=7;break;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:b,children:[t.map((function(e){return Object(m.jsxs)("div",{onChange:function(e){!function(e){for(var t=[],n=0;n<d.length;n++)t.push(d[n]);for(var r=0;r<t.length;r++)if(e===d[r])return t.splice(r,1),void j(t);t.push(e),j(t)}(e.target.value)},children:[Object(m.jsx)("input",{type:"checkbox",value:e._id,name:"question"}),e.title]},e.title)})),Object(m.jsx)("input",{className:"submit btn btn-primary",type:"submit",value:"Delete Selected Questions"})]})},zt=function(e){var t=e.type,n=e.sets,r=e.setSets,c=e.allQuestions,i=e.setAllQuestions,s=e.setBigMod,a=e.onChangeOrder,o=e.onAddSet,l=e.onNewQuestion,u=function(e){return function(){s(""),e&&e.apply(void 0,arguments)}};switch(t){default:return null;case"new-set":return Object(m.jsx)(Ut,{onAddSet:u(o)});case"new-q":return Object(m.jsx)(Yt,{onNewQuestion:u(l),allQuestions:c});case"reorder":return Object(m.jsx)(Pt,{curquestions:n,onChangeOrder:u(a)});case"delete-q":return Object(m.jsx)(Vt,{allQuestions:c,setAllQuestions:i,sets:n,setSets:r,onDeleteQuestion:u()})}},Jt=n.p+"static/media/plus.1e30cd23.svg",Zt=[{title:"Create a New Set",mod:"new-set",icon:Jt},{title:"Reorder Sets",mod:"reorder",icon:n.p+"static/media/list-ol.5eab81d5.svg"},{title:"Create a New Question",mod:"new-q",icon:Jt},{title:"Delete a Question",mod:"delete-q",icon:St}],$t=function(e){var t=e.bigMod,n=e.setBigMod;return Object(m.jsx)(Ke.a,{children:Object(m.jsx)(gt.a,{children:Zt.map((function(e){return Object(m.jsxs)(yt.a,{children:[Object(m.jsx)(gt.a,{children:e.title}),Object(m.jsx)(gt.a,{children:Object(m.jsx)(Rt,{buttonMod:e.mod,currentMod:t,setMod:n,children:Object(m.jsx)(wt,{src:e.icon})})})]},e.mod)}))})})},Xt=function(e){var t=e.sets,n=e.setSets,r=e.allQuestions,c=e.setAllQuestions,i=e.onDelete,a=e.onDuplicate,o=e.onAddSet,u=e.onNewQuestion,d=e.onChangeOrder,j=e.onMusicSwitch,b=e.onEditTitle,f=Object(s.useState)(""),h=Object(l.a)(f,2),p=h[0],O=h[1];return Object(m.jsx)(Ke.a,{children:Object(m.jsxs)(vt.a,{children:[Object(m.jsxs)(vt.a.Item,{children:[Object(m.jsx)("h1",{children:"Survey Modification Menus"}),Object(m.jsx)($t,{bigMod:p,setBigMod:O})]}),Object(m.jsx)(vt.a.Item,{children:Object(m.jsx)(zt,{type:p,sets:t,setSets:n,setBigMod:O,onChangeOrder:d,onAddSet:o,onNewQuestion:u,allQuestions:r,setAllQuestions:c})}),Object(m.jsxs)(vt.a.Item,{children:[Object(m.jsx)("h1",{children:"Survey Sets"}),Object(m.jsxs)(gt.a,{children:[Object(m.jsx)(yt.a,{children:"Set Name"}),Object(m.jsx)(yt.a,{children:"Has Music?"}),Object(m.jsx)(yt.a,{children:"Edit Questions"}),Object(m.jsx)(yt.a,{children:"Duplicate or Delete Set"})]})]}),t.map((function(e,t){return Object(m.jsx)(Ke.a,{children:Object(m.jsx)(vt.a.Item,{children:Object(m.jsx)(Ht,{inSet:e,index:t,onDeleteSet:i,onDuplicateSet:a,onMusicSwitch:j,onEditTitle:b,onAddQuestions:u,allQuestions:r})},e._id)},e._id)}))]})})};n(158);var en=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)([]),a=Object(l.a)(c,2),o=a[0],d=a[1],j=Object(s.useState)([]),b=Object(l.a)(j,2),f=b[0],h=b[1];Object(s.useEffect)((function(){var e=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getAll("questions");case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Pe(d,r),e()}),[]);var p=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var c,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm("Delete this set?")){e.next=10;break}return _e.deleteOne("sets",t),d(o.filter((function(e){return e._id!==t}))),c=n.filter((function(e){return e!==t})),i={sets:c},e.next=8,_e.patch("set-order",i);case 8:s=e.sent,r(s.sets);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(ie.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.title,t.music,t.questions);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(ie.a)(ce.a.mark((function e(t,c){var i,s,a,l,j,b,f=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:[],s={title:t,questions:i,music:c},e.next=4,_e.post("sets",s);case 4:return a=e.sent,d([].concat(Object(u.a)(o),[a])),(l=n).push(a._id),j={sets:l},e.next=11,_e.patch("set-order",j);case 11:b=e.sent,r(b.sets);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n,r,c){var i,s,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={title:t,input_type:n,config:c},""!==r&&(s=g(r),i.options=s),e.next=4,_e.post("questions",i);case 4:a=e.sent,h([].concat(Object(u.a)(f),[a]));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}();function g(e){var t=[];if(!e)return null;for(var n=0,r=0;r<e.length;r++){if(";"===e.charAt(r)){var c=e.substring(n,r).trim();t.push(c),n=r+1}}var i=e.substring(n,e.length).trim();return""!==i&&t.push(i),t}var y=function(){var e=Object(ie.a)(ce.a.mark((function e(t){var n,c,i,s,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={sets:t},e.next=3,_e.patch("set-order",n);case 3:c=e.sent,r(c.sets),i=[],s=0;case 7:if(!(s<c.sets.length)){e.next=19;break}a=0;case 9:if(!(a<t.length)){e.next=16;break}if(c.sets[s]!==t[a]._id){e.next=13;break}return i.push(t[a]),e.abrupt("break",16);case 13:a++,e.next=9;break;case 16:s++,e.next=7;break;case 19:d(i);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n,r){var c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_e.patchOne("sets",t,{music:n}),(c=o)[r].music=n,d(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(ie.a)(ce.a.mark((function e(t,n,r){var c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_e.patchOne("sets",t,{title:n}),(c=o)[r].title=n,d(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"outer-div admin-container",children:[Object(m.jsx)(i.b,{to:"/admin",children:Object(m.jsx)(Ze.a,{children:"Return to Admin Home"})}),Object(m.jsx)(Xt,{sets:o,setSets:d,allQuestions:f,setAllQuestions:h,onDelete:p,onDuplicate:O,onAddSet:x,onNewQuestion:v,onChangeOrder:y,onMusicSwitch:w,onEditTitle:S})]})},tn=function(e,t){var n="";if(1===t.length)n=e[t];else for(var r=[].concat(Object(u.a)(e),["None of the Above"]),c=0;c<t.length;c++)"1"===t[c]&&(n+="".concat(r[c],";"));return n},nn=n(86),rn=(0,n(159).createObjectCsvStringifier)({header:[{id:"userId",title:"User (ID)"},{id:"pieceInfo",title:"Piece Info"},{id:"questionTitle",title:"Question"},{id:"answer",title:"Answer"}]}),cn=function(e){var t=rn.getHeaderString()+rn.stringifyRecords(e),n=new Blob([t]);Object(nn.saveAs)(n,"data.csv")},sn=function(e,t){var n=0,r=0;for(t[n]&&(r=t[n]);e>=r;)r+=t[n],n+=1;return console.log(e,n),n},an=function(){var e=Object(ie.a)(ce.a.mark((function e(){var t,n,r,c,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getAll("responses");case 2:return t=e.sent,e.next=5,_e.getAll("questions");case 5:return n=e.sent,e.next=8,_e.getAll("music");case 8:if(r=e.sent,t.length&&n.length){for(c=[],i=function(e){for(var i=t[e],s=i._id,a=function(e){var t=r.find((function(t){return null!==t&&t._id===i.musicids[sn(e,i.questionGroups)]})),a=n.find((function(t){return null!==t&&t._id===i.questions[e]})),o="";if(!a)return"continue";o=0===a.options.length?i.answers[e]:tn(a.options,i.answers[e]);for(var l=0;l<a.options;l++);c.push({userId:s,pieceInfo:t?JSON.stringify(t):"No Music",questionTitle:a.title,answer:o})},o=0;o<i.questions.length;o++)a(o)},s=0;s<t.length;s++)i(s);cn(c)}case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){return Object(m.jsxs)("div",{className:"admin-container",children:[Object(m.jsx)(i.b,{to:"/admin",children:Object(m.jsx)(Ze.a,{children:"Return to Admin Home"})}),Object(m.jsx)(Ze.a,{onClick:an,children:"Download Data (CSV)"})]})},ln=function(){return Object(m.jsxs)(Ke.a,{children:[Object(m.jsx)("h1",{className:"h1",children:"Admin Home Page"}),Object(m.jsx)(i.b,{to:"/admin/modifysurvey",children:Object(m.jsx)(Ze.a,{children:"Modify Survey"})}),Object(m.jsx)(i.b,{to:"/admin/uploadmusic",children:Object(m.jsx)(Ze.a,{children:"Upload Music"})}),Object(m.jsx)(i.b,{to:"/admin/downloaddata",children:Object(m.jsx)(Ze.a,{children:"Download Data"})}),Object(m.jsx)(i.b,{to:"/admin/viewmusic",children:Object(m.jsx)(Ze.a,{children:"View/Delete Music"})})]})};function un(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}function dn(){un(),window.addEventListener("resize",un)}var jn=function(){return dn(),document.addEventListener("touchstart",(function(e){e.preventDefault()})),document.addEventListener("touchmove",(function(e){e.preventDefault()})),Object(m.jsx)(s.Fragment,{children:Object(m.jsxs)(o.e,{children:[Object(m.jsx)(o.c,{path:"/survey",component:Be}),Object(m.jsx)(o.c,{path:"/home",component:Ve}),Object(m.jsx)(nt,{path:"/admin/modifysurvey",component:en}),Object(m.jsx)(nt,{path:"/admin/uploadmusic",component:Ot}),Object(m.jsx)(nt,{path:"/admin/viewmusic",component:xt}),Object(m.jsx)(nt,{path:"/admin/downloaddata",component:on}),Object(m.jsx)(nt,{path:"/admin",component:ln}),Object(m.jsx)(o.c,{path:"/not-found",component:ze}),Object(m.jsx)(o.b,{from:"/",exact:!0,to:"/home"}),Object(m.jsx)(o.b,{to:"/not-found"})]})})},bn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};_e.postToken(),c.a.render(Object(m.jsx)(i.a,{children:Object(m.jsx)(jn,{})}),document.getElementById("root")),bn()},90:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}},[[170,1,2]]]);
//# sourceMappingURL=main.6b5fbf93.chunk.js.map