{"version":3,"sources":["vectors/arrowDownHighlighted.svg","components/setUI/nextButton.jsx","vectors/circleFilled.svg","vectors/circleEmpty.svg","components/setUI/questionTypes/multipleChoice.jsx","vectors/squareFilled.svg","vectors/squareEmpty.svg","components/setUI/questionTypes/multipleSelect.jsx","utils/viewHeight.js","utils/mobileKeyboard.js","components/setUI/questionTypes/freeResponse.jsx","components/common/userButton.jsx","components/setUI/questionTypes/colorChoice.jsx","components/setUI/questionTypes/slider.jsx","components/setUI/question.jsx","components/setUI/animatedQuestions.jsx","components/setUI/fixedUI.jsx","vectors/play.svg","vectors/pause.svg","components/setUI/musicPlayer/renderPlay.jsx","components/setUI/musicPlayer/renderContinue.jsx","components/setUI/musicPlayer/togglePlayer.jsx","components/setUI/musicPlayer/progressBar.jsx","services/api-client.js","components/setUI/musicPlayer/musicPage.jsx","components/setUI/orientationPage.jsx","components/setUI/completePage.jsx","components/setUI/set.jsx","utils/getSurveyData.js","utils/getMusicList.js","components/survey.jsx","components/home.jsx","components/notFound.jsx","components/admin/login.jsx","components/admin/ProtectedRoute.jsx","components/admin/uploadMusic/musicInputValidation.js","components/admin/uploadMusic/textFields.jsx","components/admin/uploadMusic/yesNoFields.jsx","components/admin/uploadMusic/sliderFields.jsx","components/admin/uploadMusic/prevailKeyField.jsx","components/admin/uploadMusic/submitMusic.js","components/admin/uploadMusic/getDuration.js","components/admin/uploadMusic/musicFileForm.jsx","components/admin/uploadMusic/uploadMusic.jsx","components/admin/responses/responsePage.jsx","components/admin/AdminQuestion.jsx","components/admin/AdminQCheckbox.jsx","components/admin/AddQuestion.jsx","components/admin/ChangeOrder.jsx","components/admin/AdminSet.jsx","components/admin/AddSet.jsx","components/admin/NewQuestion.jsx","components/admin/DeleteQuestion.jsx","components/admin/AdminSets.jsx","components/admin/Admin.jsx","App.js","reportWebVitals.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowDownHighlighted","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","d","style","fill","strokeWidth","stroke","ForwardRef","NextButton","revealNext","handleClicked","className","onClick","cx","cy","r","opacity","fillRule","transform","SvgCircleFilled","SvgCircleEmpty","MultipleChoice","responses","handleResponded","useState","choice","setChoice","useEffect","map","res","num","a","b","SvgSquareFilled","SvgSquareEmpty","renderSelect","selections","MultipleSelect","init","setSelections","find","el","console","log","j","Select","setViewHeight","vh","window","innerHeight","document","documentElement","setProperty","updateViewHeight","addEventListener","onOpenKB","removeEventListener","onCloseKB","schema","Joi","object","textfield","string","min","max","required","label","FreeResponse","response","setResponse","validationError","setValidationError","maxLength","rows","placeholder","onTouchEnd","onMouseLeave","onChange","evt","input","value","error","validate","message","verifyInput","UserButton","text","renderYesNo","setChoseYes","setChoseNo","ShowColor","ColorChoice","choseYes","choseNo","params","type","Slider","display","flexDirection","maxWidth","justifyContent","option","fontWeight","step","defaultValue","e","renderQuestion","Question","question","handleResponse","ask","clickedNext","setClickedNext","handleNext","AnimatedQuestions","questions","currentQuestion","useTransition","q","from","enter","leave","item","div","renderCircles","numCirc","currentPos","circles","push","FixedUI","numQuestions","SvgPlay","x","y","rx","ry","SvgPause","RenderPlay","playState","RenderContinue","canContinue","handleContinueClicked","togglePlayer","setPlayState","audio","play","pause","ProgressBar","offset","setOffset","circleRef","useRef","size","progress","center","radius","circumference","Math","PI","current","strokeDasharray","strokeDashoffset","axios","defaults","headers","common","localStorage","getItem","process","REACT_APP_LOCALHOST","REACT_APP_API_PORT","endpoint","onError","err","API","getAll","resource","get","then","data","catch","getOne","getOneFile","method","url","responseType","post","postForm","deleteOne","delete","patch","patchOne","putOne","put","getMusicFile","filename","setAudio","musicfileblob","myhowl","Howl","src","URL","createObjectURL","html5","format","on","Error","MusicPlayer","handleMusicDone","setCanContinue","setProgress","checkHalfway","useCallback","seek","duration","clearInterval","updateProgress","checkHalfwayInterval","setInterval","setProgressInterval","unload","OrientationPage","setId","totalSets","clickContinue","CompletePage","Set","musicFilename","set","setCurrentSet","postResponse","updateCurrentQuestion","page","setPage","savedResponses","updateSavedResponses","music","updatedResponses","convertSurveyData","sets","new_sets","forEach","new_questions","my_q","options","input_type","_id","getSurveyData","getMusicList","num_musics","filter","musics","random_sample","_","sample","music_filenames","Survey","currentSet","surveyData","setSurveyData","musicList","setMusicList","result","musicListData","undefined","nextSet","answers","question_arr","question_types_arr","music_arr","num_questions_arr","formatted_answers","cur_set","toString","str","musicids","questionGroups","Home","state","to","Component","NotFound","doLogin","credentials","setLoggedIn","setItem","Login","username","password","setCredentials","preventDefault","checkUser","token","setUser","ProtectedRoute","component","rest","user","loggedIn","render","pattern","number","checkTextInput","errors","setFieldsFilled","temp_errors","complete","name","split","inputFields","readable","example","TextFields","validator","sendFields","initErrors","errorMessages","setErrorMessages","fields","setFields","field","htmlFor","temp_fields","toLowerCase","YesNoFields","setField","minWidth","defaultChecked","SliderFields","val","fontSize","keyNames","keyQualities","buildPKString","letter","flatChecked","sharpChecked","quality","PrevailKeyField","setPrevailingKey","keySelected","setKeySelected","setFlatChecked","setSharpChecked","setLetter","setQuality","alignItems","keyName","marginTop","marginRight","disabled","submitMusic","submission","file","alert","formData","FormData","append","getDuration","setDuration","setFileValidationError","setFileReadyToUpload","setFile","files","fileObj","objectURL","sound","trunc","MusicFileForm","fileReadyToUpload","fieldsFilled","fileValidationError","prevailingKey","improvisation","consistent_vibe","setSubmission","updateSubParam","pairs","temp_submission","entries","onInput","accept","confirm","UploadMusic","ResponsePage","AdminQuestion","deleteQuestion","AdminQCheckbox","addToSelected","checked","setChecked","AddQuestion","onAddQuestions","currentQuestions","setQuestions","selected","setSelected","mounted","filtered","includes","fetchQuestions","selected_copy","index","splice","onSubmit","getStyle","provided","isDragging","combined","draggableProps","marginBottom","Item","dragHandleProps","innerRef","Row","React","memo","items","draggableId","areEqual","ChangeOrder","curquestions","onChangeOrder","onDragEnd","destination","newItems","startIndex","endIndex","list_item","removed","reorder","droppableId","mode","renderClone","snapshot","rubric","itemCount","itemSize","outerRef","itemData","AdminSet","onDelete","onDuplicate","showAddQuestion","setShowAddQuestion","showQuestionOrder","setShowQuestionOrder","sorted","question_id","updatedSet","updated","set_questions","updated_data","quest","qids","AddSet","onAddSet","setShowAddSet","setTitle","musicBool","setMusicBool","NewQuestion","onNewQuestion","setType","setOptions","DeleteQuestion","handleDeleteQuestion","toDelete","setToDelete","serverQuestions","getQuestions","deleteQuestions","k","toDeleteCopy","handleCheckbox","AdminSets","onOrderChanged","showAddSet","showChangeOrder","setShowChangeOrder","setDeleteQuestions","qid","Admin","setOrder","setSetOrder","setSets","getSets","serverSets","orderData","order","orderObj","newSetOrder","orderedSets","deleteSet","curSetOrder","duplicateSet","addSet","newQuestion","opts_arr","parseOptions","arr","start_of_opt","charAt","trimmed","substring","trim","changeSetOrder","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.635787cb.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowDownHighlighted(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 105,\n    height: 80,\n    viewBox: \"0 0 105.4 80.3\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.2 4.6 52.7 77 100.2 4.6 52.7 28.4Z\",\n    style: {\n      fill: \"#662485\",\n      strokeWidth: 4,\n      stroke: \"#662485\"\n    }\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDownHighlighted);\nexport default __webpack_public_path__ + \"static/media/arrowDownHighlighted.e8bc2c68.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as ArrowDownHighlighted } from \"../../vectors/arrowDownHighlighted.svg\";\r\n\r\nconst NextButton = ({ revealNext, handleClicked }) => {\r\n  return revealNext ? (\r\n    <button className=\"next-button\" onClick={handleClicked}>\r\n      <div>Next</div>\r\n      <ArrowDownHighlighted className=\"arrow\" />\r\n    </button>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nexport default NextButton;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 38.947,\n  cy: 8.167,\n  r: 4.914,\n  opacity: 0.96,\n  fill: \"#fff\",\n  fillRule: \"evenodd\",\n  stroke: \"#fff\",\n  strokeWidth: 1.058,\n  transform: \"translate(-33.504 -2.724)\"\n});\n\nfunction SvgCircleFilled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 41.143,\n    height: 41.143,\n    viewBox: \"0 0 10.886 10.886\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCircleFilled);\nexport default __webpack_public_path__ + \"static/media/circleFilled.56a53073.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5.443,\n  cy: 5.443,\n  r: 5.1529,\n  fill: \"none\",\n  opacity: 0.96,\n  stroke: \"#fff\",\n  strokeWidth: 0.50001\n});\n\nfunction SvgCircleEmpty(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 41.143,\n    height: 41.143,\n    viewBox: \"0 0 10.886 10.886\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCircleEmpty);\nexport default __webpack_public_path__ + \"static/media/circleEmpty.c47a7692.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect } from \"react\";\r\nimport { ReactComponent as RadioChosen } from \"../../../vectors/circleFilled.svg\";\r\nimport { ReactComponent as Radio } from \"../../../vectors/circleEmpty.svg\";\r\n\r\nconst renderRadar = (a, b) => {\r\n  return a === b ? (\r\n    <RadioChosen className=\"indicator\" />\r\n  ) : (\r\n    <Radio className=\"indicator\" />\r\n  );\r\n};\r\n\r\nconst MultipleChoice = ({ responses, handleResponded }) => {\r\n  const [choice, setChoice] = useState(-1);\r\n  useEffect(() => {\r\n    if (choice > -1) {\r\n      handleResponded(choice);\r\n    } else handleResponded(null);\r\n  }, [handleResponded, choice]);\r\n  return (\r\n    <div className=\"question-mc option-box\">\r\n      {responses.map((res, num) => {\r\n        return (\r\n          <div key={num} className=\"option\" onClick={() => setChoice(num)}>\r\n            <div className=\"response\">{res}</div>\r\n            {renderRadar(choice, num)}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultipleChoice;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSquareFilled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 53,\n    height: 53,\n    viewBox: \"0 0 52.9 52.9\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 52.9,\n    height: 52.9,\n    style: {\n      fill: \"#fff\",\n      strokeWidth: 4\n    }\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSquareFilled);\nexport default __webpack_public_path__ + \"static/media/squareFilled.120e66e8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSquareEmpty(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 53,\n    height: 53,\n    viewBox: \"0 0 52.9 52.9\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 52.9,\n    height: 52.9,\n    style: {\n      fill: \"none\",\n      strokeWidth: 4,\n      stroke: \"#fff\"\n    }\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSquareEmpty);\nexport default __webpack_public_path__ + \"static/media/squareEmpty.79613c68.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect } from \"react\";\r\nimport { ReactComponent as SelectChosen } from \"../../../vectors/squareFilled.svg\";\r\nimport { ReactComponent as SelectNotChosen } from \"../../../vectors/squareEmpty.svg\";\r\n\r\nconst renderSelect = (selections, i) => {\r\n  return selections[i] === true ? (\r\n    <SelectChosen className=\"indicator\" />\r\n  ) : (\r\n    <SelectNotChosen className=\"indicator\" />\r\n  );\r\n};\r\n\r\nconst Select = (selections, i) => {\r\n  console.log(selections);\r\n  if (i === selections.length - 1) {\r\n    //Chose none of the above\r\n    for (let j = 0; j < i; j++) selections[j] = false;\r\n  }\r\n  if (selections[selections.length - 1] && i !== selections.length - 1) {\r\n    //If none of the above is chosen and wasn't just selected\r\n    selections[selections.length - 1] = false;\r\n  }\r\n  selections[i] = !selections[i];\r\n  return selections;\r\n};\r\n\r\nconst MultipleSelect = ({ responses, handleResponded }) => {\r\n  responses = [...responses, \"None of the above\"];\r\n  let init = [];\r\n  for (let i = 0; i < responses.length; i++) init[i] = false;\r\n  const [selections, setSelections] = useState(init);\r\n\r\n  useEffect(() => {\r\n    if (selections.find((el) => el === true)) handleResponded(selections);\r\n    else handleResponded(null);\r\n  }, [selections, handleResponded]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Select all that apply.</h2>\r\n      <div className=\"question-ms option-box\">\r\n        {responses.map((res, num) => {\r\n          return (\r\n            <div\r\n              key={num}\r\n              className=\"option\"\r\n              onClick={() => {\r\n                setSelections(Select([...selections], num));\r\n              }}\r\n            >\r\n              <div className=\"response\">{res}</div>\r\n              {renderSelect(selections, num)}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultipleSelect;\r\n","function setViewHeight() {\r\n  let vh = window.innerHeight * 0.01;\r\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\r\n}\r\nfunction initViewHeight() {\r\n  setViewHeight();\r\n  updateViewHeight();\r\n}\r\nfunction updateViewHeight() {\r\n  window.addEventListener(\"resize\", setViewHeight);\r\n}\r\nfunction freezeViewHeight() {\r\n  window.removeEventListener(\"resize\", setViewHeight);\r\n}\r\nexport { initViewHeight, updateViewHeight, freezeViewHeight };\r\n","import { updateViewHeight, freezeViewHeight } from \"./viewHeight\";\r\nfunction onOpenKB() {\r\n  freezeViewHeight();\r\n}\r\nfunction onCloseKB() {\r\n  updateViewHeight();\r\n}\r\nexport { onOpenKB, onCloseKB };\r\n","import \"../../../css/components/freeResponse.scss\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Joi from \"joi\";\r\nimport { onOpenKB, onCloseKB } from \"../../../utils/mobileKeyboard\";\r\n\r\nconst schema = Joi.object({\r\n  textfield: Joi.string().min(3).max(350).required().label(\"Answer\"),\r\n});\r\n\r\nfunction verifyInput(evt, setResponse, setValidationError) {\r\n  const input = evt.target.value;\r\n  const { error } = schema.validate({ textfield: input });\r\n  if (!error) {\r\n    setResponse(input);\r\n    setValidationError(\"\");\r\n  } else {\r\n    setResponse(null);\r\n    setValidationError(error.message);\r\n  }\r\n}\r\n\r\nconst FreeResponse = ({ handleResponded }) => {\r\n  const [response, setResponse] = useState(null);\r\n  const [validationError, setValidationError] = useState(\"\");\r\n  useEffect(() => {\r\n    handleResponded(response);\r\n  }, [handleResponded, response]);\r\n  return (\r\n    <div className=\"question-fr\">\r\n      <textarea\r\n        maxLength=\"350\"\r\n        rows=\"6\"\r\n        placeholder=\"Write your answer here\"\r\n        onTouchEnd={onOpenKB}\r\n        onMouseLeave={onCloseKB}\r\n        onChange={(evt) => verifyInput(evt, setResponse, setValidationError)}\r\n      />\r\n      <div className=\"error\">{validationError}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FreeResponse;\r\n","import \"../../css/components/common/userButton.scss\";\r\nconst UserButton = ({ text, onClick }) => {\r\n  return (\r\n    <button className=\"user-button\" onClick={onClick}>\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default UserButton;\r\n","import \"../../../css/components/colorChoice.scss\";\r\nimport { useState } from \"react\";\r\nimport MultipleChoice from \"./multipleChoice\";\r\nimport UserButton from \"../../common/userButton\";\r\n\r\nfunction ShowColor(response, handleResponded, setChoseYes, setChoseNo) {\r\n  if (response === 0) {\r\n    setChoseYes(true);\r\n    setChoseNo(false);\r\n  } else if (response === 1) {\r\n    setChoseNo(true);\r\n    setChoseYes(false);\r\n  }\r\n  handleResponded(response);\r\n}\r\nfunction renderYesNo(handleResponded, setChoseYes, setChoseNo) {\r\n  return (\r\n    <MultipleChoice\r\n      responses={[\"Yes\", \"No\"]}\r\n      handleResponded={(response) => {\r\n        ShowColor(response, handleResponded, setChoseYes, setChoseNo);\r\n      }}\r\n    />\r\n  );\r\n}\r\nconst ColorChoice = ({ responses, handleResponded }) => {\r\n  const [choseYes, setChoseYes] = useState(false);\r\n  const [choseNo, setChoseNo] = useState(false);\r\n  const params = [handleResponded, setChoseYes, setChoseNo];\r\n\r\n  if (choseNo) {\r\n    return renderYesNo(...params);\r\n  }\r\n  return !choseYes & !choseNo ? (\r\n    renderYesNo(...params)\r\n  ) : (\r\n    <div className=\"question-color\">\r\n      <p>Select the color: </p>\r\n      <input type=\"color\" />\r\n      <UserButton\r\n        text={\"Go Back\"}\r\n        onClick={() => {\r\n          setChoseYes(false);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColorChoice;\r\n","const Slider = ({ handleResponded }) => {\r\n  const options = [1, 2, 3, 4, 5];\r\n  handleResponded(3);\r\n  return (\r\n    <div\r\n      style={{ display: \"flex\", flexDirection: \"column\", maxWidth: \"15rem\" }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        {options.map((option) => (\r\n          <p style={{ fontWeight: \"bold\" }}>{option}</p>\r\n        ))}\r\n      </div>\r\n      <input\r\n        type=\"range\"\r\n        max=\"5\"\r\n        min=\"1\"\r\n        step=\"1\"\r\n        defaultValue=\"3\"\r\n        onChange={(e) => handleResponded(e.target.value)}\r\n      ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Slider;\r\n","import \"../../css/components/question.scss\";\r\nimport { useState } from \"react\";\r\nimport NextButton from \"./nextButton\";\r\nimport MultipleChoice from \"./questionTypes/multipleChoice\";\r\nimport MultipleSelect from \"./questionTypes/multipleSelect\";\r\nimport FreeResponse from \"./questionTypes/freeResponse\";\r\nimport ColorChoice from \"./questionTypes/colorChoice\";\r\nimport Slider from \"./questionTypes/slider\";\r\n\r\nfunction handleNext(response, handleResponse, setClickedNext) {\r\n  handleResponse(response);\r\n  setClickedNext(true); //to hide the arrow (avoid double click)\r\n}\r\nfunction renderQuestion(type, responses, handleResponded) {\r\n  const params = { responses: responses, handleResponded: handleResponded };\r\n  if (type === \"multiple-choice\") return <MultipleChoice {...params} />;\r\n  else if (type === \"check-box\") return <MultipleSelect {...params} />;\r\n  else if (type === \"short-answer\") return <FreeResponse {...params} />;\r\n  else if (type === \"color\") return <ColorChoice {...params} />;\r\n  else if (type === \"slider\") return <Slider {...params} />;\r\n}\r\n\r\nfunction Question({ question, handleResponse }) {\r\n  const { type, responses } = question;\r\n  let { ask } = question;\r\n  const [response, setResponse] = useState(null);\r\n  const [clickedNext, setClickedNext] = useState(false);\r\n  // const q_old = useRef(question);\r\n\r\n  // useEffect(() => {\r\n  //   if (question !== q_old) {\r\n  //     setResponse(null);\r\n  //     setClickedNext(false);\r\n  //   }\r\n  // }, [question, q_old]);\r\n  function handleResponded(response) {\r\n    setResponse(response);\r\n  }\r\n  //Later add logic for if the question.type is not multiple choice\r\n  return (\r\n    <div className=\"question\">\r\n      <h1>{ask}</h1>\r\n      {renderQuestion(type, responses, handleResponded)}\r\n      <div className=\"next\">\r\n        <NextButton\r\n          revealNext={(response !== null) & !clickedNext}\r\n          handleClicked={() =>\r\n            handleNext(response, handleResponse, setClickedNext)\r\n          }\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Question;\r\n","import { useTransition, animated } from \"react-spring\";\r\nimport Question from \"./question\";\r\n\r\nconst AnimatedQuestions = ({ questions, currentQuestion, handleResponse }) => {\r\n  const transitions = useTransition(questions[currentQuestion], (q) => q.ask, {\r\n    from: {\r\n      transform:\r\n        currentQuestion === 0\r\n          ? \"translate3d(0, 0%, 0)\"\r\n          : \"translate3d(0, 100%, 0)\",\r\n    },\r\n    enter: { transform: \"translate3d(0, 0, 0)\" },\r\n    leave: {\r\n      transform:\r\n        currentQuestion === questions.length - 1\r\n          ? \"translate3d(0, 0, 0)\"\r\n          : \"translate3d(0, -100%, 0)\",\r\n    },\r\n  });\r\n  return transitions.map(({ item, props, key }) => {\r\n    return (\r\n      <animated.div className=\"question-animator\" style={props} key={key}>\r\n        <Question question={item} handleResponse={handleResponse} />\r\n      </animated.div>\r\n    );\r\n  });\r\n};\r\n\r\nexport default AnimatedQuestions;\r\n","import \"../../css/components/fixedUI.scss\";\r\nimport \"../../css/components/fixedUI_DT.css\";\r\nimport React from \"react\";\r\nimport { ReactComponent as CircleEmpty } from \"../../vectors/circleEmpty.svg\";\r\nimport { ReactComponent as CircleFilled } from \"../../vectors/circleFilled.svg\";\r\n\r\nconst renderCircles = (numCirc, currentPos) => {\r\n  let circles = [];\r\n  for (let i = 0; i < numCirc; i++) {\r\n    i < currentPos\r\n      ? circles.push(<CircleFilled key={i} className=\"circle\" />)\r\n      : circles.push(<CircleEmpty key={i} className=\"circle\" />);\r\n  }\r\n  return circles;\r\n};\r\n\r\nconst FixedUI = ({ numQuestions: numCirc, currentQuestion: currentPos }) => {\r\n  return (\r\n    <div className=\"fixed-UI\">\r\n      <div className=\"circles\">{renderCircles(numCirc, currentPos)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FixedUI;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-89.884 -78.943)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  transform: \"matrix(1.1129 0 0 .99792 -10.183 .19219)\",\n  d: \"m113.73 92.415c0 1.2974-21.347 13.622-22.471 12.974-1.1235-0.64868-1.1235-25.298 0-25.947 1.1235-0.64868 22.471 11.676 22.471 12.974z\",\n  fill: \"#fff\",\n  fillRule: \"evenodd\",\n  opacity: 0.96,\n  stroke: \"#dcdcdc\"\n}));\n\nfunction SvgPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"27.059mm\",\n    height: \"26.944mm\",\n    viewBox: \"0 0 27.059 26.944\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlay);\nexport default __webpack_public_path__ + \"static/media/play.ac4a0d67.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 16.527,\n  y: 0.74865,\n  width: 7.4985,\n  height: 25.447,\n  rx: 0.17777,\n  ry: 0.22071,\n  fill: \"#fff\",\n  fillRule: \"evenodd\",\n  opacity: 0.96,\n  stroke: \"#dcdcdc\",\n  strokeWidth: 1.4973\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3.0334,\n  y: 0.74865,\n  width: 7.4985,\n  height: 25.447,\n  rx: 0.17777,\n  ry: 0.22071,\n  fill: \"#fff\",\n  fillRule: \"evenodd\",\n  opacity: 0.96,\n  stroke: \"#dcdcdc\",\n  strokeWidth: 1.4973\n});\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"27.059mm\",\n    height: \"26.944mm\",\n    viewBox: \"0 0 27.059 26.944\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.50ce4722.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Play } from \"../../../vectors/play.svg\";\r\nimport { ReactComponent as Pause } from \"../../../vectors/pause.svg\";\r\n\r\nconst RenderPlay = ({ playState }) => {\r\n  switch (playState) {\r\n    case \"paused\":\r\n      return <Play className={\"player play-button\"}></Play>;\r\n    case \"playing\":\r\n      return <Pause className={\"player pause-buton\"} />;\r\n\r\n    default:\r\n      return \"Error\";\r\n  }\r\n};\r\n\r\nexport default RenderPlay;\r\n","const RenderContinue = ({ canContinue, handleContinueClicked }) => {\r\n  return (\r\n    canContinue && (\r\n      <button className={\"music-continue\"} onClick={handleContinueClicked}>\r\n        Continue to questions\r\n      </button>\r\n    )\r\n  );\r\n};\r\n\r\nexport default RenderContinue;\r\n","const togglePlayer = (playState, setPlayState, audio) => {\r\n  switch (playState) {\r\n    case \"paused\":\r\n      audio.play();\r\n      setPlayState(\"playing\");\r\n      return;\r\n    case \"playing\":\r\n      audio.pause();\r\n      setPlayState(\"paused\");\r\n      return;\r\n    default:\r\n      return;\r\n  }\r\n};\r\n\r\nexport default togglePlayer;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\n\r\nimport \"../../../css/components/setUI/musicPlayer/progressBar.scss\";\r\n\r\nconst ProgressBar = (props) => {\r\n  const [offset, setOffset] = useState(0);\r\n  const circleRef = useRef(null);\r\n  const { size, progress, strokeWidth } = props;\r\n\r\n  const center = size / 2;\r\n  const radius = size / 2 - strokeWidth / 2;\r\n  const circumference = 2 * Math.PI * radius;\r\n\r\n  useEffect(() => {\r\n    const progressOffset = ((100 - progress) / 100) * circumference;\r\n    setOffset(progressOffset);\r\n\r\n    circleRef.current.style = \"transition: stroke-dashoffset 300ms linear\";\r\n  }, [setOffset, progress, circumference, offset]);\r\n\r\n  return (\r\n    <div className=\"progress-bar\">\r\n      <svg className=\"svg\" width={size} height={size}>\r\n        <circle\r\n          className=\"svg-circle-bg\"\r\n          cx={center}\r\n          cy={center}\r\n          r={radius}\r\n          strokeWidth={strokeWidth}\r\n        />\r\n        <circle\r\n          className=\"svg-circle\"\r\n          ref={circleRef}\r\n          cx={center}\r\n          cy={center}\r\n          r={radius}\r\n          strokeWidth={strokeWidth}\r\n          strokeDasharray={circumference}\r\n          strokeDashoffset={offset}\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.headers.common[\"authorization\"] = localStorage.getItem(\"token\");\r\nconst { REACT_APP_LOCALHOST, REACT_APP_API_PORT } = process.env;\r\nconst endpoint = REACT_APP_LOCALHOST\r\n  ? `http://localhost:${REACT_APP_API_PORT}`\r\n  : `https://sonicremedies.net:${REACT_APP_API_PORT}`;\r\n\r\nconst onError = (err) => {\r\n  console.error(err.message);\r\n};\r\nconst API = {\r\n  getAll(resource) {\r\n    return axios\r\n      .get(endpoint + \"/\" + resource)\r\n      .then((res) => {\r\n        return res.data;\r\n      })\r\n      .catch(onError);\r\n  },\r\n  getOne(resource, id) {\r\n    return axios\r\n      .get(endpoint + \"/\" + resource + \"/\" + id)\r\n      .then((res) => res.data)\r\n      .catch(onError);\r\n  },\r\n  getOneFile(resource, id) {\r\n    return axios({\r\n      method: \"GET\",\r\n      url: endpoint + \"/\" + resource + \"/\" + id,\r\n      responseType: \"blob\",\r\n    })\r\n      .then((res) => res.data)\r\n      .catch(onError);\r\n  },\r\n  post(resource, data) {\r\n    return axios\r\n      .post(endpoint + \"/\" + resource, data)\r\n      .then((res) => res.data)\r\n      .catch(onError);\r\n  },\r\n  postForm(resource, data) {\r\n    return axios({\r\n      method: \"post\",\r\n      url: endpoint + \"/\" + resource,\r\n      data: data,\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n  },\r\n  deleteOne(resource, id) {\r\n    return axios\r\n      .delete(endpoint + \"/\" + resource + \"/\" + id)\r\n      .then((res) => res.data)\r\n      .catch(onError);\r\n  },\r\n  patch(resource, data) {\r\n    return axios\r\n      .patch(endpoint + \"/\" + resource, data)\r\n      .then((res) => res.data)\r\n      .catch(onError);\r\n  },\r\n  patchOne(resource, id, data) {\r\n    return axios\r\n      .patch(endpoint + \"/\" + resource + \"/\" + id, data)\r\n      .then((res) => res.data)\r\n      .catch(onError);\r\n  },\r\n  putOne(resource, id, data) {\r\n    return axios\r\n      .put(endpoint + \"/\" + resource + \"/\" + id, data)\r\n      .then((res) => res.data)\r\n      .catch(onError);\r\n  },\r\n};\r\nexport default API;\r\n","import \"../../../css/components/musicPage.scss\";\r\nimport { Howl } from \"howler\";\r\nimport { useState, useEffect, useCallback, Fragment } from \"react\";\r\nimport RenderPlay from \"./renderPlay\";\r\nimport RenderContinue from \"./renderContinue\";\r\nimport togglePlayer from \"./togglePlayer\";\r\nimport ProgressBar from \"./progressBar\";\r\nimport API from \"../../../services/api-client\";\r\n\r\nconst getMusicFile = async (filename, setAudio) => {\r\n  const musicfileblob = await API.getOneFile(\"music/files\", filename);\r\n  const myhowl = new Howl({\r\n    src: [URL.createObjectURL(musicfileblob)],\r\n    html5: true,\r\n    format: \"mp3\",\r\n  });\r\n  myhowl.on(\"loaderror\", () => {\r\n    throw Error(\"Howler error loading downloaded file\");\r\n  });\r\n  setAudio(myhowl);\r\n};\r\n\r\nconst MusicPlayer = ({ filename, handleMusicDone }) => {\r\n  const [playState, setPlayState] = useState(\"paused\");\r\n  const [canContinue, setCanContinue] = useState(false);\r\n  const [audio, setAudio] = useState(null);\r\n  const [progress, setProgress] = useState(0);\r\n  const checkHalfway = useCallback(() => {\r\n    if (audio.seek() > audio.duration() / 2) {\r\n      clearInterval(checkHalfway);\r\n      setCanContinue(true);\r\n    }\r\n  }, [audio]);\r\n  const updateProgress = useCallback(() => {\r\n    setProgress((audio.seek() / audio.duration()) * 100);\r\n  }, [audio]);\r\n\r\n  useEffect(() => {\r\n    if (!audio && filename) {\r\n      getMusicFile(filename + \".mp3\", setAudio);\r\n    }\r\n  }, [audio, filename]);\r\n  useEffect(() => {\r\n    if (audio) {\r\n      const checkHalfwayInterval = setInterval(checkHalfway, 1000);\r\n      const setProgressInterval = setInterval(updateProgress, 300);\r\n      audio.on(\"end\", () => {\r\n        audio.seek(0);\r\n        setPlayState(\"paused\");\r\n      });\r\n      return () => {\r\n        clearInterval(checkHalfwayInterval);\r\n        clearInterval(setProgressInterval);\r\n        audio.unload();\r\n      };\r\n    }\r\n  }, [checkHalfway, updateProgress, audio]);\r\n\r\n  return audio ? (\r\n    <Fragment>\r\n      <div\r\n        className=\"music-player\"\r\n        onClick={() => togglePlayer(playState, setPlayState, audio)}\r\n      >\r\n        <ProgressBar size={180} progress={progress} strokeWidth={6} />\r\n        <RenderPlay playState={playState} />\r\n      </div>\r\n      <RenderContinue\r\n        canContinue={canContinue}\r\n        handleContinueClicked={() => {\r\n          audio.pause();\r\n          handleMusicDone();\r\n        }}\r\n      />\r\n    </Fragment>\r\n  ) : (\r\n    <h1>Loading audio...</h1>\r\n  );\r\n};\r\n\r\nexport default MusicPlayer;\r\n","import \"../../css/components/setUI/orientationPage.scss\";\r\nimport UserButton from \"../common/userButton\";\r\nconst OrientationPage = ({ setId, totalSets, clickContinue }) => {\r\n  return (\r\n    <div className=\"orientation-page global-container\">\r\n      <h1>\r\n        Question set {setId + 1} / {totalSets}\r\n      </h1>\r\n      <UserButton text=\"Continue\" onClick={clickContinue} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrientationPage;\r\n","import \"../../css/components/setUI/completePage.scss\";\r\nconst CompletePage = () => {\r\n  return (\r\n    <div className=\"global-container complete-page\">\r\n      <h1>You have completed the survey. Thank you!</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompletePage;\r\n","import \"../../css/components/set.scss\";\r\nimport { useState } from \"react\";\r\nimport AnimatedQuestions from \"./animatedQuestions\";\r\nimport FixedUI from \"./fixedUI\";\r\nimport MusicPage from \"./musicPlayer/musicPage\";\r\nimport OrientationPage from \"./orientationPage\";\r\nimport CompletePage from \"./completePage\";\r\n\r\nconst Set = ({\r\n  musicFilename,\r\n  setId,\r\n  set,\r\n  setCurrentSet,\r\n  totalSets,\r\n  postResponse,\r\n}) => {\r\n  const questions = set.questions;\r\n  const [currentQuestion, updateCurrentQuestion] = useState(0);\r\n  const [page, setPage] = useState(\"orientation\");\r\n  const [savedResponses, updateSavedResponses] = useState([]);\r\n  const handleResponse = (response) => {\r\n    const updatedResponses = [...savedResponses, response];\r\n    updateSavedResponses(updatedResponses);\r\n    if (currentQuestion === questions.length - 1) {\r\n      //End of questions\r\n\r\n      if (setId !== totalSets - 1) {\r\n        updateCurrentQuestion(0);\r\n        setCurrentSet(setId + 1);\r\n        setPage(\"orientation\");\r\n      } else {\r\n        //We are at the end of the survey\r\n        setPage(\"complete\");\r\n        postResponse(updatedResponses);\r\n      }\r\n    } else {\r\n      updateCurrentQuestion(currentQuestion + 1);\r\n    }\r\n  };\r\n\r\n  switch (page) {\r\n    case \"orientation\":\r\n      return (\r\n        <OrientationPage\r\n          setId={setId}\r\n          totalSets={totalSets}\r\n          clickContinue={() => {\r\n            if (set.music) setPage(\"music\");\r\n            else {\r\n              setPage(\"questions\");\r\n            }\r\n          }}\r\n        />\r\n      );\r\n    case \"music\":\r\n      return (\r\n        <div className=\"music-page global-container\">\r\n          <MusicPage\r\n            filename={musicFilename}\r\n            handleMusicDone={() => {\r\n              setPage(\"questions\");\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    case \"questions\":\r\n      return (\r\n        <div className=\"set global-container\">\r\n          <div className=\"set-questions\">\r\n            <AnimatedQuestions\r\n              questions={questions}\r\n              currentQuestion={currentQuestion}\r\n              handleResponse={handleResponse}\r\n            />\r\n          </div>\r\n          <FixedUI\r\n            numQuestions={questions.length}\r\n            currentQuestion={currentQuestion}\r\n          />\r\n        </div>\r\n      );\r\n    case \"complete\":\r\n      return <CompletePage />;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nexport default Set;\r\n","import API from \"../services/api-client.js\";\r\n\r\nconst convertSurveyData = (sets, questions) => {\r\n  let new_sets = [];\r\n  sets.forEach((set) => {\r\n    let new_questions = [];\r\n    set.questions.forEach((question) => {\r\n      const my_q = questions[question];\r\n      new_questions.push({\r\n        ask: my_q.title,\r\n        responses: my_q.options,\r\n        type: my_q.input_type,\r\n        id: my_q._id\r\n      });\r\n    });\r\n    new_sets.push({ questions: new_questions, music: set.music });\r\n  });\r\n  return { sets: new_sets };\r\n};\r\n\r\nconst getSurveyData = async () => {\r\n  const sets = await API.getAll(\"sets\");\r\n  const questions = await API.getAll(\"questions/idict\");\r\n  return convertSurveyData(sets, questions);\r\n};\r\nexport default getSurveyData;\r\n","import API from \"../services/api-client\";\r\nimport _ from \"underscore\";\r\n\r\nconst getMusicList = async (sets) => {\r\n  const num_musics = sets.filter((set) => set.music).length;\r\n  let musics = await API.getAll(\"music\");\r\n  let random_sample = _.sample(musics, num_musics);\r\n  let i = -1;\r\n  let music_filenames = [];\r\n  sets.map((set) =>\r\n    set.music\r\n      ? music_filenames.push(random_sample[(i += 1)]._id)\r\n      : music_filenames.push(null)\r\n  );\r\n  return music_filenames;\r\n};\r\n\r\nexport default getMusicList;\r\n","import Set from \"./setUI/set\";\r\nimport { useState, useEffect } from \"react\";\r\nimport getSurveyData from \"../utils/getSurveyData\";\r\nimport getMusicList from \"../utils/getMusicList\";\r\nimport API from \"../services/api-client\";\r\n\r\nconst Survey = () => {\r\n  const [currentSet, setCurrentSet] = useState(0);\r\n  const [surveyData, setSurveyData] = useState(null);\r\n  const [musicList, setMusicList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getSurveyData()\r\n      .then((result) => {\r\n        setSurveyData(result);\r\n        return result.sets;\r\n      })\r\n      .then((sets) => {\r\n        return getMusicList(sets);\r\n      })\r\n      .then((musicListData) => {\r\n        setMusicList(musicListData);\r\n      });\r\n  }, []);\r\n\r\n  //make post request with user responses\r\n  const postResponse = (answers) => {\r\n    console.log(surveyData);\r\n\r\n    let question_arr = [];\r\n    let question_types_arr = [];\r\n    let music_arr = [];\r\n    let num_questions_arr = [];\r\n    let formatted_answers = [];\r\n\r\n    for (let i = 0; i < surveyData.sets.length; i++) {\r\n      let cur_set = surveyData.sets[i];\r\n      //array of every piece of music in the survey\r\n      if (cur_set.music) {\r\n        music_arr.push(\"music included\");\r\n      } else {\r\n        music_arr.push(\"no music included\");\r\n      }\r\n      //number of questions associated with each piece of music\r\n      num_questions_arr.push(cur_set.questions.length);\r\n      //all questions\r\n      for (let j = 0; j < cur_set.questions.length; j++) {\r\n        question_arr.push(cur_set.questions[j].id);\r\n        question_types_arr.push(cur_set.questions[j].type);\r\n      }\r\n    }\r\n\r\n    //format answers\r\n    for (let i = 0; i < answers.length; i++) {\r\n      if (\r\n        question_types_arr[i] === \"multiple-choice\" ||\r\n        question_types_arr[i] === \"color\"\r\n      ) {\r\n        formatted_answers.push(answers[i].toString());\r\n      } else if (question_types_arr[i] === \"short-answer\") {\r\n        formatted_answers.push(answers[i]);\r\n      } else if (question_types_arr[i] === \"check-box\") {\r\n        let str = \"\";\r\n        for (let j = 0; j < answers[i].length; j++) {\r\n          if (answers[i][j]) {\r\n            str += \"1\";\r\n          } else {\r\n            str += \"0\";\r\n          }\r\n        }\r\n        formatted_answers.push(str);\r\n      }\r\n    }\r\n\r\n    const response = {\r\n      musicids: music_arr,\r\n      questionGroups: num_questions_arr,\r\n      questions: question_arr,\r\n      answers: formatted_answers,\r\n    };\r\n    console.log(response);\r\n    const posted = API.post(\"responses\", response);\r\n  }; //postResponse\r\n\r\n  if (surveyData !== null && surveyData !== undefined) {\r\n    const { sets } = surveyData;\r\n    return (\r\n      <Set\r\n        musicFilename={musicList[currentSet]}\r\n        setId={currentSet}\r\n        set={sets[currentSet]}\r\n        nextSet={sets[currentSet + 1]}\r\n        setCurrentSet={setCurrentSet}\r\n        totalSets={sets.length}\r\n        postResponse={postResponse}\r\n      />\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default Survey;\r\n\r\n// {\r\n//   id: (automatically generated),\r\n//   music_arr: [],\r\n//   //sets_arr: [],\r\n//   questions: [[]], //these will not die today. or andy day\r\n//   responses: [[]]\r\n// }\r\n","import { Component } from \"react\";\r\nimport Button from \"./common/userButton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/components/home.scss\";\r\nimport \"../css/components/common/arrowButton.scss\";\r\n\r\nclass Home extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <div className=\"home global-container\">\r\n        <h1>Welcome to the survey!</h1>\r\n        <p>\r\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin\r\n          fringilla quis purus eu rhoncus. Duis ornare odio nec dolor aliquet\r\n          fermentum. In tortor urna, placerat vel lorem at, dapibus elementum\r\n          mi. Phasellus mi ex, malesuada quis tellus in, molestie vulputate\r\n          enim. Vestibulum sed tempor mi, eu dictum tortor. Fusce nec mauris\r\n          lorem. Nam pellentesque orci purus, at gravida turpis cursus sed.\r\n          Fusce feugiat mauris sed iaculis ornare. Vestibulum sapien urna,\r\n          consectetur quis sem sit amet, vestibulum hendrerit sem.\r\n        </p>\r\n        <Link to=\"survey\">\r\n          <Button text={\"Begin\"} />\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","const NotFound = () => {\r\n  return <h1 className=\"global-h1\">Page Not Found.</h1>;\r\n};\r\n\r\nexport default NotFound;\r\n","import { useState } from \"react\";\r\nimport API from \"../../services/api-client\";\r\n\r\nconst doLogin = async (credentials, setLoggedIn) => {\r\n  const res = await API.post(\"login\", credentials);\r\n  if (res) {\r\n    localStorage.setItem(\"token\", res);\r\n    setLoggedIn(true);\r\n  } else {\r\n    setLoggedIn(false);\r\n  }\r\n};\r\n\r\nconst Login = ({ setLoggedIn }) => {\r\n  const [credentials, setCredentials] = useState({\r\n    username: \"admin\",\r\n    password: \"\",\r\n  });\r\n\r\n  return (\r\n    <div className=\"admin-container\">\r\n      <form>\r\n        <label>Username</label>\r\n        <input\r\n          defaultValue=\"admin\"\r\n          onChange={(e) =>\r\n            setCredentials({\r\n              username: e.target.value,\r\n              password: credentials.password,\r\n            })\r\n          }\r\n        ></input>\r\n        <label>Password</label>\r\n        <input\r\n          type=\"password\"\r\n          onChange={(e) =>\r\n            setCredentials({\r\n              username: credentials.username,\r\n              password: e.target.value,\r\n            })\r\n          }\r\n        ></input>\r\n        <button\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            doLogin(credentials, setLoggedIn);\r\n          }}\r\n        >\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Login from \"./login\";\r\nimport API from \"../../services/api-client\";\r\n\r\nconst { REACT_APP_LOCALHOST } = process.env;\r\n\r\nconst checkUser = async (token, setLoggedIn, setUser) => {\r\n  const res = await API.getAll(\"login/me\", token);\r\n  setUser(res);\r\n};\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const [user, setUser] = useState(\"\");\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  useEffect(() => {\r\n    checkUser(localStorage.getItem(\"token\"), setLoggedIn, setUser);\r\n    if (user === \"admin\") setLoggedIn(true);\r\n  }, [user]);\r\n\r\n  return (\r\n    <div>\r\n      {!loggedIn && (\r\n        <div>\r\n          <h3>Please log in to continue</h3>\r\n          {/* {REACT_APP_LOCALHOST ? \"445603256435-u551v2vd72660dfs8em9mtgmbd6sg4rt.apps.googleusercontent.com\" : \"445603256435-vggfssfjijfmmie75f0k7if4mjlvtp8b.apps.googleusercontent.com\"} */}\r\n          <Login setLoggedIn={setLoggedIn}></Login>\r\n        </div>\r\n      )}\r\n\r\n      <Route\r\n        {...rest}\r\n        render={(props) => {\r\n          if (loggedIn === true) {\r\n            return <Component {...props} />;\r\n          }\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import Joi from \"joi\";\r\n\r\nconst schema = Joi.object({\r\n  filename: Joi.string().pattern(/.+.(mp3)$/),\r\n  textfield: Joi.string().max(30),\r\n  number: Joi.number().max(1000).min(1),\r\n});\r\nconst checkFileInput = (input, setValidationError, setReadyToUpload) => {\r\n  const files = input.target.files;\r\n  let failed = false;\r\n  if (files.length === 0) {\r\n    setReadyToUpload(false);\r\n    setValidationError(\"\");\r\n    return;\r\n  }\r\n  for (let i = 0; i < files.length; i++) {\r\n    const filename = files[i].name;\r\n    const { error } = schema.validate({ filename: filename });\r\n    if (!error) {\r\n      setValidationError(\"\");\r\n    } else {\r\n      setValidationError(filename + \" is not a valid file format.\");\r\n      failed = true;\r\n    }\r\n  }\r\n  if (!failed) setReadyToUpload(true);\r\n  else {\r\n    setReadyToUpload(false);\r\n  }\r\n};\r\nconst checkTextInput = (\r\n  errors,\r\n  input,\r\n  setValidationError,\r\n  setFieldsFilled,\r\n  i,\r\n  type\r\n) => {\r\n  const temp_errors = [...errors];\r\n  const text = input.target.value;\r\n  const { error } =\r\n    type === \"number\"\r\n      ? schema.validate({ number: text })\r\n      : schema.validate({ textfield: text });\r\n  if (!error) {\r\n    temp_errors[i] = \"\";\r\n    setValidationError(temp_errors);\r\n    let complete = true;\r\n    temp_errors.forEach((err) => {\r\n      if (err || err === undefined) complete = false;\r\n    });\r\n    setFieldsFilled(complete);\r\n  }\r\n  if (error) {\r\n    temp_errors[i] = input.target.name + \" \" + error.message.split('\"')[2];\r\n    setValidationError(temp_errors);\r\n    setFieldsFilled(false);\r\n  }\r\n};\r\n\r\nexport { checkFileInput, checkTextInput };\r\n","import { useState } from \"react\";\r\nconst inputFields = [\r\n  { name: \"title\", readable: \"Title\", example: \"Stupid Love\" },\r\n  { name: \"artist\", readable: \"Artist\", example: \"Lady Gaga\" },\r\n  { name: \"album\", readable: \"Album\", example: \"Chromatica\" },\r\n  { name: \"genre\", readable: \"Genre\", example: \"Pop\" },\r\n  { name: \"tempo\", readable: \"Tempo (bpm)\", example: \"118\", type: \"number\" },\r\n];\r\n\r\nconst TextFields = ({ validator, setFieldsFilled, sendFields }) => {\r\n  const initErrors = [];\r\n  inputFields.forEach(() => initErrors.push(undefined));\r\n  const [errorMessages, setErrorMessages] = useState(initErrors);\r\n  const [fields, setFields] = useState({});\r\n  return (\r\n    <div>\r\n      {inputFields.map((field, i) => (\r\n        <div key={field.name} className=\"field-container\">\r\n          <div className=\"fc-main\">\r\n            <label htmlFor={field.name}>{field.readable}</label>\r\n            <input\r\n              required={true}\r\n              type=\"text\"\r\n              name={field.name}\r\n              placeholder={\"Ex. \" + field.example}\r\n              onChange={(e) => {\r\n                validator(\r\n                  errorMessages,\r\n                  e,\r\n                  setErrorMessages,\r\n                  setFieldsFilled,\r\n                  i,\r\n                  field.type\r\n                );\r\n                let temp_fields = { ...fields };\r\n                temp_fields[field.name] = e.target.value.toLowerCase();\r\n                setFields(temp_fields);\r\n                sendFields(temp_fields);\r\n              }}\r\n            ></input>\r\n          </div>\r\n          <p className=\"fc-err\">{errorMessages[i]}</p>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextFields;\r\n","const field = \"Consistent Vibe\";\r\n\r\nconst YesNoFields = ({ setField }) => {\r\n  return (\r\n    <div className=\"field-container\" key={field}>\r\n      <div className=\"fc-main\">\r\n        <label htmlFor={field}>{field}</label>\r\n        <div\r\n          style={{\r\n            minWidth: \"55%\",\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n          }}\r\n        >\r\n          <div className=\"yes-no-option\">\r\n            <label htmlFor=\"yes\">Yes</label>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"yes\"\r\n              name={field}\r\n              value={true}\r\n              onChange={(e) => setField(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"yes-no-option\">\r\n            <label htmlFor=\"no\">No</label>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"no\"\r\n              name={field}\r\n              value={false}\r\n              defaultChecked={true}\r\n              onChange={(e) => setField(!e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YesNoFields;\r\n","const SliderFields = ({ setField }) => {\r\n  const field = \"Improvisation\";\r\n  const vals = [\"0%\", \"25%\", \"50%\", \"75%\", \"100%\"];\r\n  return (\r\n    <div className=\"field-container\" key={field}>\r\n      <div className=\"fc-main\">\r\n        <label htmlFor={field}>{field}</label>\r\n        <div\r\n          style={{ display: \"flex\", flexDirection: \"column\", minWidth: \"55%\" }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {vals.map((val) => (\r\n              <div style={{ fontSize: \"10px\" }} key={val}>\r\n                {val}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <input\r\n            id={field}\r\n            name={field}\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n            step=\"25\"\r\n            defaultValue=\"0\"\r\n            onChange={(e) => setField(e.target.value)}\r\n          ></input>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SliderFields;\r\n","import { useState } from \"react\";\r\nconst keyNames = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"N/A\"];\r\nconst keyQualities = [\r\n  \"Major\",\r\n  \"Minor\",\r\n  \"Dorian\",\r\n  \"Phrygian\",\r\n  \"Lydian\",\r\n  \"Mixolydian\",\r\n  \"Locrian\",\r\n  \"N/A\",\r\n];\r\n\r\nconst buildPKString = (letter, flatChecked, sharpChecked, quality) => {\r\n  const mark = flatChecked ? \"f\" : sharpChecked ? \"s\" : \"\";\r\n  if (letter === \"N/A\") return \"N/A\";\r\n  else {\r\n    return letter + mark + (quality !== \"N/A\" ? quality : \"\");\r\n  }\r\n};\r\n\r\nconst PrevailKeyField = ({ setPrevailingKey }) => {\r\n  const [keySelected, setKeySelected] = useState(false);\r\n  const [flatChecked, setFlatChecked] = useState(false);\r\n  const [sharpChecked, setSharpChecked] = useState(false);\r\n  const [letter, setLetter] = useState(\"N/A\");\r\n  const [quality, setQuality] = useState(\"Major\");\r\n  return (\r\n    <div className=\"field-container\">\r\n      <div className=\"fc-main\">\r\n        <label htmlFor=\"Prevailing Key\">Prevailing Key</label>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"flex-end\",\r\n            alignItems: \"\",\r\n            minWidth: \"55%\",\r\n          }}\r\n        >\r\n          <select\r\n            defaultValue={\"N/A\"}\r\n            name=\"Prevailing Key\"\r\n            onChange={(e) => {\r\n              if (e.target.value === \"N/A\") {\r\n                setKeySelected(false);\r\n                setFlatChecked(false);\r\n                setSharpChecked(false);\r\n                setQuality(\"Major\");\r\n              } else {\r\n                setKeySelected(true);\r\n              }\r\n              setLetter(e.target.value);\r\n              setPrevailingKey(\r\n                buildPKString(\r\n                  e.target.value,\r\n                  flatChecked,\r\n                  sharpChecked,\r\n                  quality\r\n                )\r\n              );\r\n            }}\r\n          >\r\n            {keyNames.map((keyName) => (\r\n              <option key={keyName} value={keyName}>\r\n                {keyName}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {keySelected ? (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"end\",\r\n                marginTop: \"0.5rem\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  marginRight: \"0.5rem\",\r\n                }}\r\n              >\r\n                <label htmlFor=\"♯\">♯</label>\r\n                <input\r\n                  style={{ width: \"1rem\" }}\r\n                  type=\"checkbox\"\r\n                  name=\"♯\"\r\n                  disabled={flatChecked}\r\n                  onChange={() => {\r\n                    setPrevailingKey(\r\n                      buildPKString(letter, flatChecked, !sharpChecked, quality)\r\n                    );\r\n                    setSharpChecked(!sharpChecked);\r\n                  }}\r\n                />\r\n              </div>\r\n              <div style={{ marginRight: \"0.5rem\" }}>\r\n                <label htmlFor=\"♭\">♭</label>\r\n                <input\r\n                  style={{ width: \"1rem\" }}\r\n                  type=\"checkbox\"\r\n                  name=\"♭\"\r\n                  disabled={sharpChecked}\r\n                  onClick={() => {\r\n                    setPrevailingKey(\r\n                      buildPKString(letter, !flatChecked, sharpChecked, quality)\r\n                    );\r\n                    setFlatChecked(!flatChecked);\r\n                  }}\r\n                />\r\n              </div>\r\n              <select\r\n                name=\"Key Quality\"\r\n                onChange={(e) => {\r\n                  setQuality(e.target.value);\r\n                  setPrevailingKey(\r\n                    buildPKString(\r\n                      letter,\r\n                      flatChecked,\r\n                      sharpChecked,\r\n                      e.target.value\r\n                    )\r\n                  );\r\n                }}\r\n                defaultValue=\"Major\"\r\n              >\r\n                {keyQualities.map((quality) => (\r\n                  <option value={quality} key={quality}>\r\n                    {quality}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrevailKeyField;\r\n","import API from \"../../../services/api-client\";\r\n\r\nconst submitMusic = async (submission, file) => {\r\n  try {\r\n    const res = await API.post(\"music\", submission);\r\n    if (res) {\r\n      if (res.error) alert(res.error);\r\n      else {\r\n        let formData = new FormData();\r\n        formData.append(\"filename\", res._id);\r\n        formData.append(\"file\", file);\r\n        API.postForm(\"music/files\", formData);\r\n        alert(\"Success!\");\r\n      }\r\n    } else {\r\n      alert(\"Failure. You may need to login again.\");\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nexport default submitMusic;\r\n","import { Howl } from \"howler\";\r\n\r\nconst getDuration = (\r\n  e,\r\n  setDuration,\r\n  setFileValidationError,\r\n  setFileReadyToUpload,\r\n  setFile\r\n) => {\r\n  if (e.target.files[0] && e.target.files[0].type === \"audio/mpeg\") {\r\n    const fileObj = e.target.files[0];\r\n    const objectURL = window.URL.createObjectURL(fileObj);\r\n    const sound = new Howl({ src: [objectURL], format: \"mp3\" });\r\n    sound.on(\"loaderror\", () => {\r\n      setDuration(null);\r\n      setFileValidationError(\r\n        \"File could not be loaded. May be corrupted mp3 file.\"\r\n      );\r\n      setFileReadyToUpload(false);\r\n    });\r\n    sound.on(\"load\", () => {\r\n      setDuration(Math.trunc(sound.duration()));\r\n      setFileValidationError(\"\");\r\n      setFile(fileObj);\r\n      setFileReadyToUpload(true);\r\n    });\r\n  } else {\r\n    setFileValidationError(\"Invalid File or No File Selected\");\r\n    setFileReadyToUpload(false);\r\n  }\r\n};\r\n\r\nexport default getDuration;\r\n","import { useState } from \"react\";\r\nimport { checkTextInput } from \"./musicInputValidation\";\r\nimport TextFields from \"./textFields\";\r\nimport YesNoFields from \"./yesNoFields\";\r\nimport SliderFields from \"./sliderFields\";\r\nimport PrevailKeyField from \"./prevailKeyField\";\r\nimport submitMusic from \"./submitMusic\";\r\nimport getDuration from \"./getDuration\";\r\n\r\nconst MusicFileForm = () => {\r\n  const [fileReadyToUpload, setFileReadyToUpload] = useState(false);\r\n  const [fieldsFilled, setFieldsFilled] = useState(false);\r\n  const [fileValidationError, setFileValidationError] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [submission, setSubmission] = useState({\r\n    prevailingKey: \"N/A\",\r\n    improvisation: 0,\r\n    consistent_vibe: false,\r\n  });\r\n  const updateSubParam = (pairs) => {\r\n    let temp_submission = { ...submission };\r\n    for (const [key, value] of Object.entries(pairs)) {\r\n      temp_submission[key] = value;\r\n    }\r\n    setSubmission(temp_submission);\r\n  };\r\n  return (\r\n    <form>\r\n      <input\r\n        required={true}\r\n        type=\"file\"\r\n        onInput={(e) => {\r\n          getDuration(\r\n            e,\r\n            (value) => updateSubParam({ duration: value }),\r\n            setFileValidationError,\r\n            setFileReadyToUpload,\r\n            setFile\r\n          );\r\n        }}\r\n        accept={\"audio/mp3\"}\r\n      />\r\n      <p className=\"err\">{fileValidationError}</p>\r\n      <TextFields\r\n        validator={checkTextInput}\r\n        setFieldsFilled={setFieldsFilled}\r\n        sendFields={(value) => updateSubParam(value)}\r\n      />\r\n      <PrevailKeyField\r\n        setPrevailingKey={(value) => updateSubParam({ prevailingKey: value })}\r\n      />\r\n      <SliderFields\r\n        setField={(value) => updateSubParam({ improvisation: value })}\r\n      />\r\n      <YesNoFields\r\n        setField={(value) => updateSubParam({ consistent_vibe: value })}\r\n      />\r\n      <button\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          if (window.confirm(\"Are you sure you want to submit this?\")) {\r\n            submitMusic(submission, file);\r\n          }\r\n        }}\r\n        style={fileReadyToUpload && fieldsFilled ? {} : { display: \"none\" }}\r\n      >\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MusicFileForm;\r\n","import \"../../../css/components/admin/uploadMusic.scss\";\r\nimport MusicFileForm from \"./musicFileForm\";\r\n\r\nconst UploadMusic = () => {\r\n  return (\r\n    <div className=\"admin-container upload-music\">\r\n      <h1>Upload a music file (.mp3)</h1>\r\n      <MusicFileForm />\r\n    </div>\r\n  );\r\n};\r\nexport default UploadMusic;\r\n","import \"../../../css/components/admin/responsePage/responsepage.scss\";\r\n\r\nconst ResponsePage = () => {\r\n  return (\r\n    <div className=\"admin-container response-page\">\r\n      <input\r\n        type=\"search\"\r\n        placeholder=\"Search for question title or music title/artist/genre\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResponsePage;\r\n","import React from \"react\";\r\n\r\nimport \"../../css/components/admin/adminQuestion.css\";\r\n\r\nconst AdminQuestion = ({ question, deleteQuestion }) => {\r\n  if (question.input_type === \"multiple-choice\") {\r\n    return (\r\n      <div>\r\n        <h3>{question.title}</h3>\r\n        <h5>{question.input_type}</h5>\r\n\r\n        <ul>\r\n          {question.options.map((option) => (\r\n            <li key={option}>{option}</li>\r\n          ))}\r\n        </ul>\r\n        <button\r\n          className=\"small-btn\"\r\n          onClick={() => deleteQuestion(question._id)}\r\n        >\r\n          Remove From Set\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n  if (question.input_type === \"check-box\") {\r\n    return (\r\n      <div>\r\n        <h3>{question.title}</h3>\r\n        <h5>{question.input_type}</h5>\r\n        <ul>\r\n          {question.options.map((option) => (\r\n            <li key={option}>{option}</li>\r\n          ))}\r\n        </ul>\r\n        <button\r\n          className=\"small-btn\"\r\n          onClick={() => deleteQuestion(question._id)}\r\n        >\r\n          Remove From Set\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n  if (question.input_type === \"short-answer\") {\r\n    return (\r\n      <div>\r\n        <h3>{question.title}</h3>\r\n        <h5>{question.input_type}</h5>\r\n        <button\r\n          className=\"small-btn\"\r\n          onClick={() => deleteQuestion(question._id)}\r\n        >\r\n          Remove From Set\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n  if (question.input_type === \"color\") {\r\n    return (\r\n      <div>\r\n        <h3>{question.title}</h3>\r\n        <h5>{question.input_type}</h5>\r\n        <button\r\n          className=\"small-btn\"\r\n          onClick={() => deleteQuestion(question._id)}\r\n        >\r\n          Remove From Set\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n  return <h3>Error: invalid input type</h3>;\r\n};\r\n\r\nexport default AdminQuestion;\r\n","import { useState } from \"react\";\r\n\r\nconst AdminQCheckbox = ({ question, addToSelected }) => {\r\n  const [checked, setChecked] = useState(false);\r\n\r\n  const handleChange = () => {\r\n    setChecked(!checked);\r\n    addToSelected(question._id);\r\n  };\r\n  return (\r\n    <div>\r\n      <label>\r\n        <input\r\n          type=\"checkbox\"\r\n          value={question.title}\r\n          checked={checked}\r\n          onChange={() => handleChange(question._id)}\r\n        />\r\n      </label>\r\n      {question.title}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminQCheckbox;\r\n","import { useState, useEffect } from \"react\";\r\nimport AdminQCheckbox from \"./AdminQCheckbox\";\r\nimport API from \"../../services/api-client\";\r\n\r\nconst AddQuestion = ({ onAddQuestions, currentQuestions }) => {\r\n  const [questions, setQuestions] = useState([]);\r\n  const [selected, setSelected] = useState([]);\r\n\r\n  //get questions\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const fetchQuestions = async () => {\r\n      const data = await API.getAll(\"questions\");\r\n      const filtered = data.filter(\r\n        (question) => !currentQuestions.includes(question._id)\r\n      );\r\n      setQuestions(filtered);\r\n    };\r\n\r\n    if (mounted) {\r\n      fetchQuestions();\r\n    }\r\n    return () => (mounted = false);\r\n  }, [currentQuestions]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onAddQuestions(selected);\r\n  };\r\n\r\n  const addToSelected = (id) => {\r\n    let selected_copy = selected;\r\n    if (!selected.includes(id)) {\r\n      selected_copy.push(id);\r\n    } else {\r\n      const index = selected_copy.indexOf(id);\r\n      selected_copy.splice(index, 1);\r\n    }\r\n    setSelected(selected_copy);\r\n  };\r\n\r\n  return (\r\n    <form className=\"add-question-form\" onSubmit={onSubmit}>\r\n      {questions.map(\r\n        (question) =>\r\n          !currentQuestions.includes(question) && (\r\n            <AdminQCheckbox\r\n              question={question}\r\n              addToSelected={addToSelected}\r\n              key={question._id}\r\n            />\r\n          )\r\n      )}\r\n      <input type=\"submit\" value=\"Add Questions\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddQuestion;\r\n","import React, { useState } from \"react\";\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { FixedSizeList, areEqual } from \"react-window\";\r\nimport \"../../css/components/admin/changeOrder.css\";\r\n\r\n\r\n\r\nfunction getStyle({ provided, style, isDragging }) {\r\n    // If you don't want any spacing between your items\r\n    // then you could just return this.\r\n    // I do a little bit of magic to have some nice visual space\r\n    // between the row items\r\n    const combined = {\r\n        ...style,\r\n        ...provided.draggableProps.style\r\n    };\r\n\r\n    const marginBottom = 8;\r\n    const withSpacing = {\r\n        ...combined,\r\n        height: isDragging ? combined.height : combined.height - marginBottom,\r\n        marginBottom\r\n    };\r\n    return withSpacing;\r\n}\r\n\r\nfunction Item({ provided, item, style, isDragging }) {\r\n    return (\r\n        <div\r\n            {...provided.draggableProps}\r\n            {...provided.dragHandleProps}\r\n            ref={provided.innerRef}\r\n            style={getStyle({ provided, style, isDragging })}\r\n            className={`item ${isDragging ? \"is-dragging\" : \"\"}`}\r\n        >\r\n            {item.title}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst Row = React.memo(function Row(props) {\r\n    const { data: items, index, style } = props;\r\n    const item = items[index];\r\n    return (\r\n        <Draggable draggableId={item._id} index={index} key={item._id}>\r\n            {provided => <Item provided={provided} item={item} style={style} />}\r\n        </Draggable>\r\n    );\r\n}, areEqual);\r\n\r\n\r\nconst ChangeOrder = ({ curquestions, onChangeOrder }) => {\r\n\r\n    const [questions, setQuestions] = useState(curquestions);\r\n\r\n\r\n    // useEffect(() => {\r\n    //     setQuestions(onDragEnd())\r\n    // }, [onDragEnd])\r\n\r\n    function reorder(startIndex, endIndex) {\r\n        const result = questions.map((list_item) => { return list_item })\r\n        const [removed] = result.splice(startIndex, 1);\r\n        result.splice(endIndex, 0, removed);\r\n               \r\n        return result;\r\n      }\r\n    \r\n    \r\n      //TODO: Move to Admin instead of doing all this weird state stuff\r\n      const onDragEnd = (result) => {\r\n        console.log(result)\r\n        if (!result.destination) {\r\n          return;\r\n        }\r\n        if (result.source.index === result.destination.index) {\r\n          return;\r\n        }\r\n    \r\n        const newItems = reorder(\r\n          result.source.index,\r\n          result.destination.index\r\n        );\r\n        \r\n        setQuestions(newItems);\r\n    \r\n      };\r\n    \r\n    return (\r\n\r\n        //set.questions.map((questionId) => questions.find(() => question._id === questionId))\r\n        <div>\r\n            <DragDropContext onDragEnd={(result) => onDragEnd(result)} >\r\n                <div className=\"dnd\">\r\n                    <Droppable\r\n                        droppableId=\"droppable\"\r\n                        mode=\"virtual\"\r\n                        renderClone={(provided, snapshot, rubric) => (\r\n                            <Item\r\n                                provided={provided}\r\n                                isDragging={snapshot.isDragging}\r\n                                item={questions[rubric.source.index]}\r\n                            />\r\n                        )}\r\n                    >\r\n                        {provided => (\r\n                            <FixedSizeList\r\n                                height={80 * questions.length}\r\n                                itemCount={questions.length}\r\n                                itemSize={80}\r\n                                width={300}\r\n                                outerRef={provided.innerRef}\r\n                                itemData={questions}\r\n                            >\r\n                                {Row}\r\n                            </FixedSizeList>\r\n                        )}\r\n                    </Droppable>\r\n                </div>\r\n            </DragDropContext>\r\n\r\n            <button onClick={() => onChangeOrder(questions)}>Done</button>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default ChangeOrder","import { useState, useEffect } from \"react\";\r\n\r\nimport AdminQuestion from \"./AdminQuestion\";\r\nimport AddQuestion from \"./AddQuestion\";\r\nimport ChangeOrder from \"./ChangeOrder\";\r\nimport API from \"../../services/api-client\";\r\n\r\nimport \"../../css/components/admin/adminSet.css\";\r\n\r\nconst AdminSet = ({ set, onDelete, onDuplicate }) => {\r\n  const [currentSet, setCurrentSet] = useState(set);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [showAddQuestion, setShowAddQuestion] = useState(false);\r\n  const [showQuestionOrder, setShowQuestionOrder] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const fetchQuestions = async () => {\r\n      const data = await API.getAll(\"questions\");\r\n      const filtered = data.filter((question) =>\r\n        currentSet.questions.includes(question._id)\r\n      );\r\n      const sorted = [];\r\n      for (let i = 0; i < currentSet.questions.length; i++) {\r\n        for (let j = 0; j < filtered.length; j++) {\r\n          if (currentSet.questions[i] === filtered[j]._id) {\r\n            sorted.push(filtered[j]);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      setQuestions(sorted);\r\n    };\r\n    if (mounted) {\r\n      fetchQuestions();\r\n    }\r\n    return () => (mounted = false);\r\n  }, [currentSet.questions]);\r\n\r\n  const deleteQuestion = async (question_id) => {\r\n    const data = await API.getOne(\"sets\", set._id);\r\n    const new_questions = data.questions.filter(\r\n      (question) => question !== question_id\r\n    );\r\n    const updatedSet = {\r\n      ...data,\r\n      questions: new_questions,\r\n    };\r\n    const updated = await API.putOne(\"sets\", set._id, updatedSet);\r\n    setCurrentSet(updated);\r\n  };\r\n\r\n  const displayQuestions = () => {\r\n    setShowAddQuestion(!showAddQuestion);\r\n  };\r\n\r\n  const displayChangeOrder = () => {\r\n    setShowQuestionOrder(!showQuestionOrder);\r\n  };\r\n\r\n  const onAddQuestions = async (selected) => {\r\n    const data = await API.getOne(\"sets\", set._id);\r\n    let set_questions = data.questions;\r\n\r\n    for (let i = 0; i < selected.length; i++) {\r\n      set_questions.push(selected[i]);\r\n    }\r\n    const updated_data = await API.putOne(\"sets\", set._id, {\r\n      ...data,\r\n      questions: set_questions,\r\n    });\r\n\r\n    setCurrentSet(updated_data);\r\n    setShowAddQuestion(!showAddQuestion);\r\n  };\r\n\r\n  const onChangeOrder = async (quest) => {\r\n    console.log(quest);\r\n    setShowQuestionOrder(false);\r\n    console.log(questions);\r\n    const qids = quest.map((q) => q._id);\r\n\r\n    const updatedSet = {\r\n      _id: currentSet._id,\r\n      questions: qids,\r\n    };\r\n\r\n    const data = await API.patchOne(\"sets\", currentSet._id, updatedSet);\r\n    setCurrentSet(data);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"set-title\">\r\n        <b>{set.title}</b>\r\n      </h1>\r\n      {currentSet.music && (\r\n        <h3>\r\n          <i>Set will contain music</i>\r\n        </h3>\r\n      )}\r\n      <button onClick={() => onDelete(set._id)}>Delete Set</button>\r\n      <button onClick={() => onDuplicate(currentSet)}>Duplicate Set</button>\r\n      <button onClick={() => displayChangeOrder()}>\r\n        Change Question Order\r\n      </button>\r\n      {showQuestionOrder && (\r\n        <ChangeOrder curquestions={questions} onChangeOrder={onChangeOrder} />\r\n      )}\r\n\r\n      <h2>Questions in Set:</h2>\r\n      <ol>\r\n        {questions.map((question) => (\r\n          <li key={question._id}>\r\n            <AdminQuestion\r\n              key={question._id}\r\n              question={question}\r\n              deleteQuestion={deleteQuestion}\r\n            />\r\n          </li>\r\n        ))}\r\n      </ol>\r\n\r\n      <button onClick={() => displayQuestions()}>Add Questions to Set</button>\r\n      {showAddQuestion && (\r\n        <AddQuestion\r\n          className=\"addQuestion\"\r\n          onAddQuestions={onAddQuestions}\r\n          currentQuestions={currentSet.questions}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSet;\r\n","import { useState } from \"react\";\r\n\r\nconst AddSet = ({ onAddSet, setShowAddSet }) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [musicBool, setMusicBool] = useState(false)\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    setShowAddSet(false)\r\n\r\n    if (!title) {\r\n      alert(\"Please add a title\");\r\n      return;\r\n    }\r\n\r\n    onAddSet(title, musicBool);\r\n    setTitle(\"\");\r\n  };\r\n  return (\r\n    <form className=\"add-set-form\" onSubmit={onSubmit}>\r\n      <h4>New Set</h4>\r\n      <label><b>Title: </b></label>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Add Title\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n      <div>\r\n        <label><b>Is there music associated with this set?</b></label>\r\n        <div onChange={(e) => {\r\n          if(e.target.value === \"yes\") {\r\n            setMusicBool(true)\r\n          }\r\n          else {\r\n            setMusicBool(false)\r\n          }\r\n        }}>\r\n          <input type=\"radio\" value=\"yes\" name=\"option\" /> Yes\r\n          <input type=\"radio\" value=\"No\" name=\"option\" /> No\r\n        </div>\r\n      </div>\r\n      \r\n      <input className=\"submit\" type=\"submit\" value=\"Save Set\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddSet;\r\n","import { useState } from \"react\";\r\n\r\nconst NewQuestion = ({ onNewQuestion, setShowAddQuestion }) => {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [type, setType] = useState(\"\");\r\n    const [options, setOptions] = useState(\"\");\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        setShowAddQuestion(false)\r\n        if (!title) {\r\n            alert('Please add a title');\r\n            return;\r\n        }\r\n        if (!type) {\r\n            alert('Please select a question type');\r\n            return;\r\n        }\r\n        if ((type === \"multiple-choice\" && !options) || (type === \"check-box\" && !options)) {\r\n            alert('Please add options for multiple choice and checkbox questions');\r\n            return;\r\n        }\r\n        onNewQuestion(title, type, options)\r\n    };\r\n\r\n    return (\r\n        <form className=\"new-question-form\" onSubmit={onSubmit}>\r\n            <h4>New Question</h4>\r\n            <label><b>Title: </b></label>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Add Title\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n            <br></br>\r\n            <label><b>Question Type: </b></label>\r\n            <div onChange={(e) => setType(e.target.value)}>\r\n                <input type=\"radio\" value=\"multiple-choice\" name=\"option\" /> Multiple Choice\r\n                <input type=\"radio\" value=\"check-box\" name=\"option\" /> Checkbox\r\n                <input type=\"radio\" value=\"short-answer\" name=\"option\" /> Short Answer\r\n                <input type=\"radio\" value=\"color\" name=\"option\" /> Color\r\n            </div>\r\n            {(type === \"multiple-choice\" || type === \"check-box\") && (\r\n                <label>Options (please separate each option with a semicolon)</label>\r\n            )}\r\n            {(type === \"multiple-choice\" || type === \"check-box\") && (\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"options\"\r\n                    value={options}\r\n                    onChange={(e) => setOptions(e.target.value)}\r\n                />\r\n            )}\r\n            <input className=\"submit\" type=\"submit\" value=\"Create New Question\" />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default NewQuestion;\r\n","import { useState, useEffect } from 'react'\r\nimport API from \"../../services/api-client\";\r\n\r\nconst DeleteQuestion = ({handleDeleteQuestion}) => {\r\n    const [questions, setQuestions] = useState([])\r\n    const [toDelete, setToDelete] = useState([])\r\n\r\n    useEffect(() => {\r\n        //get all questions in db\r\n        const getQuestions = async () => {\r\n            const serverQuestions = await API.getAll(\"questions\");\r\n            setQuestions(serverQuestions);\r\n        };\r\n        getQuestions();\r\n        \r\n    }, [])\r\n\r\n    const deleteQuestions = async (e) => {\r\n        e.preventDefault()\r\n        var retval = window.confirm(\"Delete these questions?\");\r\n        if (retval === true) {\r\n            const sets = await API.getAll(\"sets\")\r\n            console.log(toDelete)\r\n    \r\n            //deletes questions from any set\r\n            for(let i = 0; i < toDelete.length; i++) {\r\n                for(let j = 0; j < sets.length; j++) {\r\n                    for(let k = 0; k < sets[j].questions.length; k++) {\r\n                        if(sets[j].questions[k] === toDelete[i]) {\r\n                            sets[j].questions.splice(k, 1)\r\n                            await API.putOne(\"sets\", sets[j]._id, sets[j])\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            //delete each question in array\r\n            for(let i = 0; i < toDelete.length; i++) {\r\n                await API.deleteOne(\"questions\", toDelete[i])\r\n            }\r\n            handleDeleteQuestion()\r\n        }\r\n        \r\n    }\r\n\r\n    const handleCheckbox = (val) => {\r\n        console.log(val)\r\n        let toDeleteCopy = []\r\n        for(let i = 0; i < toDelete.length; i++) {\r\n            toDeleteCopy.push(toDelete[i])\r\n        }\r\n        console.log(\"handle checkbox\")\r\n        \r\n        for(let i = 0; i < toDeleteCopy.length; i++) {\r\n            if(val === toDelete[i]) {\r\n                toDeleteCopy.splice(i, 1)\r\n                setToDelete(toDeleteCopy)\r\n                return\r\n            }\r\n        }\r\n        toDeleteCopy.push(val)\r\n        setToDelete(toDeleteCopy)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={deleteQuestions}>\r\n            {questions.map((question) => {\r\n                return(<div onChange={(e) => {handleCheckbox(e.target.value)}}><input type=\"checkbox\" value={question._id} name=\"question\"/>{question.title}</div>)\r\n            })}\r\n            <input className=\"submit\" type=\"submit\" value=\"Delete Selected Questions\" />\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default DeleteQuestion\r\n","import { useState } from \"react\";\r\nimport AdminSet from \"./AdminSet\";\r\nimport AddSet from \"./AddSet\";\r\nimport NewQuestion from \"./NewQuestion\";\r\nimport ChangeOrder from \"./ChangeOrder\";\r\nimport DeleteQuestion from \"./DeleteQuestion\";\r\n\r\nimport \"../../css/components/admin/adminSets.css\";\r\n\r\nconst AdminSets = ({ sets, onDelete, onDuplicate, onAddSet, onNewQuestion, onOrderChanged }) => {\r\n  const [showAddSet, setShowAddSet] = useState(false);\r\n  const [showAddQuestion, setShowAddQuestion] = useState(false);\r\n  const [showChangeOrder, setShowChangeOrder] = useState(false);\r\n  const [deleteQuestions, setDeleteQuestions] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setShowAddSet(!showAddSet);\r\n  };\r\n\r\n  const handleManageQuestions = () => {\r\n    setShowAddQuestion(!showAddQuestion);\r\n  };\r\n\r\n  const handleChangeOrder = () => {\r\n    setShowChangeOrder(!showChangeOrder)\r\n  }\r\n\r\n  const onChangeOrder = (sets) => {\r\n    setShowChangeOrder(false)\r\n    onOrderChanged(sets)\r\n  }\r\n\r\n  const handleDeleteQuestion = () => {\r\n    setDeleteQuestions(!deleteQuestions)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      {sets.map((set) => (\r\n        <AdminSet qid={set._id} key={set._id} set={set} onDelete={onDelete} onDuplicate={onDuplicate}\r\n          onOrderChanged={onOrderChanged} />\r\n      ))}\r\n      <button className=\"big-btn\" onClick={() => handleClick()}>Add Set</button>\r\n      <button className=\"big-btn\" onClick={() => handleChangeOrder()}>Change Set Order</button>\r\n      <button className=\"big-btn\" onClick={() => handleManageQuestions()}>Add Questions</button>\r\n      <button className=\"big-btn\" onClick={() => handleDeleteQuestion()}>Delete Questions</button>\r\n      {showAddSet && <AddSet onAddSet={onAddSet} setShowAddSet={setShowAddSet} />}\r\n      {showAddQuestion && <NewQuestion onNewQuestion={onNewQuestion} setShowAddQuestion={setShowAddQuestion} />}\r\n      {showChangeOrder && <ChangeOrder curquestions={sets} onChangeOrder={onChangeOrder} />}\r\n      {deleteQuestions && <DeleteQuestion handleDeleteQuestion={handleDeleteQuestion}/>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSets;\r\n","import { useState, useEffect } from \"react\";\r\nimport API from \"../../services/api-client\";\r\n\r\nimport AdminSets from \"./AdminSets\";\r\n\r\nimport \"../../css/components/admin/admin.scss\";\r\n\r\nfunction Admin() {\r\n  const [setOrder, setSetOrder] = useState([]);\r\n  const [sets, setSets] = useState([]);\r\n  const [questions, setQuestions] = useState([]);\r\n\r\n  //get sets\r\n  useEffect(() => {\r\n    const getSets = async () => {\r\n      const serverSets = await API.getAll(\"sets\");\r\n      const orderData = await API.getAll(\"set-order\");\r\n\r\n      if (orderData.length === 0) {\r\n        let order = [];\r\n        for (let i = 0; i < serverSets.length; i++) {\r\n          order.push(serverSets[i]._id);\r\n        }\r\n        const orderObj = {\r\n          sets: order,\r\n        };\r\n        const newSetOrder = await API.post(\"set-order\", orderObj);\r\n        setSetOrder(newSetOrder);\r\n        setSets(serverSets);\r\n      } else {\r\n        setSetOrder(orderData[0].sets);\r\n        const orderedSets = [];\r\n        for (let i = 0; i < orderData[0].sets.length; i++) {\r\n          for (let j = 0; j < serverSets.length; j++) {\r\n            if (orderData[0].sets[i] === serverSets[j]._id) {\r\n              orderedSets.push(serverSets[j]);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        setSets(orderedSets);\r\n      }\r\n    };\r\n    const getQuestions = async () => {\r\n      const serverQuestions = await API.getAll(\"questions\");\r\n      setQuestions(serverQuestions);\r\n    };\r\n    getSets();\r\n    getQuestions();\r\n  }, []);\r\n\r\n  const deleteSet = async (id) => {\r\n    var retval = window.confirm(\"Delete this set?\");\r\n    if (retval === true) {\r\n      API.deleteOne(\"sets\", id);\r\n      setSets(sets.filter((set) => set._id !== id));\r\n      const curSetOrder = setOrder.filter((set) => set !== id);\r\n      const orderObj = { sets: curSetOrder };\r\n      const orderData = await API.patch(\"set-order\", orderObj);\r\n      setSetOrder(orderData.sets);\r\n    }\r\n  };\r\n\r\n  const duplicateSet = async (set) => {\r\n    addSet(set.title, set.music, set.questions);\r\n  };\r\n\r\n  const addSet = async (title, music, questions = []) => {\r\n    const set = { title: title, questions: questions, music: music };\r\n    const data = await API.post(\"sets\", set);\r\n    setSets([...sets, data]);\r\n\r\n    //set order\r\n    const curSetOrder = setOrder;\r\n    curSetOrder.push(data._id);\r\n\r\n    const orderObj = { sets: curSetOrder };\r\n    const orderData = await API.patch(\"set-order\", orderObj);\r\n    setSetOrder(orderData.sets);\r\n  };\r\n\r\n  const newQuestion = async (title, type, options) => {\r\n    const question = { title: title, input_type: type };\r\n    if (options !== \"\") {\r\n      const opts_arr = parseOptions(options);\r\n      question.options = opts_arr;\r\n    }\r\n    const data = await API.post(\"questions\", question);\r\n    setQuestions([...questions, data]);\r\n  };\r\n\r\n  function parseOptions(options) {\r\n    const arr = [];\r\n    let start_of_opt = 0;\r\n    for (let i = 0; i < options.length; i++) {\r\n      let current = options.charAt(i);\r\n      if (current === \";\") {\r\n        let sub = options.substring(start_of_opt, i);\r\n        let trimmed = sub.trim();\r\n        arr.push(trimmed);\r\n        start_of_opt = i + 1;\r\n      }\r\n    }\r\n    let sub = options.substring(start_of_opt, options.length);\r\n    let trimmed = sub.trim();\r\n    if (trimmed !== \"\") {\r\n      arr.push(trimmed);\r\n    }\r\n\r\n    return arr;\r\n  }\r\n\r\n  const changeSetOrder = async (sets) => {\r\n    const updatedSet = {\r\n      sets: sets,\r\n    };\r\n    const data = await API.patch(\"set-order\", updatedSet);\r\n    setSetOrder(data.sets);\r\n    const orderedSets = [];\r\n    for (let i = 0; i < data.sets.length; i++) {\r\n      for (let j = 0; j < sets.length; j++) {\r\n        if (data.sets[i] === sets[j]._id) {\r\n          orderedSets.push(sets[j]);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    setSets(orderedSets);\r\n  };\r\n\r\n  return (\r\n    <div className=\"outer-div admin-container\">\r\n      <h1>Sets Currently in Database:</h1>\r\n      <hr></hr>\r\n      <AdminSets\r\n        sets={sets}\r\n        onDelete={deleteSet}\r\n        onDuplicate={duplicateSet}\r\n        onAddSet={addSet}\r\n        onNewQuestion={newQuestion}\r\n        onOrderChanged={changeSetOrder}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import { Fragment } from \"react\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport Survey from \"./components/survey\";\r\nimport Home from \"./components/home\";\r\nimport NotFound from \"./components/notFound\";\r\nimport ProtectedRoute from \"./components/admin/ProtectedRoute\";\r\nimport UploadMusic from \"./components/admin/uploadMusic/uploadMusic\";\r\nimport ResponsePage from \"./components/admin/responses/responsePage\";\r\nimport Admin from \"./components/admin/Admin\";\r\nimport { initViewHeight } from \"./utils/viewHeight\";\r\n\r\nfunction App() {\r\n  initViewHeight();\r\n\r\n  return (\r\n    <Fragment>\r\n      <Switch>\r\n        <Route path=\"/survey\" component={Survey} />\r\n        <Route path=\"/home\" component={Home} />\r\n        <ProtectedRoute path=\"/admin/uploadmusic\" component={UploadMusic} />\r\n        <ProtectedRoute path=\"/admin/responsepage\" component={ResponsePage} />\r\n        <ProtectedRoute path=\"/admin\" component={Admin} />\r\n        <Route path=\"/not-found\" component={NotFound} />\r\n        <Redirect from=\"/\" exact to=\"/home\" />\r\n        <Redirect to=\"/not-found\" />\r\n      </Switch>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./css/global.scss\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}