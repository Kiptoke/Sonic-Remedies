(this.webpackJsonpsurvey=this.webpackJsonpsurvey||[]).push([[0],{113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var r=n(1),c=(n(61),n(62),n(24)),a=n.n(c),i=n(25),s=n(0),o=n.n(s),u=n(10),l=n(3),d=n(12),j=(n(66),n(41)),b=n(8);n(67);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function h(e,t){var n=e.title,r=e.titleId,c=p(e,["title","titleId"]);return s.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:105,height:80,viewBox:"0 0 105.4 80.3",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"M5.2 4.6 52.7 77 100.2 4.6 52.7 28.4Z",style:{fill:"#662485",strokeWidth:4,stroke:"#662485"}}))}var O=s.forwardRef(h),m=(n.p,function(e){var t=e.revealNext,n=e.handleClicked;return t?Object(r.jsxs)("button",{className:"next-button",onClick:n,children:[Object(r.jsx)("div",{children:"Next"}),Object(r.jsx)(O,{className:"arrow"})]}):""});function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var g=s.createElement("circle",{cx:38.947,cy:8.167,r:4.914,opacity:.96,fill:"#fff",fillRule:"evenodd",stroke:"#fff",strokeWidth:1.058,transform:"translate(-33.504 -2.724)"});function y(e,t){var n=e.title,r=e.titleId,c=v(e,["title","titleId"]);return s.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",width:41.143,height:41.143,viewBox:"0 0 10.886 10.886",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,g)}var w=s.forwardRef(y);n.p;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var N=s.createElement("circle",{cx:5.443,cy:5.443,r:5.1529,fill:"none",opacity:.96,stroke:"#fff",strokeWidth:.50001});function C(e,t){var n=e.title,r=e.titleId,c=S(e,["title","titleId"]);return s.createElement("svg",k({width:41.143,height:41.143,viewBox:"0 0 10.886 10.886",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,N)}var q=s.forwardRef(C),E=(n.p,function(e){var t=e.responses,n=e.handleResponded,c=Object(s.useState)(-1),a=Object(l.a)(c,2),i=a[0],o=a[1];return Object(s.useEffect)((function(){n(i>-1?i:null)}),[n,i]),Object(r.jsx)("div",{className:"question-mc option-box",children:t.map((function(e,t){return Object(r.jsxs)("div",{className:"option",onClick:function(){return o(t)},children:[Object(r.jsx)("div",{className:"response",children:e}),(n=i,c=t,n===c?Object(r.jsx)(w,{className:"indicator"}):Object(r.jsx)(q,{className:"indicator"}))]},t);var n,c}))})});function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function P(e,t){var n=e.title,r=e.titleId,c=A(e,["title","titleId"]);return s.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",width:53,height:53,viewBox:"0 0 52.9 52.9",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,s.createElement("rect",{width:52.9,height:52.9,style:{fill:"#fff",strokeWidth:4}}))}var I=s.forwardRef(P);n.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function F(e,t){var n=e.title,r=e.titleId,c=R(e,["title","titleId"]);return s.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:53,height:53,viewBox:"0 0 52.9 52.9",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,s.createElement("rect",{width:52.9,height:52.9,style:{fill:"none",strokeWidth:4,stroke:"#fff"}}))}var Q=s.forwardRef(F),T=(n.p,function(e,t){return!0===e[t]?Object(r.jsx)(I,{className:"indicator"}):Object(r.jsx)(Q,{className:"indicator"})}),L=function(e){var t=e.responses,n=e.handleResponded;t=[].concat(Object(d.a)(t),["None of the above"]);for(var c=[],a=0;a<t.length;a++)c[a]=!1;var i=Object(s.useState)(c),o=Object(l.a)(i,2),u=o[0],j=o[1];return Object(s.useEffect)((function(){u.find((function(e){return!0===e}))?n(u):n(null)}),[u,n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Select all that apply."}),Object(r.jsx)("div",{className:"question-ms option-box",children:t.map((function(e,t){return Object(r.jsxs)("div",{className:"option",onClick:function(){j(function(e,t){if(console.log(e),t===e.length-1)for(var n=0;n<t;n++)e[n]=!1;return e[e.length-1]&&t!==e.length-1&&(e[e.length-1]=!1),e[t]=!e[t],e}(Object(d.a)(u),t))},children:[Object(r.jsx)("div",{className:"response",children:e}),T(u,t)]},t)}))})]})},W=(n(68),n(21)),B=n.n(W);function M(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}function K(){window.addEventListener("resize",M)}function H(){window.removeEventListener("resize",M)}function U(){K()}var V=B.a.object({textfield:B.a.string().min(3).max(350).required().label("Answer")});var z=function(e){var t=e.handleResponded,n=Object(s.useState)(null),c=Object(l.a)(n,2),a=c[0],i=c[1],o=Object(s.useState)(""),u=Object(l.a)(o,2),d=u[0],j=u[1];return Object(s.useEffect)((function(){t(a)}),[t,a]),Object(r.jsxs)("div",{className:"question-fr",children:[Object(r.jsx)("textarea",{maxLength:"350",rows:"6",placeholder:"Write your answer here",onTouchEnd:H,onMouseLeave:U,onChange:function(e){return function(e,t,n){var r=e.target.value,c=V.validate({textfield:r}).error;c?(t(null),n(c.message)):(t(r),n(""))}(e,i,j)}}),Object(r.jsx)("div",{className:"error",children:d})]})},G=(n(89),n(90),function(e){var t=e.text,n=e.onClick;return Object(r.jsx)("button",{className:"user-button",onClick:n,children:t})});function Y(e,t,n){return Object(r.jsx)(E,{responses:["Yes","No"],handleResponded:function(r){!function(e,t,n,r){0===e?(n(!0),r(!1)):1===e&&(r(!0),n(!1)),t(e)}(r,e,t,n)}})}var J=function(e){e.responses;var t=e.handleResponded,n=Object(s.useState)(!1),c=Object(l.a)(n,2),a=c[0],i=c[1],o=Object(s.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=[t,i,j];return d||!a&!d?Y.apply(void 0,b):Object(r.jsxs)("div",{className:"question-color",children:[Object(r.jsx)("p",{children:"Select the color: "}),Object(r.jsx)("input",{type:"color"}),Object(r.jsx)(G,{text:"Go Back",onClick:function(){i(!1)}})]})},Z=function(e){var t=e.handleResponded;return t(3),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"15rem"},children:[Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[1,2,3,4,5].map((function(e){return Object(r.jsx)("p",{style:{fontWeight:"bold"},children:e})}))}),Object(r.jsx)("input",{type:"range",max:"5",min:"1",step:"1",defaultValue:"3",onChange:function(e){return t(e.target.value)}})]})};function $(e,t,n){var c={responses:t,handleResponded:n};return"multiple-choice"===e?Object(r.jsx)(E,Object(b.a)({},c)):"check-box"===e?Object(r.jsx)(L,Object(b.a)({},c)):"short-answer"===e?Object(r.jsx)(z,Object(b.a)({},c)):"color"===e?Object(r.jsx)(J,Object(b.a)({},c)):"slider"===e?Object(r.jsx)(Z,Object(b.a)({},c)):void 0}var X=function(e){var t=e.question,n=e.handleResponse,c=t.type,a=t.responses,i=t.ask,o=Object(s.useState)(null),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(s.useState)(!1),f=Object(l.a)(b,2),p=f[0],h=f[1];return Object(r.jsxs)("div",{className:"question",children:[Object(r.jsx)("h1",{children:i}),$(c,a,(function(e){j(e)})),Object(r.jsx)("div",{className:"next",children:Object(r.jsx)(m,{revealNext:null!==d&!p,handleClicked:function(){return function(e,t,n){t(e),n(!0)}(d,n,h)}})})]})},ee=function(e){var t=e.questions,n=e.currentQuestion,c=e.handleResponse;return Object(j.b)(t[n],(function(e){return e.ask}),{from:{transform:0===n?"translate3d(0, 0%, 0)":"translate3d(0, 100%, 0)"},enter:{transform:"translate3d(0, 0, 0)"},leave:{transform:n===t.length-1?"translate3d(0, 0, 0)":"translate3d(0, -100%, 0)"}}).map((function(e){var t=e.item,n=e.props,a=e.key;return Object(r.jsx)(j.a.div,{className:"question-animator",style:n,children:Object(r.jsx)(X,{question:t,handleResponse:c})},a)}))},te=(n(91),n(92),function(e,t){for(var n=[],c=0;c<e;c++)c<t?n.push(Object(r.jsx)(w,{className:"circle"},c)):n.push(Object(r.jsx)(q,{className:"circle"},c));return n}),ne=function(e){var t=e.numQuestions,n=e.currentQuestion;return Object(r.jsx)("div",{className:"fixed-UI",children:Object(r.jsx)("div",{className:"circles",children:te(t,n)})})},re=n(5),ce=n.n(re),ae=n(6),ie=(n(93),n(32));function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var ue=s.createElement("g",{transform:"translate(-89.884 -78.943)"},s.createElement("path",{transform:"matrix(1.1129 0 0 .99792 -10.183 .19219)",d:"m113.73 92.415c0 1.2974-21.347 13.622-22.471 12.974-1.1235-0.64868-1.1235-25.298 0-25.947 1.1235-0.64868 22.471 11.676 22.471 12.974z",fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc"}));function le(e,t){var n=e.title,r=e.titleId,c=oe(e,["title","titleId"]);return s.createElement("svg",se({width:"27.059mm",height:"26.944mm",viewBox:"0 0 27.059 26.944",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,ue)}var de=s.forwardRef(le);n.p;function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var fe=s.createElement("rect",{x:16.527,y:.74865,width:7.4985,height:25.447,rx:.17777,ry:.22071,fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc",strokeWidth:1.4973}),pe=s.createElement("rect",{x:3.0334,y:.74865,width:7.4985,height:25.447,rx:.17777,ry:.22071,fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc",strokeWidth:1.4973});function he(e,t){var n=e.title,r=e.titleId,c=be(e,["title","titleId"]);return s.createElement("svg",je({width:"27.059mm",height:"26.944mm",viewBox:"0 0 27.059 26.944",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?s.createElement("title",{id:r},n):null,fe,pe)}var Oe=s.forwardRef(he),me=(n.p,function(e){switch(e.playState){case"paused":return Object(r.jsx)(de,{className:"player play-button"});case"playing":return Object(r.jsx)(Oe,{className:"player pause-buton"});default:return"Error"}}),xe=function(e){var t=e.canContinue,n=e.handleContinueClicked;return t&&Object(r.jsx)("button",{className:"music-continue",onClick:n,children:"Continue to questions"})},ve=function(e,t,n){switch(e){case"paused":return n.play(),void t("playing");case"playing":return n.pause(),void t("paused");default:return}},ge=(n(94),function(e){var t=Object(s.useState)(0),n=Object(l.a)(t,2),c=n[0],a=n[1],i=Object(s.useRef)(null),o=e.size,u=e.progress,d=e.strokeWidth,j=o/2,b=o/2-d/2,f=2*Math.PI*b;return Object(s.useEffect)((function(){a((100-u)/100*f),i.current.style="transition: stroke-dashoffset 300ms linear"}),[a,u,f,c]),Object(r.jsx)("div",{className:"progress-bar",children:Object(r.jsxs)("svg",{className:"svg",width:o,height:o,children:[Object(r.jsx)("circle",{className:"svg-circle-bg",cx:j,cy:j,r:b,strokeWidth:d}),Object(r.jsx)("circle",{className:"svg-circle",ref:i,cx:j,cy:j,r:b,strokeWidth:d,strokeDasharray:f,strokeDashoffset:c})]})})}),ye=n(17),we=n.n(ye);we.a.defaults.headers.common.authorization=localStorage.getItem("token");var ke=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_PORT:"31313",REACT_APP_LOCALHOST:"false"}),Se=ke.REACT_APP_LOCALHOST,Ne=ke.REACT_APP_API_PORT,Ce=Se?"http://localhost:".concat(Ne):"https://sonicremedies.net:".concat(Ne),qe=function(e){console.error(e.message)},Ee={getAll:function(e){return we.a.get(Ce+"/"+e).then((function(e){return e.data})).catch(qe)},getOne:function(e,t){return we.a.get(Ce+"/"+e+"/"+t).then((function(e){return e.data})).catch(qe)},getOneFile:function(e,t){return we()({method:"GET",url:Ce+"/"+e+"/"+t,responseType:"blob"}).then((function(e){return e.data})).catch(qe)},post:function(e,t){return we.a.post(Ce+"/"+e,t).then((function(e){return e.data})).catch(qe)},postForm:function(e,t){return we()({method:"post",url:Ce+"/"+e,data:t,headers:{"Content-Type":"multipart/form-data"}})},deleteOne:function(e,t){return we.a.delete(Ce+"/"+e+"/"+t).then((function(e){return e.data})).catch(qe)},patch:function(e,t){return we.a.patch(Ce+"/"+e,t).then((function(e){return e.data})).catch(qe)},patchOne:function(e,t,n){return we.a.patch(Ce+"/"+e+"/"+t,n).then((function(e){return e.data})).catch(qe)},putOne:function(e,t,n){return we.a.put(Ce+"/"+e+"/"+t,n).then((function(e){return e.data})).catch(qe)}},_e=function(){var e=Object(ae.a)(ce.a.mark((function e(t,n){var r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getOneFile("music/files",t);case 2:r=e.sent,(c=new ie.Howl({src:[URL.createObjectURL(r)],html5:!0,format:"mp3"})).on("loaderror",(function(){throw Error("Howler error loading downloaded file")})),n(c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(e){var t=e.filename,n=e.handleMusicDone,c=Object(s.useState)("paused"),a=Object(l.a)(c,2),i=a[0],o=a[1],u=Object(s.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1],f=Object(s.useState)(null),p=Object(l.a)(f,2),h=p[0],O=p[1],m=Object(s.useState)(0),x=Object(l.a)(m,2),v=x[0],g=x[1],y=Object(s.useCallback)((function(){h.seek()>h.duration()/2&&(clearInterval(y),b(!0))}),[h]),w=Object(s.useCallback)((function(){g(h.seek()/h.duration()*100)}),[h]);return Object(s.useEffect)((function(){!h&&t&&_e(t+".mp3",O)}),[h,t]),Object(s.useEffect)((function(){if(h){var e=setInterval(y,1e3),t=setInterval(w,300);return h.on("end",(function(){h.seek(0),o("paused")})),function(){clearInterval(e),clearInterval(t),h.unload()}}}),[y,w,h]),h?Object(r.jsxs)(s.Fragment,{children:[Object(r.jsxs)("div",{className:"music-player",onClick:function(){return ve(i,o,h)},children:[Object(r.jsx)(ge,{size:180,progress:v,strokeWidth:6}),Object(r.jsx)(me,{playState:i})]}),Object(r.jsx)(xe,{canContinue:j,handleContinueClicked:function(){h.pause(),n()}})]}):Object(r.jsx)("h1",{children:"Loading audio..."})},Pe=(n(113),function(e){var t=e.setId,n=e.totalSets,c=e.clickContinue;return Object(r.jsxs)("div",{className:"orientation-page global-container",children:[Object(r.jsxs)("h1",{children:["Question set ",t+1," / ",n]}),Object(r.jsx)(G,{text:"Continue",onClick:c})]})}),Ie=(n(114),function(){return Object(r.jsx)("div",{className:"global-container complete-page",children:Object(r.jsx)("h1",{children:"You have completed the survey. Thank you!"})})}),De=function(e){var t=e.musicFilename,n=e.setId,c=e.set,a=e.setCurrentSet,i=e.totalSets,o=e.postResponse,u=c.questions,j=Object(s.useState)(0),b=Object(l.a)(j,2),f=b[0],p=b[1],h=Object(s.useState)("orientation"),O=Object(l.a)(h,2),m=O[0],x=O[1],v=Object(s.useState)([]),g=Object(l.a)(v,2),y=g[0],w=g[1];switch(m){case"orientation":return Object(r.jsx)(Pe,{setId:n,totalSets:i,clickContinue:function(){c.music?x("music"):x("questions")}});case"music":return Object(r.jsx)("div",{className:"music-page global-container",children:Object(r.jsx)(Ae,{filename:t,handleMusicDone:function(){x("questions")}})});case"questions":return Object(r.jsxs)("div",{className:"set global-container",children:[Object(r.jsx)("div",{className:"set-questions",children:Object(r.jsx)(ee,{questions:u,currentQuestion:f,handleResponse:function(e){var t=[].concat(Object(d.a)(y),[e]);w(t),f===u.length-1?n!==i-1?(p(0),a(n+1),x("orientation")):(x("complete"),o(t)):p(f+1)}})}),Object(r.jsx)(ne,{numQuestions:u.length,currentQuestion:f})]});case"complete":return Object(r.jsx)(Ie,{});default:return null}},Re=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.questions.forEach((function(e){var n=t[e];r.push({ask:n.title,responses:n.options,type:n.input_type,id:n._id})})),n.push({questions:r,music:e.music})})),{sets:n}},Fe=function(){var e=Object(ae.a)(ce.a.mark((function e(){var t,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getAll("sets");case 2:return t=e.sent,e.next=5,Ee.getAll("questions/idict");case 5:return n=e.sent,e.abrupt("return",Re(t,n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=n(57),Te=function(){var e=Object(ae.a)(ce.a.mark((function e(t){var n,r,c,a,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e){return e.music})).length,e.next=3,Ee.getAll("music");case 3:return r=e.sent,c=Qe.a.sample(r,n),a=-1,i=[],t.map((function(e){return e.music?i.push(c[a+=1]._id):i.push(null)})),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(null),i=Object(l.a)(a,2),o=i[0],u=i[1],d=Object(s.useState)([]),j=Object(l.a)(d,2),b=j[0],f=j[1];Object(s.useEffect)((function(){Fe().then((function(e){return u(e),e.sets})).then((function(e){return Te(e)})).then((function(e){f(e)}))}),[]);if(null!==o&&void 0!==o){var p=o.sets;return Object(r.jsx)(De,{musicFilename:b[n],setId:n,set:p[n],nextSet:p[n+1],setCurrentSet:c,totalSets:p.length,postResponse:function(e){console.log(o);for(var t=[],n=[],r=[],c=[],a=[],i=0;i<o.sets.length;i++){var s=o.sets[i];s.music?r.push("music included"):r.push("no music included"),c.push(s.questions.length);for(var u=0;u<s.questions.length;u++)t.push(s.questions[u].id),n.push(s.questions[u].type)}for(var l=0;l<e.length;l++)if("multiple-choice"===n[l]||"color"===n[l])a.push(e[l].toString());else if("short-answer"===n[l])a.push(e[l]);else if("check-box"===n[l]){for(var d="",j=0;j<e[l].length;j++)e[l][j]?d+="1":d+="0";a.push(d)}var b={musicids:r,questionGroups:c,questions:t,answers:a};console.log(b),Ee.post("responses",b)}})}return null},We=n(15),Be=n(20),Me=n(19),Ke=n(18),He=(n(115),n(116),function(e){Object(Me.a)(n,e);var t=Object(Ke.a)(n);function n(){var e;Object(We.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={},e}return Object(Be.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"home global-container",children:[Object(r.jsx)("h1",{children:"Welcome to the survey!"}),Object(r.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin fringilla quis purus eu rhoncus. Duis ornare odio nec dolor aliquet fermentum. In tortor urna, placerat vel lorem at, dapibus elementum mi. Phasellus mi ex, malesuada quis tellus in, molestie vulputate enim. Vestibulum sed tempor mi, eu dictum tortor. Fusce nec mauris lorem. Nam pellentesque orci purus, at gravida turpis cursus sed. Fusce feugiat mauris sed iaculis ornare. Vestibulum sapien urna, consectetur quis sem sit amet, vestibulum hendrerit sem."}),Object(r.jsx)(i.b,{to:"survey",children:Object(r.jsx)(G,{text:"Begin"})})]})}}]),n}(s.Component)),Ue=function(){return Object(r.jsx)("h1",{className:"global-h1",children:"Page Not Found."})},Ve=n(58),ze=function(){var e=Object(ae.a)(ce.a.mark((function e(t,n){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.post("login",t);case 2:(r=e.sent)?(localStorage.setItem("token",r),n(!0)):n(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ge=function(e){var t=e.setLoggedIn,n=Object(s.useState)({username:"admin",password:""}),c=Object(l.a)(n,2),a=c[0],i=c[1];return Object(r.jsx)("div",{className:"admin-container",children:Object(r.jsxs)("form",{children:[Object(r.jsx)("label",{children:"Username"}),Object(r.jsx)("input",{defaultValue:"admin",onChange:function(e){return i({username:e.target.value,password:a.password})}}),Object(r.jsx)("label",{children:"Password"}),Object(r.jsx)("input",{type:"password",onChange:function(e){return i({username:a.username,password:e.target.value})}}),Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),ze(a,t)},children:"Login"})]})})},Ye=function(){var e=Object(ae.a)(ce.a.mark((function e(t,n,r){var c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getAll("login/me",t);case 2:c=e.sent,r(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Je=function(e){var t=e.component,n=Object(Ve.a)(e,["component"]),c=Object(s.useState)(""),a=Object(l.a)(c,2),i=a[0],o=a[1],d=Object(s.useState)(!1),j=Object(l.a)(d,2),f=j[0],p=j[1];return Object(s.useEffect)((function(){Ye(localStorage.getItem("token"),p,o),"admin"===i&&p(!0)}),[i]),Object(r.jsxs)("div",{children:[!f&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Please log in to continue"}),Object(r.jsx)(Ge,{setLoggedIn:p})]}),Object(r.jsx)(u.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){if(!0===f)return Object(r.jsx)(t,Object(b.a)({},e))}}))]})},Ze=(n(121),B.a.object({filename:B.a.string().pattern(/.+.(mp3)$/),textfield:B.a.string().max(30),number:B.a.number().max(1e3).min(1)})),$e=function(e,t,n,r,c,a){var i=Object(d.a)(e),s=t.target.value,o=("number"===a?Ze.validate({number:s}):Ze.validate({textfield:s})).error;if(!o){i[c]="",n(i);var u=!0;i.forEach((function(e){(e||void 0===e)&&(u=!1)})),r(u)}o&&(i[c]=t.target.name+" "+o.message.split('"')[2],n(i),r(!1))},Xe=[{name:"title",readable:"Title",example:"Stupid Love"},{name:"artist",readable:"Artist",example:"Lady Gaga"},{name:"album",readable:"Album",example:"Chromatica"},{name:"genre",readable:"Genre",example:"Pop"},{name:"tempo",readable:"Tempo (bpm)",example:"118",type:"number"}],et=function(e){var t=e.validator,n=e.setFieldsFilled,c=e.sendFields,a=[];Xe.forEach((function(){return a.push(void 0)}));var i=Object(s.useState)(a),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(s.useState)({}),f=Object(l.a)(j,2),p=f[0],h=f[1];return Object(r.jsx)("div",{children:Xe.map((function(e,a){return Object(r.jsxs)("div",{className:"field-container",children:[Object(r.jsxs)("div",{className:"fc-main",children:[Object(r.jsx)("label",{htmlFor:e.name,children:e.readable}),Object(r.jsx)("input",{required:!0,type:"text",name:e.name,placeholder:"Ex. "+e.example,onChange:function(r){t(u,r,d,n,a,e.type);var i=Object(b.a)({},p);i[e.name]=r.target.value.toLowerCase(),h(i),c(i)}})]}),Object(r.jsx)("p",{className:"fc-err",children:u[a]})]},e.name)}))})},tt="Consistent Vibe",nt=function(e){var t=e.setField;return Object(r.jsx)("div",{className:"field-container",children:Object(r.jsxs)("div",{className:"fc-main",children:[Object(r.jsx)("label",{htmlFor:tt,children:tt}),Object(r.jsxs)("div",{style:{minWidth:"55%",display:"flex",justifyContent:"flex-end"},children:[Object(r.jsxs)("div",{className:"yes-no-option",children:[Object(r.jsx)("label",{htmlFor:"yes",children:"Yes"}),Object(r.jsx)("input",{type:"radio",id:"yes",name:tt,value:!0,onChange:function(e){return t(e.target.value)}})]}),Object(r.jsxs)("div",{className:"yes-no-option",children:[Object(r.jsx)("label",{htmlFor:"no",children:"No"}),Object(r.jsx)("input",{type:"radio",id:"no",name:tt,value:!1,defaultChecked:!0,onChange:function(e){return t(!e.target.value)}})]})]})]})},tt)},rt=function(e){var t=e.setField,n="Improvisation";return Object(r.jsx)("div",{className:"field-container",children:Object(r.jsxs)("div",{className:"fc-main",children:[Object(r.jsx)("label",{htmlFor:n,children:n}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"55%"},children:[Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:["0%","25%","50%","75%","100%"].map((function(e){return Object(r.jsx)("div",{style:{fontSize:"10px"},children:e},e)}))}),Object(r.jsx)("input",{id:n,name:n,type:"range",min:"0",max:"100",step:"25",defaultValue:"0",onChange:function(e){return t(e.target.value)}})]})]})},n)},ct=["A","B","C","D","E","F","G","N/A"],at=["Major","Minor","Dorian","Phrygian","Lydian","Mixolydian","Locrian","N/A"],it=function(e,t,n,r){return"N/A"===e?"N/A":e+(t?"f":n?"s":"")+("N/A"!==r?r:"")},st=function(e){var t=e.setPrevailingKey,n=Object(s.useState)(!1),c=Object(l.a)(n,2),a=c[0],i=c[1],o=Object(s.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(s.useState)(!1),f=Object(l.a)(b,2),p=f[0],h=f[1],O=Object(s.useState)("N/A"),m=Object(l.a)(O,2),x=m[0],v=m[1],g=Object(s.useState)("Major"),y=Object(l.a)(g,2),w=y[0],k=y[1];return Object(r.jsx)("div",{className:"field-container",children:Object(r.jsxs)("div",{className:"fc-main",children:[Object(r.jsx)("label",{htmlFor:"Prevailing Key",children:"Prevailing Key"}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"",minWidth:"55%"},children:[Object(r.jsx)("select",{defaultValue:"N/A",name:"Prevailing Key",onChange:function(e){"N/A"===e.target.value?(i(!1),j(!1),h(!1),k("Major")):i(!0),v(e.target.value),t(it(e.target.value,d,p,w))},children:ct.map((function(e){return Object(r.jsx)("option",{value:e,children:e},e)}))}),a?Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"end",marginTop:"0.5rem"},children:[Object(r.jsxs)("div",{style:{marginRight:"0.5rem"},children:[Object(r.jsx)("label",{htmlFor:"\u266f",children:"\u266f"}),Object(r.jsx)("input",{style:{width:"1rem"},type:"checkbox",name:"\u266f",disabled:d,onChange:function(){t(it(x,d,!p,w)),h(!p)}})]}),Object(r.jsxs)("div",{style:{marginRight:"0.5rem"},children:[Object(r.jsx)("label",{htmlFor:"\u266d",children:"\u266d"}),Object(r.jsx)("input",{style:{width:"1rem"},type:"checkbox",name:"\u266d",disabled:p,onClick:function(){t(it(x,!d,p,w)),j(!d)}})]}),Object(r.jsx)("select",{name:"Key Quality",onChange:function(e){k(e.target.value),t(it(x,d,p,e.target.value))},defaultValue:"Major",children:at.map((function(e){return Object(r.jsx)("option",{value:e,children:e},e)}))})]}):null]})]})})},ot=function(){var e=Object(ae.a)(ce.a.mark((function e(t,n){var r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.post("music",t);case 3:(r=e.sent)?r.error?alert(r.error):((c=new FormData).append("filename",r._id),c.append("file",n),Ee.postForm("music/files",c),alert("Success!")):alert("Failure. You may need to login again."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ut=function(e,t,n,r,c){if(e.target.files[0]&&"audio/mpeg"===e.target.files[0].type){var a=e.target.files[0],i=window.URL.createObjectURL(a),s=new ie.Howl({src:[i],format:"mp3"});s.on("loaderror",(function(){t(null),n("File could not be loaded. May be corrupted mp3 file."),r(!1)})),s.on("load",(function(){t(Math.trunc(s.duration())),n(""),c(a),r(!0)}))}else n("Invalid File or No File Selected"),r(!1)},lt=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!1),i=Object(l.a)(a,2),o=i[0],u=i[1],d=Object(s.useState)(""),j=Object(l.a)(d,2),f=j[0],p=j[1],h=Object(s.useState)(null),O=Object(l.a)(h,2),m=O[0],x=O[1],v=Object(s.useState)({prevailingKey:"N/A",improvisation:0,consistent_vibe:!1}),g=Object(l.a)(v,2),y=g[0],w=g[1],k=function(e){for(var t=Object(b.a)({},y),n=0,r=Object.entries(e);n<r.length;n++){var c=Object(l.a)(r[n],2),a=c[0],i=c[1];t[a]=i}w(t)};return Object(r.jsxs)("form",{children:[Object(r.jsx)("input",{required:!0,type:"file",onInput:function(e){ut(e,(function(e){return k({duration:e})}),p,c,x)},accept:"audio/mp3"}),Object(r.jsx)("p",{className:"err",children:f}),Object(r.jsx)(et,{validator:$e,setFieldsFilled:u,sendFields:function(e){return k(e)}}),Object(r.jsx)(st,{setPrevailingKey:function(e){return k({prevailingKey:e})}}),Object(r.jsx)(rt,{setField:function(e){return k({improvisation:e})}}),Object(r.jsx)(nt,{setField:function(e){return k({consistent_vibe:e})}}),Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),window.confirm("Are you sure you want to submit this?")&&ot(y,m)},style:n&&o?{}:{display:"none"},children:"Submit"})]})},dt=function(){return Object(r.jsxs)("div",{className:"admin-container upload-music",children:[Object(r.jsx)("h1",{children:"Upload a music file (.mp3)"}),Object(r.jsx)(lt,{})]})},jt=(n(122),function(){return Object(r.jsx)("div",{className:"admin-container response-page",children:Object(r.jsx)("input",{type:"search",placeholder:"Search for question title or music title/artist/genre"})})}),bt=(n(123),function(e){var t=e.question,n=e.deleteQuestion;return"multiple-choice"===t.input_type||"check-box"===t.input_type?Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:t.title}),Object(r.jsx)("h5",{children:t.input_type}),Object(r.jsx)("ul",{children:t.options.map((function(e){return Object(r.jsx)("li",{children:e},e)}))}),Object(r.jsx)("button",{className:"small-btn",onClick:function(){return n(t._id)},children:"Remove From Set"})]}):"short-answer"===t.input_type||"color"===t.input_type?Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:t.title}),Object(r.jsx)("h5",{children:t.input_type}),Object(r.jsx)("button",{className:"small-btn",onClick:function(){return n(t._id)},children:"Remove From Set"})]}):Object(r.jsx)("h3",{children:"Error: invalid input type"})}),ft=function(e){var t=e.question,n=e.addToSelected,c=Object(s.useState)(!1),a=Object(l.a)(c,2),i=a[0],o=a[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:Object(r.jsx)("input",{type:"checkbox",value:t.title,checked:i,onChange:function(){return t._id,o(!i),void n(t._id)}})}),t.title]})},pt=function(e){var t=e.onAddQuestions,n=e.currentQuestions,c=Object(s.useState)([]),a=Object(l.a)(c,2),i=a[0],o=a[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),j=d[0],b=d[1];Object(s.useEffect)((function(){var e=!0;return e&&function(){var e=Object(ae.a)(ce.a.mark((function e(){var t,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getAll("questions");case 2:t=e.sent,r=t.filter((function(e){return!n.includes(e._id)})),o(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return e=!1}}),[n]);var f=function(e){var t=j;if(j.includes(e)){var n=t.indexOf(e);t.splice(n,1)}else t.push(e);b(t)};return Object(r.jsxs)("form",{className:"add-question-form",onSubmit:function(e){e.preventDefault(),t(j)},children:[i.map((function(e){return!n.includes(e)&&Object(r.jsx)(ft,{question:e,addToSelected:f},e._id)})),Object(r.jsx)("input",{type:"submit",value:"Add Questions"})]})},ht=n(33),Ot=n(42);n(124);function mt(e){var t=e.provided,n=e.style,r=e.isDragging,c=Object(b.a)(Object(b.a)({},n),t.draggableProps.style);return Object(b.a)(Object(b.a)({},c),{},{height:r?c.height:c.height-8,marginBottom:8})}function xt(e){var t=e.provided,n=e.item,c=e.style,a=e.isDragging;return Object(r.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,style:mt({provided:t,style:c,isDragging:a}),className:"item ".concat(a?"is-dragging":""),children:n.title}))}var vt=o.a.memo((function(e){var t=e.data,n=e.index,c=e.style,a=t[n];return Object(r.jsx)(ht.b,{draggableId:a._id,index:n,children:function(e){return Object(r.jsx)(xt,{provided:e,item:a,style:c})}},a._id)}),Ot.b),gt=function(e){var t=e.curquestions,n=e.onChangeOrder,c=Object(s.useState)(t),a=Object(l.a)(c,2),i=a[0],o=a[1];var u=function(e){if(console.log(e),e.destination&&e.source.index!==e.destination.index){var t=function(e,t){var n=i.map((function(e){return e})),r=n.splice(e,1),c=Object(l.a)(r,1)[0];return n.splice(t,0,c),n}(e.source.index,e.destination.index);o(t)}};return Object(r.jsxs)("div",{children:[Object(r.jsx)(ht.a,{onDragEnd:function(e){return u(e)},children:Object(r.jsx)("div",{className:"dnd",children:Object(r.jsx)(ht.c,{droppableId:"droppable",mode:"virtual",renderClone:function(e,t,n){return Object(r.jsx)(xt,{provided:e,isDragging:t.isDragging,item:i[n.source.index]})},children:function(e){return Object(r.jsx)(Ot.a,{height:80*i.length,itemCount:i.length,itemSize:80,width:300,outerRef:e.innerRef,itemData:i,children:vt})}})})}),Object(r.jsx)("button",{onClick:function(){return n(i)},children:"Done"})]})},yt=(n(126),function(e){var t=e.set,n=e.onDelete,c=e.onDuplicate,a=Object(s.useState)(t),i=Object(l.a)(a,2),o=i[0],u=i[1],d=Object(s.useState)([]),j=Object(l.a)(d,2),f=j[0],p=j[1],h=Object(s.useState)(!1),O=Object(l.a)(h,2),m=O[0],x=O[1],v=Object(s.useState)(!1),g=Object(l.a)(v,2),y=g[0],w=g[1];Object(s.useEffect)((function(){var e=!0;return e&&function(){var e=Object(ae.a)(ce.a.mark((function e(){var t,n,r,c,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getAll("questions");case 2:t=e.sent,n=t.filter((function(e){return o.questions.includes(e._id)})),r=[],c=0;case 6:if(!(c<o.questions.length)){e.next=18;break}a=0;case 8:if(!(a<n.length)){e.next=15;break}if(o.questions[c]!==n[a]._id){e.next=12;break}return r.push(n[a]),e.abrupt("break",15);case 12:a++,e.next=8;break;case 15:c++,e.next=6;break;case 18:p(r);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return e=!1}}),[o.questions]);var k=function(){var e=Object(ae.a)(ce.a.mark((function e(n){var r,c,a,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getOne("sets",t._id);case 2:return r=e.sent,c=r.questions.filter((function(e){return e!==n})),a=Object(b.a)(Object(b.a)({},r),{},{questions:c}),e.next=7,Ee.putOne("sets",t._id,a);case 7:i=e.sent,u(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(ae.a)(ce.a.mark((function e(n){var r,c,a,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getOne("sets",t._id);case 2:for(r=e.sent,c=r.questions,a=0;a<n.length;a++)c.push(n[a]);return e.next=7,Ee.putOne("sets",t._id,Object(b.a)(Object(b.a)({},r),{},{questions:c}));case 7:i=e.sent,u(i),x(!m);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(ae.a)(ce.a.mark((function e(t){var n,r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),w(!1),console.log(f),n=t.map((function(e){return e._id})),r={_id:o._id,questions:n},e.next=7,Ee.patchOne("sets",o._id,r);case 7:c=e.sent,u(c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"set-title",children:Object(r.jsx)("b",{children:t.title})}),o.music&&Object(r.jsx)("h3",{children:Object(r.jsx)("i",{children:"Set will contain music"})}),Object(r.jsx)("button",{onClick:function(){return n(t._id)},children:"Delete Set"}),Object(r.jsx)("button",{onClick:function(){return c(o)},children:"Duplicate Set"}),Object(r.jsx)("button",{onClick:function(){w(!y)},children:"Change Question Order"}),y&&Object(r.jsx)(gt,{curquestions:f,onChangeOrder:N}),Object(r.jsx)("h2",{children:"Questions in Set:"}),Object(r.jsx)("ol",{children:f.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(bt,{question:e,deleteQuestion:k},e._id)},e._id)}))}),Object(r.jsx)("button",{onClick:function(){x(!m)},children:"Add Questions to Set"}),m&&Object(r.jsx)(pt,{className:"addQuestion",onAddQuestions:S,currentQuestions:o.questions})]})}),wt=function(e){var t=e.onAddSet,n=e.setShowAddSet,c=Object(s.useState)(""),a=Object(l.a)(c,2),i=a[0],o=a[1],u=Object(s.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(r.jsxs)("form",{className:"add-set-form",onSubmit:function(e){e.preventDefault(),n(!1),i?(t(i,j),o("")):alert("Please add a title")},children:[Object(r.jsx)("h4",{children:"New Set"}),Object(r.jsx)("label",{children:Object(r.jsx)("b",{children:"Title: "})}),Object(r.jsx)("input",{type:"text",placeholder:"Add Title",value:i,onChange:function(e){return o(e.target.value)}}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{children:Object(r.jsx)("b",{children:"Is there music associated with this set?"})}),Object(r.jsxs)("div",{onChange:function(e){"yes"===e.target.value?b(!0):b(!1)},children:[Object(r.jsx)("input",{type:"radio",value:"yes",name:"option"})," Yes",Object(r.jsx)("input",{type:"radio",value:"No",name:"option"})," No"]})]}),Object(r.jsx)("input",{className:"submit",type:"submit",value:"Save Set"})]})},kt=function(e){var t=e.onNewQuestion,n=e.setShowAddQuestion,c=Object(s.useState)(""),a=Object(l.a)(c,2),i=a[0],o=a[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],f=Object(s.useState)(""),p=Object(l.a)(f,2),h=p[0],O=p[1];return Object(r.jsxs)("form",{className:"new-question-form",onSubmit:function(e){e.preventDefault(),n(!1),i?j?"multiple-choice"===j&&!h||"check-box"===j&&!h?alert("Please add options for multiple choice and checkbox questions"):t(i,j,h):alert("Please select a question type"):alert("Please add a title")},children:[Object(r.jsx)("h4",{children:"New Question"}),Object(r.jsx)("label",{children:Object(r.jsx)("b",{children:"Title: "})}),Object(r.jsx)("input",{type:"text",placeholder:"Add Title",value:i,onChange:function(e){return o(e.target.value)}}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{children:Object(r.jsx)("b",{children:"Question Type: "})}),Object(r.jsxs)("div",{onChange:function(e){return b(e.target.value)},children:[Object(r.jsx)("input",{type:"radio",value:"multiple-choice",name:"option"})," Multiple Choice",Object(r.jsx)("input",{type:"radio",value:"check-box",name:"option"})," Checkbox",Object(r.jsx)("input",{type:"radio",value:"short-answer",name:"option"})," Short Answer",Object(r.jsx)("input",{type:"radio",value:"color",name:"option"})," Color"]}),("multiple-choice"===j||"check-box"===j)&&Object(r.jsx)("label",{children:"Options (please separate each option with a semicolon)"}),("multiple-choice"===j||"check-box"===j)&&Object(r.jsx)("input",{type:"text",placeholder:"options",value:h,onChange:function(e){return O(e.target.value)}}),Object(r.jsx)("input",{className:"submit",type:"submit",value:"Create New Question"})]})},St=function(e){var t=e.handleDeleteQuestion,n=Object(s.useState)([]),c=Object(l.a)(n,2),a=c[0],i=c[1],o=Object(s.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1];Object(s.useEffect)((function(){(function(){var e=Object(ae.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getAll("questions");case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var b=function(){var e=Object(ae.a)(ce.a.mark((function e(n){var r,c,a,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!0!==window.confirm("Delete these questions?")){e.next=34;break}return e.next=5,Ee.getAll("sets");case 5:r=e.sent,console.log(d),c=0;case 8:if(!(c<d.length)){e.next=26;break}a=0;case 10:if(!(a<r.length)){e.next=23;break}i=0;case 12:if(!(i<r[a].questions.length)){e.next=20;break}if(r[a].questions[i]!==d[c]){e.next=17;break}return r[a].questions.splice(i,1),e.next=17,Ee.putOne("sets",r[a]._id,r[a]);case 17:i++,e.next=12;break;case 20:a++,e.next=10;break;case 23:c++,e.next=8;break;case 26:s=0;case 27:if(!(s<d.length)){e.next=33;break}return e.next=30,Ee.deleteOne("questions",d[s]);case 30:s++,e.next=27;break;case 33:t();case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{onSubmit:b,children:[a.map((function(e){return Object(r.jsxs)("div",{onChange:function(e){!function(e){console.log(e);for(var t=[],n=0;n<d.length;n++)t.push(d[n]);console.log("handle checkbox");for(var r=0;r<t.length;r++)if(e===d[r])return t.splice(r,1),void j(t);t.push(e),j(t)}(e.target.value)},children:[Object(r.jsx)("input",{type:"checkbox",value:e._id,name:"question"}),e.title]})})),Object(r.jsx)("input",{className:"submit",type:"submit",value:"Delete Selected Questions"})]})},Nt=(n(127),function(e){var t=e.sets,n=e.onDelete,c=e.onDuplicate,a=e.onAddSet,i=e.onNewQuestion,o=e.onOrderChanged,u=Object(s.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1],f=Object(s.useState)(!1),p=Object(l.a)(f,2),h=p[0],O=p[1],m=Object(s.useState)(!1),x=Object(l.a)(m,2),v=x[0],g=x[1],y=Object(s.useState)(!1),w=Object(l.a)(y,2),k=w[0],S=w[1],N=function(){S(!k)};return Object(r.jsxs)("div",{children:[t.map((function(e){return Object(r.jsx)(yt,{qid:e._id,set:e,onDelete:n,onDuplicate:c,onOrderChanged:o},e._id)})),Object(r.jsx)("button",{className:"big-btn",onClick:function(){b(!j)},children:"Add Set"}),Object(r.jsx)("button",{className:"big-btn",onClick:function(){g(!v)},children:"Change Set Order"}),Object(r.jsx)("button",{className:"big-btn",onClick:function(){O(!h)},children:"Add Questions"}),Object(r.jsx)("button",{className:"big-btn",onClick:function(){return N()},children:"Delete Questions"}),j&&Object(r.jsx)(wt,{onAddSet:a,setShowAddSet:b}),h&&Object(r.jsx)(kt,{onNewQuestion:i,setShowAddQuestion:O}),v&&Object(r.jsx)(gt,{curquestions:t,onChangeOrder:function(e){g(!1),o(e)}}),k&&Object(r.jsx)(St,{handleDeleteQuestion:N})]})});n(128);var Ct=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)([]),i=Object(l.a)(a,2),o=i[0],u=i[1],j=Object(s.useState)([]),b=Object(l.a)(j,2),f=b[0],p=b[1];Object(s.useEffect)((function(){var e=function(){var e=Object(ae.a)(ce.a.mark((function e(){var t,n,r,a,i,s,o,l,d;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getAll("sets");case 2:return t=e.sent,e.next=5,Ee.getAll("set-order");case 5:if(0!==(n=e.sent).length){e.next=17;break}for(r=[],a=0;a<t.length;a++)r.push(t[a]._id);return i={sets:r},e.next=12,Ee.post("set-order",i);case 12:s=e.sent,c(s),u(t),e.next=33;break;case 17:c(n[0].sets),o=[],l=0;case 20:if(!(l<n[0].sets.length)){e.next=32;break}d=0;case 22:if(!(d<t.length)){e.next=29;break}if(n[0].sets[l]!==t[d]._id){e.next=26;break}return o.push(t[d]),e.abrupt("break",29);case 26:d++,e.next=22;break;case 29:l++,e.next=20;break;case 32:u(o);case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(ae.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getAll("questions");case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]);var h=function(){var e=Object(ae.a)(ce.a.mark((function e(t){var r,a,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm("Delete this set?")){e.next=10;break}return Ee.deleteOne("sets",t),u(o.filter((function(e){return e._id!==t}))),r=n.filter((function(e){return e!==t})),a={sets:r},e.next=8,Ee.patch("set-order",a);case 8:i=e.sent,c(i.sets);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(ae.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t.title,t.music,t.questions);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(ae.a)(ce.a.mark((function e(t,r){var a,i,s,l,j,b,f=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>2&&void 0!==f[2]?f[2]:[],i={title:t,questions:a,music:r},e.next=4,Ee.post("sets",i);case 4:return s=e.sent,u([].concat(Object(d.a)(o),[s])),(l=n).push(s._id),j={sets:l},e.next=11,Ee.patch("set-order",j);case 11:b=e.sent,c(b.sets);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(ae.a)(ce.a.mark((function e(t,n,r){var c,a,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={title:t,input_type:n},""!==r&&(a=v(r),c.options=a),e.next=4,Ee.post("questions",c);case 4:i=e.sent,p([].concat(Object(d.a)(f),[i]));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function v(e){for(var t=[],n=0,r=0;r<e.length;r++){if(";"===e.charAt(r)){var c=e.substring(n,r).trim();t.push(c),n=r+1}}var a=e.substring(n,e.length).trim();return""!==a&&t.push(a),t}var g=function(){var e=Object(ae.a)(ce.a.mark((function e(t){var n,r,a,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={sets:t},e.next=3,Ee.patch("set-order",n);case 3:r=e.sent,c(r.sets),a=[],i=0;case 7:if(!(i<r.sets.length)){e.next=19;break}s=0;case 9:if(!(s<t.length)){e.next=16;break}if(r.sets[i]!==t[s]._id){e.next=13;break}return a.push(t[s]),e.abrupt("break",16);case 13:s++,e.next=9;break;case 16:i++,e.next=7;break;case 19:u(a);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"outer-div admin-container",children:[Object(r.jsx)("h1",{children:"Sets Currently in Database:"}),Object(r.jsx)("hr",{}),Object(r.jsx)(Nt,{sets:o,onDelete:h,onDuplicate:O,onAddSet:m,onNewQuestion:x,onOrderChanged:g})]})};var qt=function(){return M(),K(),Object(r.jsx)(s.Fragment,{children:Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{path:"/survey",component:Le}),Object(r.jsx)(u.b,{path:"/home",component:He}),Object(r.jsx)(Je,{path:"/admin/uploadmusic",component:dt}),Object(r.jsx)(Je,{path:"/admin/responsepage",component:jt}),Object(r.jsx)(Je,{path:"/admin",component:Ct}),Object(r.jsx)(u.b,{path:"/not-found",component:Ue}),Object(r.jsx)(u.a,{from:"/",exact:!0,to:"/home"}),Object(r.jsx)(u.a,{to:"/not-found"})]})})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};a.a.render(Object(r.jsx)(i.a,{children:Object(r.jsx)(qt,{})}),document.getElementById("root")),Et()},62:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.05c4a333.chunk.js.map