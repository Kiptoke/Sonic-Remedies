(this.webpackJsonpsurvey=this.webpackJsonpsurvey||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},154:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);n(57),n(86);var r=n(16),i=n.n(r),c=n(17),a=n(0),s=n.n(a),o=n(15),l=n(4),u=n(13),d=(n(91),n(56)),j=n(14);n(92);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){var n=e.title,r=e.titleId,i=f(e,["title","titleId"]);return a.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:105,height:80,viewBox:"0 0 105.4 80.3",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,a.createElement("path",{d:"M5.2 4.6 52.7 77 100.2 4.6 52.7 28.4Z",style:{fill:"#662485",strokeWidth:4,stroke:"#662485"}}))}var p,O=a.forwardRef(h),m=(n.p,n(1)),x=function(e){var t=e.revealNext,n=e.handleClicked;return t?Object(m.jsxs)("button",{className:"next-button",onClick:n,children:[Object(m.jsx)("div",{children:"Next"}),Object(m.jsx)(O,{className:"arrow"})]}):""};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=e.title,r=e.titleId,i=g(e,["title","titleId"]);return a.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:41.143,height:41.143,viewBox:"0 0 10.886 10.886",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,p||(p=a.createElement("circle",{cx:38.947,cy:8.167,r:4.914,opacity:.96,fill:"#fff",fillRule:"evenodd",stroke:"#fff",strokeWidth:1.058,transform:"translate(-33.504 -2.724)"})))}var w,S=a.forwardRef(y);n.p;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C(e,t){var n=e.title,r=e.titleId,i=_(e,["title","titleId"]);return a.createElement("svg",k({width:41.143,height:41.143,viewBox:"0 0 10.886 10.886",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,w||(w=a.createElement("circle",{cx:5.443,cy:5.443,r:5.1529,fill:"none",opacity:.96,stroke:"#fff",strokeWidth:.50001})))}var N=a.forwardRef(C),q=(n.p,function(e){var t=e.responses,n=e.handleResponded,r=Object(a.useState)(-1),i=Object(l.a)(r,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){n(c>-1?c:null)}),[n,c]),Object(m.jsx)("div",{className:"question-mc option-box",children:t.map((function(e,t){return Object(m.jsxs)("div",{className:t===c?"option selected":"option",onClick:function(){return s(t)},children:[Object(m.jsx)("div",{className:"response",children:e}),(n=c,r=t,n===r?Object(m.jsx)(S,{className:"indicator"}):Object(m.jsx)(N,{className:"indicator"}))]},t);var n,r}))})}),E=function(e){var t=e.question,n=e.handleYes,r=e.handleClickedNext,i=Object(a.useState)(!1),c=Object(l.a)(i,2),s=c[0],o=c[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:t}),Object(m.jsx)(q,{responses:["Yes","No"],handleResponded:function(e){1===e?o(!0):0===e&&(o(!1),n())}}),Object(m.jsx)("div",{className:"next",children:Object(m.jsx)(x,{revealNext:s,handleClicked:r})})]})};function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I(e,t){var n=e.title,r=e.titleId,i=A(e,["title","titleId"]);return a.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:53,height:53,viewBox:"0 0 52.9 52.9",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,a.createElement("rect",{width:52.9,height:52.9,style:{fill:"#fff",strokeWidth:4}}))}var Q=a.forwardRef(I);n.p;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R(e,t){var n=e.title,r=e.titleId,i=M(e,["title","titleId"]);return a.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",width:53,height:53,viewBox:"0 0 52.9 52.9",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,a.createElement("rect",{width:52.9,height:52.9,style:{fill:"none",strokeWidth:4,stroke:"#fff"}}))}var T=a.forwardRef(R),F=(n.p,function(e,t){return!0===e[t]?Object(m.jsx)(Q,{className:"indicator"}):Object(m.jsx)(T,{className:"indicator"})}),L=function(e){var t=e.responses,n=e.handleResponded;t=[].concat(Object(u.a)(t),["None of the above"]);for(var r=[],i=0;i<t.length;i++)r[i]=!1;var c=Object(a.useState)(r),s=Object(l.a)(c,2),o=s[0],d=s[1];return Object(a.useEffect)((function(){o.find((function(e){return!0===e}))?n(o):n(null)}),[o,n]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Select all that apply."}),Object(m.jsx)("div",{className:"question-ms option-box",children:t.map((function(e,t){return Object(m.jsxs)("div",{className:o[t]?"option selected":"option",onClick:function(){d(function(e,t){if(t===e.length-1)for(var n=0;n<t;n++)e[n]=!1;return e[e.length-1]&&t!==e.length-1&&(e[e.length-1]=!1),e[t]=!e[t],e}(Object(u.a)(o),t))},children:[Object(m.jsx)("div",{className:"response",children:e}),F(o,t)]},t)}))})]})},W=(n(94),n(30)),B=n.n(W),H=B.a.object({textfield:B.a.string().min(2).max(300).required().label("Answer")});var G=function(e){var t=e.handleResponded,n=e.config,r=n?n.maxLength:void 0,i=Object(a.useState)(null),c=Object(l.a)(i,2),s=c[0],o=c[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){t(s)}),[t,s]),Object(m.jsxs)("div",{className:"question-fr",children:[Object(m.jsx)("textarea",{maxLength:r||25,rows:"6",placeholder:"Write your answer here",onChange:function(e){return function(e,t,n){var r=e.target.value,i=H.validate({textfield:r}).error;i?(t(null),n(i.message)):(t(r),n(""))}(e,o,b)}}),Object(m.jsx)("div",{className:"error",children:j})]})},K=(n(114),n(115),function(e){var t=e.text,n=e.onClick;return Object(m.jsx)("button",{className:"user-button",onClick:n,children:t})});function U(e,t){return Object(m.jsx)(q,{responses:["Yes","No"],handleResponded:function(n){!function(e,t,n){0===e?(t(!0),n(!1)):1===e&&(n(!0),t(!1))}(n,e,t)}})}var Y=function(e){e.responses;var t=e.handleResponded,n=Object(a.useState)(!1),r=Object(l.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)("#000000"),b=Object(l.a)(j,2),f=b[0],h=b[1],p=[c,d];return Object(a.useEffect)((function(){var e="No Color";i&&(e=f),t(i||u?e:null)})),u||!i&!u?U.apply(void 0,p):Object(m.jsxs)("div",{className:"question-color",children:[Object(m.jsx)("p",{children:"Select the color: "}),Object(m.jsx)("input",{type:"color",onChange:function(e){return h(e.target.value)}}),Object(m.jsx)(K,{text:"Go Back",onClick:function(){c(!1)}})]})},V=n(84),z=(n(117),function(e){var t=e.handleResponded;return Object(m.jsxs)("div",{children:[["1: Strongly Disagree","2: Disagree","3: Neutral","4: Agree","5: Strongly Agree"].map((function(e){return Object(m.jsx)("h2",{children:e})})),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:"15rem",margin:"0 auto"},children:[Object(m.jsx)("label",{htmlFor:"slider",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[1,2,3,4,5].map((function(e){return Object(m.jsx)("p",{style:{fontWeight:"bold"},children:e},e)}))}),Object(m.jsx)(V.a,{id:"slider",min:1,max:5,defaultValue:3,railStyle:{backgroundColor:"#2f4858"},trackStyle:{backgroundColor:"#2f4858"},handleStyle:{backgroundColor:"#eadbec",borderColor:"#662485",height:"3rem",width:"3rem",marginTop:"-22px"},onChange:function(e){t(e)}})]})]})});function Z(e,t,n){t(e),n(!0)}function J(e,t,n,r){var i={responses:t,handleResponded:n,config:r};return"multiple-choice"===e?Object(m.jsx)(q,Object(j.a)({},i)):"check-box"===e?Object(m.jsx)(L,Object(j.a)({},i)):"short-answer"===e?Object(m.jsx)(G,Object(j.a)({},i)):"color"===e?Object(m.jsx)(Y,Object(j.a)({},i)):"slider"===e?Object(m.jsx)(z,Object(j.a)({},i)):void 0}var $,X=function(e){var t=e.question,n=e.handleResponse,r=t.type,i=t.responses,c=t.config,s=t.ask,o=Object(a.useState)(null),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(a.useState)(t.config&&t.config.condQuestion),f=Object(l.a)(b,2),h=f[0],p=f[1],O=Object(a.useState)(!1),v=Object(l.a)(O,2),g=v[0],y=v[1];return Object(m.jsxs)("div",{children:[h&&Object(m.jsx)("div",{className:"question",children:Object(m.jsx)(E,{question:t.config.condQuestion,handleYes:function(){return p(!1)},handleClickedNext:function(){Z("Cond No",n,y)}})}),!h&&Object(m.jsxs)("div",{className:"question",children:[Object(m.jsx)("h1",{children:s}),J(r,i,(function(e){j(e)}),c),Object(m.jsx)("div",{className:"next",children:Object(m.jsx)(x,{revealNext:null!==d&!g,handleClicked:function(){Z(d,n,y)}})})]})]})},ee=function(e){var t=e.questions,n=e.currentQuestion,r=e.handleResponse;return Object(d.b)(t[n],(function(e){return e.ask}),{from:{transform:0===n?"translate3d(0, 0%, 0)":"translate3d(0, 100%, 0)"},enter:{transform:"translate3d(0, 0, 0)"},leave:{transform:n===t.length-1?"translate3d(0, 0, 0)":"translate3d(0, -100%, 0)"}}).map((function(e){var t=e.item,n=e.props,i=e.key;return Object(m.jsx)(d.a.div,{className:"question-animator",style:n,children:Object(m.jsx)(X,{question:t,handleResponse:r})},i)}))},te=(n(118),n(119),function(e,t){for(var n=[],r=0;r<e;r++)r<t?n.push(Object(m.jsx)(S,{className:"circle"},r)):n.push(Object(m.jsx)(N,{className:"circle"},r));return n}),ne=function(e){var t=e.numQuestions,n=e.currentQuestion;return Object(m.jsx)("div",{className:"fixed-UI",children:Object(m.jsx)("div",{className:"circles",children:te(t,n)})})},re=n(8),ie=n.n(re),ce=n(10),ae=(n(120),n(42));function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function le(e,t){var n=e.title,r=e.titleId,i=oe(e,["title","titleId"]);return a.createElement("svg",se({width:"27.059mm",height:"26.944mm",viewBox:"0 0 27.059 26.944",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,$||($=a.createElement("g",{transform:"translate(-89.884 -78.943)"},a.createElement("path",{transform:"matrix(1.1129 0 0 .99792 -10.183 .19219)",d:"m113.73 92.415c0 1.2974-21.347 13.622-22.471 12.974-1.1235-0.64868-1.1235-25.298 0-25.947 1.1235-0.64868 22.471 11.676 22.471 12.974z",fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc"}))))}var ue,de,je=a.forwardRef(le);n.p;function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function he(e,t){var n=e.title,r=e.titleId,i=fe(e,["title","titleId"]);return a.createElement("svg",be({width:"27.059mm",height:"26.944mm",viewBox:"0 0 27.059 26.944",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,ue||(ue=a.createElement("rect",{x:16.527,y:.74865,width:7.4985,height:25.447,rx:.17777,ry:.22071,fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc",strokeWidth:1.4973})),de||(de=a.createElement("rect",{x:3.0334,y:.74865,width:7.4985,height:25.447,rx:.17777,ry:.22071,fill:"#fff",fillRule:"evenodd",opacity:.96,stroke:"#dcdcdc",strokeWidth:1.4973})))}var pe=a.forwardRef(he),Oe=(n.p,function(e){switch(e.playState){case"paused":return Object(m.jsx)(je,{className:"player play-button"});case"playing":return Object(m.jsx)(pe,{className:"player pause-buton"});default:return"Error"}}),me=function(e){var t=e.canContinue,n=e.handleContinueClicked;return t&&Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"1rem"},children:[Object(m.jsx)("button",{className:"music-continue",onClick:n,children:"Continue to questions"}),Object(m.jsx)("p",{children:"Note: Continuing will end the music."})]})},xe=function(e,t,n){switch(e){case"paused":return n.play(),void t("playing");case"playing":return n.pause(),void t("paused");default:return}},ve=(n(121),function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),r=n[0],i=n[1],c=Object(a.useRef)(null),s=e.size,o=e.progress,u=e.strokeWidth,d=s/2,j=s/2-u/2,b=2*Math.PI*j;return Object(a.useEffect)((function(){i((100-o)/100*b),c.current.style="transition: stroke-dashoffset 300ms linear"}),[i,o,b,r]),Object(m.jsx)("div",{className:"progress-bar",children:Object(m.jsxs)("svg",{className:"svg",width:s,height:s,children:[Object(m.jsx)("circle",{className:"svg-circle-bg",cx:d,cy:d,r:j,strokeWidth:u}),Object(m.jsx)("circle",{className:"svg-circle",ref:c,cx:d,cy:d,r:j,strokeWidth:u,strokeDasharray:b,strokeDashoffset:r})]})})}),ge=n(22),ye=n.n(ge),we=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_PORT:"3001"}),Se=we.REACT_APP_LOCALHOST,ke=we.REACT_APP_API_PORT,_e=Se?"http://localhost:".concat(ke):"https://sonicremedies.net:".concat(ke),Ce=function(e){console.error(e.message)},Ne={postToken:function(){ye.a.defaults.headers.common.authorization=localStorage.getItem("token")},refreshLogin:function(){window.confirm("Your session is about to expire. Would you like to extend it another 30 minutes?")&&ye.a.get(_e+"/login/refresh").then((function(e){console.log(e.data),localStorage.setItem("token",e.data),ye.a.defaults.headers.common.authorization=localStorage.getItem("token")})).catch(Ce)},getAll:function(e){return ye.a.get(_e+"/"+e).then((function(e){return e.data})).catch(Ce)},getOne:function(e,t){return ye.a.get(_e+"/"+e+"/"+t).then((function(e){return e.data})).catch(Ce)},getOneFile:function(e,t){return ye()({method:"GET",url:_e+"/"+e+"/"+t,responseType:"blob"}).then((function(e){return e.data})).catch(Ce)},post:function(e,t){return ye.a.post(_e+"/"+e,t).then((function(e){return e.data})).catch(Ce)},postForm:function(e,t){return ye()({method:"post",url:_e+"/"+e,data:t,headers:{"Content-Type":"multipart/form-data"}})},deleteOne:function(e,t){return ye.a.delete(_e+"/"+e+"/"+t).then((function(e){return e.data})).catch(Ce)},patch:function(e,t){return ye.a.patch(_e+"/"+e,t).then((function(e){return e.data})).catch(Ce)},patchOne:function(e,t,n){return ye.a.patch(_e+"/"+e+"/"+t,n).then((function(e){return e.data})).catch(Ce)},putOne:function(e,t,n){return ye.a.put(_e+"/"+e+"/"+t,n).then((function(e){return e.data})).catch(Ce)}},qe=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n){var r,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getOneFile("music/files",t);case 2:r=e.sent,(i=new ae.Howl({src:[URL.createObjectURL(r)],html5:!0,format:"mp3"})).on("loaderror",(function(){throw Error("Howler error loading downloaded file")})),n(i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(e){var t=e.filename,n=e.handleMusicDone,r=Object(a.useState)("paused"),i=Object(l.a)(r,2),c=i[0],s=i[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(a.useState)(null),f=Object(l.a)(b,2),h=f[0],p=f[1],O=Object(a.useState)(0),x=Object(l.a)(O,2),v=x[0],g=x[1],y=Object(a.useCallback)((function(){h.seek()>h.duration()/2&&(clearInterval(y),j(!0))}),[h]),w=Object(a.useCallback)((function(){g(h.seek()/h.duration()*100)}),[h]);return Object(a.useEffect)((function(){!h&&t&&qe(t+".mp3",p)}),[h,t]),Object(a.useEffect)((function(){if(h){var e=setInterval(y,1e3),t=setInterval(w,300);return h.on("end",(function(){h.seek(0),s("paused")})),function(){clearInterval(e),clearInterval(t),h.unload()}}}),[y,w,h]),h?Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)("div",{className:"music-player",onClick:function(){return xe(c,s,h)},children:[Object(m.jsx)(ve,{size:180,progress:v,strokeWidth:6}),Object(m.jsx)(Oe,{playState:c})]}),Object(m.jsx)(me,{canContinue:d,handleContinueClicked:function(){h.pause(),n()}})]}):Object(m.jsx)("h1",{children:"Loading audio..."})},De=(n(140),function(e){var t=e.setId,n=e.totalSets,r=e.clickContinue;return Object(m.jsxs)("div",{className:"orientation-page global-container",children:[Object(m.jsxs)("h1",{children:["Question set ",t+1," / ",n]}),Object(m.jsx)(K,{text:"Continue",onClick:r})]})}),Ae=(n(141),function(){return Object(m.jsx)("div",{className:"global-container complete-page",children:Object(m.jsx)("h1",{children:"You have completed the survey. Thank you!"})})}),Ie=function(e){var t=e.musicFilename,n=e.setId,r=e.set,i=e.setCurrentSet,c=e.totalSets,s=e.postResponse,o=r.questions,d=Object(a.useState)(0),j=Object(l.a)(d,2),b=j[0],f=j[1],h=Object(a.useState)("orientation"),p=Object(l.a)(h,2),O=p[0],x=p[1],v=Object(a.useState)([]),g=Object(l.a)(v,2),y=g[0],w=g[1];switch(O){case"orientation":return Object(m.jsx)(De,{setId:n,totalSets:c,clickContinue:function(){r.music?x("music"):x("questions")}});case"music":return Object(m.jsx)("div",{className:"music-page global-container",children:Object(m.jsx)(Ee,{filename:t,handleMusicDone:function(){x("questions")}})});case"questions":return Object(m.jsxs)("div",{className:"set global-container",children:[Object(m.jsx)("div",{className:"set-questions",children:Object(m.jsx)(ee,{questions:o,currentQuestion:b,handleResponse:function(e){var t=[].concat(Object(u.a)(y),[e]);w(t),b===o.length-1?n!==c-1?(f(0),i(n+1),x("orientation")):(x("complete"),s(t)):(console.log("Got here"),f(b+1))}})}),Object(m.jsx)(ne,{numQuestions:o.length,currentQuestion:b})]});case"complete":return Object(m.jsx)(Ae,{});default:return null}},Qe=n(77),Pe={sets:[{questions:["60cb6fb5c1fa3a04e5556a4a","60cb700ac1fa3a04e5556a4b","60cb7023c1fa3a04e5556a4c","60cb7034c1fa3a04e5556a4d","60cb7042c1fa3a04e5556a4e"],_id:"60ca29e5c76bf302c5949fa5",title:"LOZ Trivia",music:!1,__v:34},{questions:["60cb713ec1fa3a04e5556a53","60cb7125c1fa3a04e5556a52","60cb7104c1fa3a04e5556a51","60cb7157c1fa3a04e5556a54","60cb70ddc1fa3a04e5556a50"],_id:"60ca4cfa05da7f03dc132566",title:"Metroid Trivia",music:!1,__v:16}],questions:[{options:["Goron","Malvia","Hyrule","Egypt"],_id:"60cb6fb5c1fa3a04e5556a4a",title:"What is the name of the kingdom that Princess Zelda rules?",input_type:"multiple-choice",__v:0},{options:["Wisdom","Sexiness","Power","Intellect","Honesty","Courage","Kindness","Love"],_id:"60cb700ac1fa3a04e5556a4b",title:"Select All of the parts of the Triforce.",input_type:"check-box",__v:0},{options:[],_id:"60cb7023c1fa3a04e5556a4c",title:"Describe Link's traditional outfit.",input_type:"short-answer",__v:0},{options:[],_id:"60cb7034c1fa3a04e5556a4d",title:"What Color are Link's Boots?",input_type:"color",__v:0},{options:[],_id:"60cb7042c1fa3a04e5556a4e",title:"The Legend of Zelda is a fun series.",input_type:"slider",__v:0},{options:["Samis","Samus","Samas","Shrapnel"],_id:"60cb70ddc1fa3a04e5556a50",title:"Who is the main character in the Metroid series?",input_type:"multiple-choice",__v:0},{options:["SSBB","MarioKart","Mario Party","DonkeyKong"],_id:"60cb7104c1fa3a04e5556a51",title:"What games other than Metroid does Samus appear in?",input_type:"check-box",__v:0},{options:[],_id:"60cb7125c1fa3a04e5556a52",title:"Describe Samus's uniform.",input_type:"short-answer",__v:0},{options:[],_id:"60cb713ec1fa3a04e5556a53",title:"What color is Zero Suit Samus's suit traditionally?",input_type:"color",__v:0},{options:[],_id:"60cb7157c1fa3a04e5556a54",title:"Samus is a badass woman.",input_type:"slider",__v:0}],"set-order":[{sets:["60ca4cfa05da7f03dc132566","60ca29e5c76bf302c5949fa5"],_id:"6077c3d622e3640e74f7b234",__v:374}],"questions-idict":{"60cb6fb5c1fa3a04e5556a4a":{options:["Goron","Malvia","Hyrule","Egypt"],_id:"60cb6fb5c1fa3a04e5556a4a",title:"What is the name of the kingdom that Princess Zelda rules?",input_type:"multiple-choice",__v:0},"60cb700ac1fa3a04e5556a4b":{options:["Wisdom","Sexiness","Power","Intellect","Honesty","Courage","Kindness","Love"],_id:"60cb700ac1fa3a04e5556a4b",title:"Select All of the parts of the Triforce.",input_type:"check-box",__v:0},"60cb7023c1fa3a04e5556a4c":{options:[],_id:"60cb7023c1fa3a04e5556a4c",title:"Describe Link's traditional outfit.",input_type:"short-answer",__v:0},"60cb7034c1fa3a04e5556a4d":{options:[],_id:"60cb7034c1fa3a04e5556a4d",title:"What Color are Link's Boots?",input_type:"color",__v:0},"60cb7042c1fa3a04e5556a4e":{options:[],_id:"60cb7042c1fa3a04e5556a4e",title:"The Legend of Zelda is a fun series.",input_type:"slider",__v:0},"60cb70ddc1fa3a04e5556a50":{options:["Samis","Samus","Samas","Shrapnel"],_id:"60cb70ddc1fa3a04e5556a50",title:"Who is the main character in the Metroid series?",input_type:"multiple-choice",__v:0},"60cb7104c1fa3a04e5556a51":{options:["SSBB","MarioKart","Mario Party","DonkeyKong"],_id:"60cb7104c1fa3a04e5556a51",title:"What games other than Metroid does Samus appear in?",input_type:"check-box",__v:0},"60cb7125c1fa3a04e5556a52":{options:[],_id:"60cb7125c1fa3a04e5556a52",title:"Describe Samus's uniform.",input_type:"short-answer",__v:0},"60cb713ec1fa3a04e5556a53":{options:[],_id:"60cb713ec1fa3a04e5556a53",title:"What color is Zero Suit Samus's suit traditionally?",input_type:"color",__v:0},"60cb7157c1fa3a04e5556a54":{options:[],_id:"60cb7157c1fa3a04e5556a54",title:"Samus is a badass woman.",input_type:"slider",__v:0}}},Me=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n){var r,i,c,a,s,o,l,u,d;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getAll("sets");case 2:return r=e.sent,e.next=5,Ne.getAll("set-order");case 5:if(i=e.sent,r&&i||(r=Pe.sets,i=Pe["set-order"],alert("Failed to load DB")),0!==i.length){e.next=17;break}for(c=[],a=0;a<r.length;a++)c.push(r[a]._id);return s={sets:c},e.next=13,Ne.post("set-order",s);case 13:o=e.sent,t&&n&&(n(o),t(r)),e.next=37;break;case 17:n&&n(i[0].sets),l=[],u=0;case 20:if(!(u<i[0].sets.length)){e.next=32;break}d=0;case 22:if(!(d<r.length)){e.next=29;break}if(i[0].sets[u]!==r[d]._id){e.next=26;break}return l.push(r[d]),e.abrupt("break",29);case 26:d++,e.next=22;break;case 29:u++,e.next=20;break;case 32:if(!t){e.next=36;break}t(l),e.next=37;break;case 36:return e.abrupt("return",l);case 37:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Re=function(e,t){var n=[];return e.forEach((function(e){var r=[];e.questions.forEach((function(e){var n=t[e];r.push({ask:n.title,responses:n.options,type:n.input_type,id:n._id,config:n.config})})),n.push({questions:r,music:e.music})})),{sets:n}},Te=function(){var e=Object(ce.a)(ie.a.mark((function e(){var t,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:return t=e.sent,e.next=5,Ne.getAll("questions/idict");case 5:if(n=e.sent){e.next=9;break}return alert("Failed to get server data"),e.abrupt("return",Re(t,Pe["questions-idict"]));case 9:return e.abrupt("return",Re(t,n));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=n(83),Le=function(){var e=Object(ce.a)(ie.a.mark((function e(t){var n,r,i,c,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e){return e.music})).length,e.next=3,Ne.getAll("music");case 3:return r=e.sent,i=Fe.a.sample(r,n),c=-1,a=[],t.map((function(e){return e.music?a.push(i[c+=1]._id):a.push(null)})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),c=Object(l.a)(i,2),s=c[0],u=c[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),b=j[0],f=j[1];Object(a.useEffect)((function(){Te().then((function(e){return u(e),e.sets})).then((function(e){return Le(e)})).then((function(e){f(e)}))}),[]),Object(Qe.a)((function(e){return"Data will be lost."}));if(null!==s&&void 0!==s){var h=s.sets;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(o.a,{when:!0}),Object(m.jsx)(Ie,{musicFilename:b[n],setId:n,set:h[n],nextSet:h[n+1],setCurrentSet:r,totalSets:h.length,postResponse:function(e){for(var t=[],n=[],r=[],i=[],c=0;c<s.sets.length;c++){var a=s.sets[c];r.push(a.questions.length);for(var o=0;o<a.questions.length;o++)t.push(a.questions[o].id),n.push(a.questions[o].type)}for(var l=0;l<e.length;l++)if("multiple-choice"===n[l]||"color"===n[l]||"slider"===n[l])i.push(e[l].toString());else if("short-answer"===n[l])i.push(e[l]);else if("check-box"===n[l]){for(var u="",d=0;d<e[l].length;d++)e[l][d]?u+="1":u+="0";i.push(u)}var j={musicids:b,questionGroups:r,questions:t,answers:i};Ne.post("responses",j)}})]})}return null},Be=n(24),He=n(29),Ge=n(28),Ke=n(27),Ue=n(36),Ye=(n(149),n(150),["The purpose of this site is to support research which investigates the\nrelationship our minds and bodies have with music.","In particular, the Sonic Remedies team seeks to identify specific\nelements of musical construction and expression for the purpose of\nprescribing remedies for healing.","Your participation here is entirely voluntary and without\ncompensation. Your responses are anonymous and utilized strictly to\nsupport research. You won\u2019t be asked to pay for anything or offered\nproducts and services for sale.","For this survey, you will be asked a series of questions and presented\nwith approximately five short musical excerpts, for which you will\nneed to share both mental and physical responses. The survey will take\napproximately 15 minutes. We appreciate your involvement in this study\nand hope you enjoy the journey."]),Ve=function(e){Object(Ge.a)(n,e);var t=Object(Ke.a)(n);function n(){var e;Object(Be.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(He.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(Ue.a,{className:" bg home global-container",children:[Object(m.jsx)("h1",{children:"Welcome to Sonic Remedies!"}),Object(m.jsx)("div",{className:"lighten",children:Ye.map((function(e){return Object(m.jsx)("p",{children:e})}))}),Object(m.jsx)(c.b,{to:"/survey",children:Object(m.jsx)(K,{text:"Begin"})})]})}}]),n}(a.Component),ze=function(){return Object(m.jsx)("h1",{className:"global-h1",children:"Page Not Found."})},Ze=n(85),Je=n(23),$e=n(33),Xe=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n,r){var i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("login",t);case 2:(i=e.sent)?(localStorage.setItem("token",i),Ne.postToken(),window.setInterval(Ne.refreshLogin,168e4),n(!0)):(n(!1),r("The password was incorrect. Try Again."));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),et=function(e){var t=e.setLoggedIn,n=Object(a.useState)({username:"admin",password:""}),r=Object(l.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),u=o[0],d=o[1];return Object(m.jsxs)("div",{className:"admin-container",children:[Object(m.jsx)("h1",{children:"Please login as admin to continue"}),Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{children:"Username"}),Object(m.jsx)("input",{defaultValue:"admin",onChange:function(e){return c({username:e.target.value,password:i.password})}}),Object(m.jsx)("label",{children:"Password"}),Object(m.jsx)("input",{type:"password",onChange:function(e){return c({username:i.username,password:e.target.value})}}),Object(m.jsx)(Je.a,{onClick:function(e){e.preventDefault(),Xe(i,t,d)},children:"Login"})]}),Object(m.jsx)($e.a,{variant:"danger",style:{display:u.length?"":"none"},children:u})]})},tt=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n,r){var i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getAll("login/me",t);case 2:i=e.sent,r(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),nt=function(e){var t=e.component,n=Object(Ze.a)(e,["component"]),r=Object(a.useState)(""),i=Object(l.a)(r,2),c=i[0],s=i[1],u=Object(a.useState)(!1),d=Object(l.a)(u,2),b=d[0],f=d[1];return Object(a.useEffect)((function(){tt(localStorage.getItem("token"),f,s),"admin"===c&&f(!0)}),[c]),Object(m.jsxs)("div",{children:[!b&&Object(m.jsx)("div",{children:Object(m.jsx)(et,{setLoggedIn:f})}),Object(m.jsx)(o.c,Object(j.a)(Object(j.a)({},n),{},{render:function(e){if(!0===b)return Object(m.jsx)(t,Object(j.a)({},e))}}))]})},rt=(n(151),B.a.object({filename:B.a.string().pattern(/.+.(mp3)$/),textfield:B.a.string().max(30),number:B.a.number().max(1e3).min(1)})),it=function(e,t,n,r,i,c){var a=Object(u.a)(e),s=t.target.value,o=("number"===c?rt.validate({number:s}):rt.validate({textfield:s})).error;if(!o){a[i]="",n(a);var l=!0;a.forEach((function(e){(e||void 0===e)&&(l=!1)})),r(l)}o&&(a[i]=t.target.name+" "+o.message.split('"')[2],n(a),r(!1))},ct=[{name:"title",readable:"Title",example:"Stupid Love"},{name:"artist",readable:"Artist",example:"Lady Gaga"},{name:"album",readable:"Album",example:"Chromatica"},{name:"genre",readable:"Genre",example:"Pop"},{name:"tempo",readable:"Tempo (bpm)",example:"118",type:"number"}],at=function(e){var t=e.validator,n=e.setFieldsFilled,r=e.sendFields,i=[];ct.forEach((function(){return i.push(void 0)}));var c=Object(a.useState)(i),s=Object(l.a)(c,2),o=s[0],u=s[1],d=Object(a.useState)({}),b=Object(l.a)(d,2),f=b[0],h=b[1];return Object(m.jsx)("div",{children:ct.map((function(e,i){return Object(m.jsxs)("div",{className:"field-container",children:[Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:e.name,children:e.readable}),Object(m.jsx)("input",{required:!0,type:"text",name:e.name,placeholder:"Ex. "+e.example,onChange:function(c){t(o,c,u,n,i,e.type);var a=Object(j.a)({},f);a[e.name]=c.target.value.toLowerCase(),h(a),r(a)}})]}),Object(m.jsx)("p",{className:"fc-err",children:o[i]})]},e.name)}))})},st="Consistent Vibe",ot=function(e){var t=e.setField;return Object(m.jsx)("div",{className:"field-container",children:Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:st,children:st}),Object(m.jsxs)("div",{style:{minWidth:"55%",display:"flex",justifyContent:"flex-end"},children:[Object(m.jsxs)("div",{className:"yes-no-option",children:[Object(m.jsx)("label",{htmlFor:"yes",children:"Yes"}),Object(m.jsx)("input",{type:"radio",id:"yes",name:st,value:!0,onChange:function(e){return t(e.target.value)}})]}),Object(m.jsxs)("div",{className:"yes-no-option",children:[Object(m.jsx)("label",{htmlFor:"no",children:"No"}),Object(m.jsx)("input",{type:"radio",id:"no",name:st,value:!1,defaultChecked:!0,onChange:function(e){return t(!e.target.value)}})]})]})]})},st)},lt=function(e){var t=e.setField,n="Improvisation";return Object(m.jsx)("div",{className:"field-container",children:Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:n,children:n}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"55%"},children:[Object(m.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:["0%","25%","50%","75%","100%"].map((function(e){return Object(m.jsx)("div",{style:{fontSize:"10px"},children:e},e)}))}),Object(m.jsx)("input",{id:n,name:n,type:"range",min:"0",max:"100",step:"25",defaultValue:"0",onChange:function(e){return t(e.target.value)}})]})]})},n)},ut=["A","B","C","D","E","F","G","N/A"],dt=["Major","Minor","Dorian","Phrygian","Lydian","Mixolydian","Locrian","N/A"],jt=function(e,t,n,r){return"N/A"===e?"N/A":e+(t?"f":n?"s":"")+("N/A"!==r?r:"")},bt=function(e){var t=e.setPrevailingKey,n=Object(a.useState)(!1),r=Object(l.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),f=b[0],h=b[1],p=Object(a.useState)("N/A"),O=Object(l.a)(p,2),x=O[0],v=O[1],g=Object(a.useState)("Major"),y=Object(l.a)(g,2),w=y[0],S=y[1];return Object(m.jsx)("div",{className:"field-container",children:Object(m.jsxs)("div",{className:"fc-main",children:[Object(m.jsx)("label",{htmlFor:"Prevailing Key",children:"Prevailing Key"}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"",minWidth:"55%"},children:[Object(m.jsx)("select",{defaultValue:"N/A",name:"Prevailing Key",onChange:function(e){"N/A"===e.target.value?(c(!1),d(!1),h(!1),S("Major")):c(!0),v(e.target.value),t(jt(e.target.value,u,f,w))},children:ut.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))}),i?Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"end",marginTop:"0.5rem"},children:[Object(m.jsxs)("div",{style:{marginRight:"0.5rem"},children:[Object(m.jsx)("label",{htmlFor:"\u266f",children:"\u266f"}),Object(m.jsx)("input",{style:{width:"1rem"},type:"checkbox",name:"\u266f",disabled:u,onChange:function(){t(jt(x,u,!f,w)),h(!f)}})]}),Object(m.jsxs)("div",{style:{marginRight:"0.5rem"},children:[Object(m.jsx)("label",{htmlFor:"\u266d",children:"\u266d"}),Object(m.jsx)("input",{style:{width:"1rem"},type:"checkbox",name:"\u266d",disabled:f,onClick:function(){t(jt(x,!u,f,w)),d(!u)}})]}),Object(m.jsx)("select",{name:"Key Quality",onChange:function(e){S(e.target.value),t(jt(x,u,f,e.target.value))},defaultValue:"Major",children:dt.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))})]}):null]})]})})},ft=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n){var r,i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.post("music",t);case 3:(r=e.sent)?r.error?alert(r.error):((i=new FormData).append("filename",r._id),i.append("file",n),Ne.postForm("music/files",i),alert("Success!")):alert("Failure. You may need to login again."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ht=function(e,t,n,r,i){if(e.target.files[0]&&"audio/mpeg"===e.target.files[0].type){var c=e.target.files[0],a=window.URL.createObjectURL(c),s=new ae.Howl({src:[a],format:"mp3"});s.on("loaderror",(function(){t(null),n("File could not be loaded. May be corrupted mp3 file."),r(!1)})),s.on("load",(function(){t(Math.trunc(s.duration())),n(""),i(c),r(!0)}))}else n("Invalid File or No File Selected"),r(!1)},pt=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),c=Object(l.a)(i,2),s=c[0],o=c[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),b=d[0],f=d[1],h=Object(a.useState)(null),p=Object(l.a)(h,2),O=p[0],x=p[1],v=Object(a.useState)({prevailingKey:"N/A",improvisation:0,consistent_vibe:!1}),g=Object(l.a)(v,2),y=g[0],w=g[1],S=function(e){for(var t=Object(j.a)({},y),n=0,r=Object.entries(e);n<r.length;n++){var i=Object(l.a)(r[n],2),c=i[0],a=i[1];t[c]=a}w(t)};return Object(m.jsxs)("form",{children:[Object(m.jsx)("input",{required:!0,type:"file",onInput:function(e){ht(e,(function(e){return S({duration:e})}),f,r,x)},accept:"audio/mp3"}),Object(m.jsx)("p",{className:"err",children:b}),Object(m.jsx)(at,{validator:it,setFieldsFilled:o,sendFields:function(e){return S(e)}}),Object(m.jsx)(bt,{setPrevailingKey:function(e){return S({prevailingKey:e})}}),Object(m.jsx)(lt,{setField:function(e){return S({improvisation:e})}}),Object(m.jsx)(ot,{setField:function(e){return S({consistent_vibe:e})}}),Object(m.jsx)(Je.a,{onClick:function(e){e.preventDefault(),window.confirm("Are you sure you want to submit this?")&&ft(y,O)},style:n&&s?{}:{display:"none"},children:"Submit"})]})},Ot=function(){return Object(m.jsxs)("div",{className:"admin-container upload-music",children:[Object(m.jsx)(c.b,{to:"/admin",children:Object(m.jsx)(Je.a,{children:"Return to Admin Home"})}),Object(m.jsx)("h1",{children:"Upload a music file (.mp3)"}),Object(m.jsx)(pt,{})]})},mt=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=function(){var e=Object(ce.a)(ie.a.mark((function e(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,Ne.getAll("music");case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()})),Object(m.jsxs)("div",{className:"admin-container",children:[Object(m.jsx)(c.b,{to:"/admin",children:Object(m.jsx)(Je.a,{children:"Return to Admin Home"})}),0===n.length?Object(m.jsx)("h1",{children:"No Music in DB"}):"",n.map((function(e){return Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(m.jsx)("div",{style:{margin:"1rem"},children:e.title}),Object(m.jsx)("div",{style:{margin:"1rem"},children:e.artist}),Object(m.jsx)(Je.a,{style:{margin:"1rem"},onClick:function(){var t;window.confirm("Delete this music from the DB?")&&(t=e._id,Ne.deleteOne("music",t))},children:"Delete"})]},e._id)}))]})},xt=n(168),vt=n(40),gt=n(81),yt=function(e){var t=e.src,n=e.width;return Object(m.jsx)("div",{style:{width:n||"3rem",margin:0},children:Object(m.jsx)("img",{src:t,className:"icon",width:"100%",style:{margin:0},alt:"icon"})})},wt=n.p+"static/media/trash.dec29e82.svg",St=n.p+"static/media/file-earmark-music.08161bfc.svg",kt=n.p+"static/media/clipboard-check.57659a4b.svg",_t=function(e){var t=e.old,n=e.onEditTitle,r=e.setEditingTitle,i=e.id,c=e.index,s=Object(a.useState)("Good to go!"),o=Object(l.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)(t),b=Object(l.a)(j,2),f=b[0],h=b[1];return Object(m.jsxs)("form",{children:[Object(m.jsx)("label",{htmlFor:"title",children:"New Name: "}),Object(m.jsx)("input",{onChange:function(e){return function(e,t,n,r){""===t?n("Name cannot be empty."):(n("Good to go!"),r(t))}(0,e.target.value,d,h)},className:"form-control",id:"title",defaultValue:t}),Object(m.jsx)($e.a,{variant:"Good to go!"===u?"success":"danger",children:u}),Object(m.jsx)(Je.a,{disabled:"Good to go!"!==u,onClick:function(){n(i,f,c),r(!1)},children:"Confirm"})]})},Ct=function(e){var t=e.question,n=e.addToSelected,r=Object(a.useState)(!1),i=Object(l.a)(r,2),c=i[0],s=i[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:Object(m.jsx)("input",{type:"checkbox",value:t.title,checked:c,onChange:function(){return t._id,s(!c),void n(t._id)}})}),t.title]})},Nt=function(e){var t=e.setCurrentQuestions,n=e.currentQuestions,r=e.id,i=e.allQuestions,c=Object(a.useState)([]),s=Object(l.a)(c,2),o=s[0],d=s[1],j=i.filter((function(e){return!n.includes(e._id)})),b=function(e){var t=o;if(o.includes(e)){var n=t.indexOf(e);t.splice(n,1)}else t.push(e);d(t)};return Object(m.jsxs)("form",{className:"add-question-form",onSubmit:function(e){e.preventDefault(),t([].concat(Object(u.a)(n),Object(u.a)(o))),Ne.patchOne("sets",r,{questions:[].concat(Object(u.a)(n),Object(u.a)(o))})},children:[j.map((function(e){return!n.includes(e)&&Object(m.jsx)(Ct,{question:e,addToSelected:b},e._id)})),Object(m.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Confirm"})]})},qt=function(e){var t=e.setCurrentQuestions,n=e.currentQuestions,r=e.id,i=e.allQuestions,c=Object(a.useState)([]),s=Object(l.a)(c,2),o=s[0],u=s[1],d=i.filter((function(e){return n.includes(e._id)})),j=function(e){var t=o;if(o.includes(e)){var n=t.indexOf(e);t.splice(n,1)}else t.push(e);u(t)};return Object(m.jsxs)("form",{className:"add-question-form",onSubmit:function(e){e.preventDefault();var n=d.filter((function(e){return!o.includes(e._id)}));t(n.map((function(e){return e._id}))),Ne.patchOne("sets",r,{questions:n})},children:[d.map((function(e){return Object(m.jsx)(Ct,{question:e,addToSelected:j},e._id)})),Object(m.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Confirm"})]})},Et=n(46),Dt=n(55);n(152);function At(e){var t=e.provided,n=e.style,r=e.isDragging,i=Object(j.a)(Object(j.a)({},n),t.draggableProps.style);return Object(j.a)(Object(j.a)({},i),{},{height:r?i.height:i.height-8,marginBottom:8})}function It(e){var t=e.provided,n=e.item,r=e.style,i=e.isDragging;return Object(m.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,style:At({provided:t,style:r,isDragging:i}),className:"item ".concat(i?"is-dragging":""),children:n.title}))}var Qt=s.a.memo((function(e){var t=e.data,n=e.index,r=e.style,i=t[n];return Object(m.jsx)(Et.b,{draggableId:i._id,index:n,children:function(e){return Object(m.jsx)(It,{provided:e,item:i,style:r})}},i._id)}),Dt.b),Pt=function(e){var t=e.curquestions,n=e.onChangeOrder,r=Object(a.useState)(t),i=Object(l.a)(r,2),c=i[0],s=i[1];var o=function(e){if(e.destination&&e.source.index!==e.destination.index){var t=function(e,t){var n=c.map((function(e){return e})),r=n.splice(e,1),i=Object(l.a)(r,1)[0];return n.splice(t,0,i),n}(e.source.index,e.destination.index);s(t)}};return Object(m.jsxs)("div",{children:[Object(m.jsx)(Et.a,{onDragEnd:function(e){return o(e)},children:Object(m.jsx)("div",{className:"dnd",children:Object(m.jsx)(Et.c,{droppableId:"droppable",mode:"virtual",renderClone:function(e,t,n){return Object(m.jsx)(It,{provided:e,isDragging:t.isDragging,item:c[n.source.index]})},children:function(e){return Object(m.jsx)(Dt.a,{height:80*c.length,itemCount:c.length,itemSize:80,width:300,outerRef:e.innerRef,itemData:c,children:Qt})}})})}),Object(m.jsx)(Je.a,{onClick:function(){return n(c)},children:"Done"})]})},Mt=function(e){var t=e.currentMod,n=e.buttonMod,r=e.children,i=e.setMod,c=e.disabled,a=t===n;return Object(m.jsx)(Je.a,{disabled:c,variant:a?"secondary":"primary",onClick:function(){return i(a?"":n)},children:r})},Rt=function(e,t,n){var r=e;r.questions=n,t(r)},Tt=function(e){var t=e.question;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:t.config&&t.config.condQuestion?"Conditional: "+t.config.condQuestion:""}),Object(m.jsx)("h1",{children:t.title}),Object(m.jsx)("h2",{style:{fontStyle:"italic"},children:t.input_type}),t.options.map((function(e){return Object(m.jsx)("li",{children:e},e)}))]})},Ft=function(e){var t=e.questions;return Object(m.jsx)(Ue.a,{children:t.map((function(e){return Object(m.jsx)(vt.a,{children:Object(m.jsx)(Tt,{question:e})},e._id)}))})},Lt=[{title:"Add Questions",mod:"add-q"},{title:"Remove Questions",mod:"rem-q"},{title:"Order Questions",mod:"ord-q"},{title:"View Questions",mod:"view-q"}],Wt=function(e){var t=e.inSet,n=e.index,r=e.onDeleteSet,i=e.onDuplicateSet,c=e.onMusicSwitch,s=e.onEditTitle,o=e.allQuestions,u=Object(a.useState)(t),d=Object(l.a)(u,2),j=d[0],b=d[1],f=Object(a.useState)(!1),h=Object(l.a)(f,2),p=h[0],O=h[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],y=v[1],w=j.title,S=j.music,k=j._id,_=j.questions?j.questions.length:0;return Object(m.jsxs)(Ue.a,{children:[Object(m.jsxs)(vt.a,{children:[Object(m.jsxs)(gt.a,{children:[p?Object(m.jsx)(_t,{old:w,onEditTitle:s,setEditingTitle:O,id:k,index:n}):w,Object(m.jsx)(Je.a,{onClick:function(){return O(!p)},style:{display:p?"none":""},children:"Edit Name"})]}),Object(m.jsx)(gt.a,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{htmlFor:"hasMusic",children:Object(m.jsx)(yt,{src:St,width:"2rem"})}),Object(m.jsx)("input",{type:"checkbox",value:"",id:"hasMusic",defaultChecked:S,onChange:function(){return c(k,!S,n)}})]})}),Object(m.jsxs)(gt.a,{children:[Object(m.jsxs)(vt.a,{children:["No. Questions in Set: ",_]}),Lt.map((function(e){return Object(m.jsx)(vt.a,{children:Object(m.jsx)(Mt,{setMod:y,buttonMod:e.mod,currentMod:g,disabled:"add-q"!==e.mod&&0===_||"add-q"===e.mod&&_>=o.length,children:e.title})},e.mod)}))]}),Object(m.jsxs)(gt.a,{children:[Object(m.jsx)(vt.a,{children:"Duplicate Set"}),Object(m.jsx)(vt.a,{children:Object(m.jsx)(Je.a,{onClick:function(){i(j)},children:Object(m.jsx)(yt,{src:kt,width:"2rem"})})}),Object(m.jsx)(vt.a,{children:"Delete Set"}),Object(m.jsx)(vt.a,{children:Object(m.jsx)(Je.a,{onClick:function(){r(k)},children:Object(m.jsx)(yt,{src:wt,width:"2rem"})})})]})]}),Object(m.jsxs)(vt.a,{children:["add-q"===g&&Object(m.jsx)(Nt,{setCurrentQuestions:function(e){Rt(j,b,e),y("")},currentQuestions:j.questions,allQuestions:o,id:j._id}),"rem-q"===g&&Object(m.jsx)(qt,{setCurrentQuestions:function(e){Rt(j,b,e),y("")},currentQuestions:j.questions,allQuestions:o,id:j._id}),"ord-q"===g&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Order Questions"}),Object(m.jsx)(Pt,{curquestions:j.questions.map((function(e){return o.filter((function(t){return t._id===e}))[0]})),onChangeOrder:function(e){var t=j,n=e.map((function(e){return e._id}));t.questions=n,b(t),y(""),Ne.putOne("sets",j._id,t)}})]}),"view-q"===g&&Object(m.jsx)(Ft,{questions:j.questions.map((function(e){return o.filter((function(t){return t._id===e}))[0]}))})]})]})},Bt=function(e){var t=e.onAddSet,n=Object(a.useState)("Name cannot be empty."),r=Object(l.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)({title:null,music:!0}),o=Object(l.a)(s,2),u=o[0],d=o[1];return Object(m.jsxs)(Ue.a,{children:[Object(m.jsxs)(vt.a,{children:[Object(m.jsx)("label",{htmlFor:"set-name",children:"Set Name:"}),Object(m.jsx)("input",{onChange:function(e){return function(e,t,n,r){""===t?n("Name cannot be empty."):(n("Good to go!"),r({title:t,music:e.music}))}(u,e.target.value,c,d)}}),Object(m.jsx)($e.a,{variant:"Good to go!"===i?"success":"danger",children:i})]}),Object(m.jsxs)(vt.a,{children:[Object(m.jsx)("label",{htmlFor:"set-music",children:"Has Music:"}),Object(m.jsx)("input",{onChange:function(e){d({title:u.title,music:!u.music})},type:"checkbox",className:"align-self-center",defaultChecked:!0})]}),Object(m.jsx)(vt.a,{children:Object(m.jsx)(Je.a,{disabled:"Good to go!"!==i,onClick:function(){return t(u.title,u.music)},children:"Create"})})]})},Ht=[25,50,100,200,300],Gt=function(e){var t=e.config,n=e.setConfig;return Object(m.jsxs)(Ue.a,{children:[Object(m.jsx)(vt.a,{children:Object(m.jsx)("h2",{children:"Select Short Answer Max Character Length"})}),Object(m.jsx)(vt.a,{children:Ht.map((function(e){return Object(m.jsxs)(gt.a,{children:[Object(m.jsx)("input",{type:"radio",name:"maxLength",value:e,defaultChecked:25===e,onChange:function(){t.maxLength=e,n(t)}}),Object(m.jsx)("label",{children:e})]},e)}))})]})},Kt=function(e){var t=e.onNewQuestion,n=e.allQuestions,r=Object(a.useState)(""),i=Object(l.a)(r,2),c=i[0],s=i[1],o=Object(a.useState)("multiple-choice"),u=Object(l.a)(o,2),d=u[0],j=u[1],b=Object(a.useState)(""),f=Object(l.a)(b,2),h=f[0],p=f[1],O=Object(a.useState)({}),x=Object(l.a)(O,2),v=x[0],g=x[1];return Object(m.jsxs)("form",{className:"new-question-form",onSubmit:function(e){e.preventDefault(),n.filter((function(e){return e.title===c})).length>0?alert("There is already a question like that. Please change the question"):c?d?"multiple-choice"===d&&!h||"check-box"===d&&!h?alert("Please add options for multiple choice and checkbox questions"):t(c,d,h,v):alert("Please select a question type"):alert("Please enter a question")},children:[Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"Conditional question (optional):"})}),Object(m.jsx)("input",{type:"text",onChange:function(e){var t=v;t.condQuestion=e.target.value,g(t)}}),Object(m.jsx)("br",{}),Object(m.jsx)($e.a,{variant:"info",children:"The conditional question is used if you would like a Yes/No response before the question. Ex: Do you have synesthesia? (if Yes) Do you associate a color with this piece?"}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"Enter Question: "})}),Object(m.jsx)("input",{type:"text",placeholder:"Ask Here...",value:c,onChange:function(e){return s(e.target.value)}}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"Question Type: "})}),Object(m.jsx)("div",{onChange:function(e){return j(e.target.value)},children:[{name:"Multiple Choice",value:"multiple-choice",description:"User selects one option from several. Does not provide None of the Above option. It must be entered as an option if desired."},{name:"Checkbox",value:"check-box",description:"User selects as many options as apply to them. None of the Above response option is built-in and not necessary to specify."},{name:"Short Answer",value:"short-answer",description:"User writes a response with the specified word maximum."},{name:"Color",value:"color",description:"User answers Yes/No to the question then chooses a color if answered yes. Example question: Do you have a favorite color?"},{name:"Likert",value:"slider",description:"User disagrees or agrees with the provided statement on a scale of 1 to 5. Example statement: I am excited to hear this music."}].map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"radio",value:e.value,name:"option",defaultChecked:"multiple-choice"===e.value}),Object(m.jsx)("label",{htmlFor:e.value,children:e.name}),e.value===d&&Object(m.jsx)($e.a,{variant:"info",children:e.description})]},e.value)}))}),("multiple-choice"===d||"check-box"===d)&&Object(m.jsx)("label",{children:"Options (please separate each option with a semicolon)"}),("multiple-choice"===d||"check-box"===d)&&Object(m.jsx)("input",{type:"text",placeholder:"options",value:h,onChange:function(e){return p(e.target.value)}}),"short-answer"===d&&Object(m.jsx)(Gt,{config:v,setConfig:g}),Object(m.jsx)("input",{className:"submit btn btn-primary",type:"submit",value:"Create New Question"})]})},Ut=function(e){var t=e.allQuestions,n=e.setAllQuestions,r=e.sets,i=e.setSets,c=e.onDeleteQuestion,s=r,o=Object(a.useState)([]),u=Object(l.a)(o,2),d=u[0],j=u[1],b=function(){var e=Object(ce.a)(ie.a.mark((function e(r){var a,o,l,u;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!window.confirm("Delete these questions?")){e.next=13;break}for(n(t.filter((function(e){return!d.includes(e._id)}))),c(),a=0;a<d.length;a++)for(o=0;o<s.length;o++)for(l=0;l<s[o].questions.length;l++)s[o].questions[l]===d[a]&&(s[o].questions.splice(l,1),Ne.putOne("sets",s[o]._id,s[o]));i(s),u=0;case 7:if(!(u<d.length)){e.next=13;break}return e.next=10,Ne.deleteOne("questions",d[u]);case 10:u++,e.next=7;break;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:b,children:[t.map((function(e){return Object(m.jsxs)("div",{onChange:function(e){!function(e){for(var t=[],n=0;n<d.length;n++)t.push(d[n]);for(var r=0;r<t.length;r++)if(e===d[r])return t.splice(r,1),void j(t);t.push(e),j(t)}(e.target.value)},children:[Object(m.jsx)("input",{type:"checkbox",value:e._id,name:"question"}),e.title]},e.title)})),Object(m.jsx)("input",{className:"submit btn btn-primary",type:"submit",value:"Delete Selected Questions"})]})},Yt=function(e){var t=e.type,n=e.sets,r=e.setSets,i=e.allQuestions,c=e.setAllQuestions,a=e.setBigMod,s=e.onChangeOrder,o=e.onAddSet,l=e.onNewQuestion,u=function(e){return function(){a(""),e&&e.apply(void 0,arguments)}};switch(t){default:return null;case"new-set":return Object(m.jsx)(Bt,{onAddSet:u(o)});case"new-q":return Object(m.jsx)(Kt,{onNewQuestion:u(l),allQuestions:i});case"reorder":return Object(m.jsx)(Pt,{curquestions:n,onChangeOrder:u(s)});case"delete-q":return Object(m.jsx)(Ut,{allQuestions:i,setAllQuestions:c,sets:n,setSets:r,onDeleteQuestion:u()})}},Vt=n.p+"static/media/plus.5eec52d7.svg",zt=[{title:"Create a New Set",mod:"new-set",icon:Vt},{title:"Reorder Sets",mod:"reorder",icon:n.p+"static/media/list-ol.41b2a29b.svg"},{title:"Create a New Question",mod:"new-q",icon:Vt},{title:"Delete a Question",mod:"delete-q",icon:wt}],Zt=function(e){var t=e.bigMod,n=e.setBigMod;return Object(m.jsx)(Ue.a,{children:Object(m.jsx)(vt.a,{children:zt.map((function(e){return Object(m.jsxs)(gt.a,{children:[Object(m.jsx)(vt.a,{children:e.title}),Object(m.jsx)(vt.a,{children:Object(m.jsx)(Mt,{buttonMod:e.mod,currentMod:t,setMod:n,children:Object(m.jsx)(yt,{src:e.icon})})})]},e.mod)}))})})},Jt=function(e){var t=e.sets,n=e.setSets,r=e.allQuestions,i=e.setAllQuestions,c=e.onDelete,s=e.onDuplicate,o=e.onAddSet,u=e.onNewQuestion,d=e.onChangeOrder,j=e.onMusicSwitch,b=e.onEditTitle,f=Object(a.useState)(""),h=Object(l.a)(f,2),p=h[0],O=h[1];return Object(m.jsx)(Ue.a,{children:Object(m.jsxs)(xt.a,{children:[Object(m.jsxs)(xt.a.Item,{children:[Object(m.jsx)("h1",{children:"Survey Modification Menus"}),Object(m.jsx)(Zt,{bigMod:p,setBigMod:O})]}),Object(m.jsx)(xt.a.Item,{children:Object(m.jsx)(Yt,{type:p,sets:t,setSets:n,setBigMod:O,onChangeOrder:d,onAddSet:o,onNewQuestion:u,allQuestions:r,setAllQuestions:i})}),Object(m.jsxs)(xt.a.Item,{children:[Object(m.jsx)("h1",{children:"Survey Sets"}),Object(m.jsxs)(vt.a,{children:[Object(m.jsx)(gt.a,{children:"Set Name"}),Object(m.jsx)(gt.a,{children:"Has Music?"}),Object(m.jsx)(gt.a,{children:"Edit Questions"}),Object(m.jsx)(gt.a,{children:"Duplicate or Delete Set"})]})]}),t.map((function(e,t){return Object(m.jsx)(Ue.a,{children:Object(m.jsx)(xt.a.Item,{children:Object(m.jsx)(Wt,{inSet:e,index:t,onDeleteSet:c,onDuplicateSet:s,onMusicSwitch:j,onEditTitle:b,onAddQuestions:u,allQuestions:r})},e._id)},e._id)}))]})})};n(154);var $t=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),s=Object(l.a)(i,2),o=s[0],d=s[1],j=Object(a.useState)([]),b=Object(l.a)(j,2),f=b[0],h=b[1];Object(a.useEffect)((function(){var e=function(){var e=Object(ce.a)(ie.a.mark((function e(){var t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getAll("questions");case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Me(d,r),e()}),[]);var p=function(){var e=Object(ce.a)(ie.a.mark((function e(t){var i,c,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm("Delete this set?")){e.next=10;break}return Ne.deleteOne("sets",t),d(o.filter((function(e){return e._id!==t}))),i=n.filter((function(e){return e!==t})),c={sets:i},e.next=8,Ne.patch("set-order",c);case 8:a=e.sent,r(a.sets);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(ce.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.title,t.music,t.questions);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(ce.a)(ie.a.mark((function e(t,i){var c,a,s,l,j,b,f=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.length>2&&void 0!==f[2]?f[2]:[],a={title:t,questions:c,music:i},e.next=4,Ne.post("sets",a);case 4:return s=e.sent,d([].concat(Object(u.a)(o),[s])),(l=n).push(s._id),j={sets:l},e.next=11,Ne.patch("set-order",j);case 11:b=e.sent,r(b.sets);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n,r,i){var c,a,s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={title:t,input_type:n,config:i},""!==r&&(a=g(r),c.options=a),e.next=4,Ne.post("questions",c);case 4:s=e.sent,h([].concat(Object(u.a)(f),[s]));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();function g(e){var t=[];if(!e)return null;for(var n=0,r=0;r<e.length;r++){if(";"===e.charAt(r)){var i=e.substring(n,r).trim();t.push(i),n=r+1}}var c=e.substring(n,e.length).trim();return""!==c&&t.push(c),t}var y=function(){var e=Object(ce.a)(ie.a.mark((function e(t){var n,i,c,a,s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={sets:t},e.next=3,Ne.patch("set-order",n);case 3:i=e.sent,r(i.sets),c=[],a=0;case 7:if(!(a<i.sets.length)){e.next=19;break}s=0;case 9:if(!(s<t.length)){e.next=16;break}if(i.sets[a]!==t[s]._id){e.next=13;break}return c.push(t[s]),e.abrupt("break",16);case 13:s++,e.next=9;break;case 16:a++,e.next=7;break;case 19:d(c);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n,r){var i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ne.patchOne("sets",t,{music:n}),(i=o)[r].music=n,d(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(ce.a)(ie.a.mark((function e(t,n,r){var i;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ne.patchOne("sets",t,{title:n}),(i=o)[r].title=n,d(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"outer-div admin-container",children:[Object(m.jsx)(c.b,{to:"/admin",children:Object(m.jsx)(Je.a,{children:"Return to Admin Home"})}),Object(m.jsx)(Jt,{sets:o,setSets:d,allQuestions:f,setAllQuestions:h,onDelete:p,onDuplicate:O,onAddSet:x,onNewQuestion:v,onChangeOrder:y,onMusicSwitch:w,onEditTitle:S})]})},Xt=function(e,t){var n="";if(1===t.length)n=e[t];else for(var r=[].concat(Object(u.a)(e),["None of the Above"]),i=0;i<t.length;i++)"1"===t[i]&&(n+="".concat(r[i],";"));return n},en=n(82),tn=(0,n(155).createObjectCsvStringifier)({header:[{id:"userId",title:"User (ID)"},{id:"pieceInfo",title:"Piece Info"},{id:"questionTitle",title:"Question"},{id:"answer",title:"Answer"}]}),nn=function(e){var t=tn.getHeaderString()+tn.stringifyRecords(e),n=new Blob([t]);Object(en.saveAs)(n,"data.csv")},rn=function(e,t){var n=0,r=0;for(t[n]&&(r=t[n]);e>=r;)r+=t[n],n+=1;return console.log(e,n),n},cn=function(){var e=Object(ce.a)(ie.a.mark((function e(){var t,n,r,i,c,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getAll("responses");case 2:return t=e.sent,e.next=5,Ne.getAll("questions");case 5:return n=e.sent,e.next=8,Ne.getAll("music");case 8:if(r=e.sent,t.length&&n.length){for(i=[],c=function(e){for(var c=t[e],a=c._id,s=function(e){var t=r.find((function(t){return null!==t&&t._id===c.musicids[rn(e,c.questionGroups)]})),s=n.find((function(t){return null!==t&&t._id===c.questions[e]})),o="";if(!s)return"continue";o=0===s.options.length?c.answers[e]:Xt(s.options,c.answers[e]);for(var l=0;l<s.options;l++);i.push({userId:a,pieceInfo:t?JSON.stringify(t):"No Music",questionTitle:s.title,answer:o})},o=0;o<c.questions.length;o++)s(o)},a=0;a<t.length;a++)c(a);nn(i)}case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=function(){return Object(m.jsxs)("div",{className:"admin-container",children:[Object(m.jsx)(c.b,{to:"/admin",children:Object(m.jsx)(Je.a,{children:"Return to Admin Home"})}),Object(m.jsx)(Je.a,{onClick:cn,children:"Download Data (CSV)"})]})},sn=function(){return Object(m.jsxs)(Ue.a,{children:[Object(m.jsx)("h1",{className:"h1",children:"Admin Home Page"}),Object(m.jsx)(c.b,{to:"/admin/modifysurvey",children:Object(m.jsx)(Je.a,{children:"Modify Survey"})}),Object(m.jsx)(c.b,{to:"/admin/uploadmusic",children:Object(m.jsx)(Je.a,{children:"Upload Music"})}),Object(m.jsx)(c.b,{to:"/admin/downloaddata",children:Object(m.jsx)(Je.a,{children:"Download Data"})}),Object(m.jsx)(c.b,{to:"/admin/viewmusic",children:Object(m.jsx)(Je.a,{children:"View/Delete Music"})})]})};function on(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}function ln(){on(),window.addEventListener("resize",on)}var un=function(){return ln(),document.addEventListener("touchstart",(function(e){e.preventDefault()})),document.addEventListener("touchmove",(function(e){e.preventDefault()})),Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)(o.e,{children:[Object(m.jsx)(o.c,{path:"/survey",component:We}),Object(m.jsx)(o.c,{path:"/home",component:Ve}),Object(m.jsx)(nt,{path:"/admin/modifysurvey",component:$t}),Object(m.jsx)(nt,{path:"/admin/uploadmusic",component:Ot}),Object(m.jsx)(nt,{path:"/admin/viewmusic",component:mt}),Object(m.jsx)(nt,{path:"/admin/downloaddata",component:an}),Object(m.jsx)(nt,{path:"/admin",component:sn}),Object(m.jsx)(o.c,{path:"/not-found",component:ze}),Object(m.jsx)(o.b,{from:"/",exact:!0,to:"/home"}),Object(m.jsx)(o.b,{to:"/not-found"})]})})},dn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};Ne.postToken(),i.a.render(Object(m.jsx)(c.a,{children:Object(m.jsx)(un,{})}),document.getElementById("root")),dn()},86:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){}},[[166,1,2]]]);
//# sourceMappingURL=main.a47d2efb.chunk.js.map